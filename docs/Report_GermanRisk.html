<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Louis Mono" />


<title>Capstone2: German credit Risk</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.5/datatables.js"></script>
<link href="site_libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="site_libs/selectize-0.12.0/selectize.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">German Credit Risk Report</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Report_GermanRisk.html">Report</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Capstone2: German credit Risk</h1>
<h4 class="author"><em>Louis Mono</em></h4>

</div>


<style>
body {
text-align: justify}
</style>
<p><br></p>
<style type="text/css">

h1.title {
  font-size: 35px;

}

</style>
<style>
p.comment {
background-color: #DBDBDB;
padding: 10px;
border: 1px solid black;
margin-left: 1px;
border-radius: 5px;
font-style: italic;
}

</style>
<div id="abstract" class="section level3">
<h3><em>Abstract</em></h3>
<p class="comment">
A <strong>credit score</strong> is a numerical expression based on a level analysis of a person’s credit files, to represent the creditworthiness of an individual. Lenders, such as banks and credit card companies, use credit scores to evaluate the potential risk posed by lending money to consumers and to mitigate losses due to bad debt. Generally, financial institutions utilize it as a method to support the decision-making about credit applications. Both Machine learning (ML) and Artificial intelligence (AI) techniques have been explored for credit scoring . Although there are no consistent conclusions on which ones are better, recent studies suggest combining multiple classifiers, i.e., ensemble learning, may have a better performance. In our study, using the <a href="https://archive.ics.uci.edu/ml/datasets/Statlog+(German+Credit+Data)">german credit data</a> available on the UCI Machine Learning Repository we assessed the performance of different Machine learning techniques based on their overall accuracy, but not only, since we supported our results with accuracy measures such as AUC, F1-score, KS and Gini . Our findings suggest that random forest model with tuning parameters , support vector machine based on vanilladot Linear kernel function and lasso regression, with a good overall accuracy values lead us to the most performant AUC values, 0.7833 , 0.7794 and 0.7675, respectively.
</p>
<p><br> <br></p>
</div>
<div id="i.-introduction" class="section level3">
<h3>I. Introduction</h3>
<p>The purpose of credit scoring is to classify the applicants into two types : applicants with good credit and applicants with bad credits. When a bank receives a loan application , applicants with good credit have great possibility to repay financial obligation. Applicants with bad credit have high possibility of defaulting. The accuracy of credit scoring is critical to financial institutions profitability . Even 1% improvement on the accuracy of credit scoring of applicants with bad credit will decreases a great loss for financial institutions (Hand &amp; Henley, 1997).</p>
<p>This study aims at adressing this classification problem by using the the applicant’s demographic and socio-economic profiles of <strong>german credit data</strong> to examine the risk of lending loan to the customer. We assessed the performance of different Machine learning algorithms (Logistic regression model , Decision tree, random forests, Support vector machines ,neural networks, Lasso ) in terms of overall accuracy. For the model optimization, we conducted a comparative assessment of different models combining the effects of Gini, KS, F1-score, balanced accuracy and the area under the ROC curve (AUC) values.</p>
<p>The remainder of the report is organized as follow. In section 2, a general insight of the <strong>Dataset</strong> is presented, with a particular attention to the Data exploration. In section 3, we perform the <strong>Data Pre-processing</strong>. Section 4 explains the <strong>Methods and Analysis</strong> over different Machine learning techniques we used and presents the metrics for the models performance evaluation, while section 5 contains our main <strong>Results</strong>. Section 6 draws <strong>Conclusions and suggestions</strong>.</p>
<p><br></p>
</div>
<div id="ii.-dataset" class="section level3">
<h3>II. Dataset</h3>
<p><br></p>
<div id="overview" class="section level4">
<h4><span style="color:red">2.1. Overview</span></h4>
<p><br></p>
<p><code>Loading library and data</code></p>
<pre class="r"><code>#library

library(tidyverse)
library(rchallenge)
library(caret)
library(RColorBrewer)
library(reshape2)
library(lattice)
library (rpart)
library(rpart.plot) 
library(rattle)
library(ROCR)
library(ggpubr)
library(ggthemes)
library(randomForest)
library(Information)
library(VIM)
library(Boruta)
library(e1071)
library(kernlab)
library(gridExtra)
library(nnet)
library(NeuralNetTools)
library(lars)
library(glmnet)
library(kableExtra)
library(doSNOW)
library(doParallel)
library(rmdformats)

#data
data(&quot;german&quot;)

#get class/glimpse of data
class(german)</code></pre>
<pre class="bg-primary"><code> &quot;data.frame&quot;</code></pre>
<pre class="r"><code>glimpse(german)</code></pre>
<pre class="bg-primary"><code>Observations: 1,000
Variables: 21
$ Duration                  &lt;dbl&gt; 6, 48, 12, 42, 24, 36, 24, 36, 12, 3...
$ Amount                    &lt;dbl&gt; 1169, 5951, 2096, 7882, 4870, 9055, ...
$ InstallmentRatePercentage &lt;dbl&gt; 4, 2, 2, 2, 3, 2, 3, 2, 2, 4, 3, 3, ...
$ ResidenceDuration         &lt;dbl&gt; 4, 2, 3, 4, 4, 4, 4, 2, 4, 2, 1, 4, ...
$ Age                       &lt;dbl&gt; 67, 22, 49, 45, 53, 35, 53, 35, 61, ...
$ NumberExistingCredits     &lt;dbl&gt; 2, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, ...
$ NumberPeopleMaintenance   &lt;dbl&gt; 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, ...
$ Telephone                 &lt;fct&gt; none, yes, yes, yes, yes, none, yes,...
$ ForeignWorker             &lt;fct&gt; yes, yes, yes, yes, yes, yes, yes, y...
$ CheckingAccountStatus     &lt;fct&gt; lt.0, 0.to.200, none, lt.0, lt.0, no...
$ CreditHistory             &lt;fct&gt; Critical, PaidDuly, Critical, PaidDu...
$ Purpose                   &lt;fct&gt; Radio.Television, Radio.Television, ...
$ SavingsAccountBonds       &lt;fct&gt; Unknown, lt.100, lt.100, lt.100, lt....
$ EmploymentDuration        &lt;fct&gt; gt.7, 1.to.4, 4.to.7, 4.to.7, 1.to.4...
$ Personal                  &lt;fct&gt; Male.Single, Female.NotSingle, Male....
$ OtherDebtorsGuarantors    &lt;fct&gt; None, None, None, Guarantor, None, N...
$ Property                  &lt;fct&gt; RealEstate, RealEstate, RealEstate, ...
$ OtherInstallmentPlans     &lt;fct&gt; None, None, None, None, None, None, ...
$ Housing                   &lt;fct&gt; Own, Own, Own, ForFree, ForFree, For...
$ Job                       &lt;fct&gt; SkilledEmployee, SkilledEmployee, Un...
$ Class                     &lt;fct&gt; Good, Bad, Good, Good, Bad, Good, Go...</code></pre>
<p>The German Credit data is a dataset provided by Dr. Hans Hofmann of the University of Hamburg. It’s a publically available from the UCI Machine Learning repository at the following link: <a href="https://archive.ics.uci.edu/ml/datasets/Statlog+(German+Credit+Data)" class="uri">https://archive.ics.uci.edu/ml/datasets/Statlog+(German+Credit+Data)</a>. However, this dataset is also built-in in some R packages, like <a href="https://topepo.github.io/caret/data-sets.html#german-credit-data">caret</a> , <a href="https://cran.r-project.org/web/packages/rchallenge/rchallenge.pdf">rchallenge</a> or <a href="https://www.rdocumentation.org/packages/evtree/versions/1.0-7/topics/GermanCredit">evtree</a>. We decided to use directly the german data from the rchallenge package , which is a transformed version of the GermanCredit dataset with factors instead of dummy variables.</p>
<p>Getting a glimpse of german data, we observe it’s a data frame containing 21 variables for a total of 1,000 observations . The response variable (<strong>or outcome,y</strong>) in the dataset corresponds to the <strong>Class</strong> label, which is a binary variable indicating credit risk or credit worthiness with levels Good and Bad. Here, we are going to describe the 20 features and their characteristics:</p>
<p><strong><em>quantitative features</em></strong></p>
<p>-<em>Duration</em> : duration in months.</p>
<p>-<em>Amount</em>: credit Amount.</p>
<p>-<em>InstallmentRatePercentage</em>: installment rate in percentage of disposable income.</p>
<p>-<em>ResidenceDuration</em>: present residence since .</p>
<p>-<em>Age</em> : Client’s age.</p>
<p>-<em>NumberExistingCredits</em>: number of existing credits at this bank.</p>
<p>-<em>NumberPeopleMaintenance</em>: number of people being liable to provide maintenance.</p>
<p><strong><em>qualitative features</em></strong></p>
<p>-<em>Telephone</em>: binary variable indicating if customer has a registered telephone number</p>
<p>-<em>ForeignWorker</em>: binary variable indicating if the customer is a foreign worker</p>
<p>-<em>CheckingAccountStatus</em>: factor variable indicating the status of checking account</p>
<p>-<em>CreditHistory</em>: factor variable indicating credit history</p>
<p>-<em>Purpose</em>: factor variable indicating the credit’s purpose</p>
<p>-<em>SavingsAccountBonds</em>: factor variable indicating the savings account/bonds</p>
<p>-<em>EmploymentDuration</em>: ordered factor indicating the duration of the current employment</p>
<p>-<em>Personal</em>: factor variable indicating personal status and sex</p>
<p>-<em>OtherDebtorsGuarantors</em>: factor variable indicating Other debtors</p>
<p>-<em>Property</em>: factor variable indicating the client’s highest valued property</p>
<p>-<em>OtherInstallmentPlans</em>: factor variable indicating other installment plans</p>
<p>-<em>Housing</em>: factor variable indicating housing</p>
<p>-<em>Job</em>: factor indicating employment status</p>
<p><br> <br></p>
</div>
<div id="data-exploration" class="section level4">
<h4><span style="color:red">2.2. Data exploration</span></h4>
<p><br></p>
<p>First,summary statistics of the 21 variables are presented , out of which 7 are numerical attributes. Also, we can identify the various levels for the 14 categorical attributes including the outcome.</p>
<pre class="r"><code>summary(german)</code></pre>
<pre class="bg-primary"><code>    Duration        Amount      InstallmentRatePercentage
 Min.   : 4.0   Min.   :  250   Min.   :1.000            
 1st Qu.:12.0   1st Qu.: 1366   1st Qu.:2.000            
 Median :18.0   Median : 2320   Median :3.000            
 Mean   :20.9   Mean   : 3271   Mean   :2.973            
 3rd Qu.:24.0   3rd Qu.: 3972   3rd Qu.:4.000            
 Max.   :72.0   Max.   :18424   Max.   :4.000            
                                                         
 ResidenceDuration      Age        NumberExistingCredits
 Min.   :1.000     Min.   :19.00   Min.   :1.000        
 1st Qu.:2.000     1st Qu.:27.00   1st Qu.:1.000        
 Median :3.000     Median :33.00   Median :1.000        
 Mean   :2.845     Mean   :35.55   Mean   :1.407        
 3rd Qu.:4.000     3rd Qu.:42.00   3rd Qu.:2.000        
 Max.   :4.000     Max.   :75.00   Max.   :4.000        
                                                        
 NumberPeopleMaintenance Telephone  ForeignWorker CheckingAccountStatus
 Min.   :1.000           none:404   no : 37       lt.0    :274         
 1st Qu.:1.000           yes :596   yes:963       0.to.200:269         
 Median :1.000                                    gt.200  : 63         
 Mean   :1.155                                    none    :394         
 3rd Qu.:1.000                                                         
 Max.   :2.000                                                         
                                                                       
          CreditHistory                Purpose     SavingsAccountBonds
 NoCredit.AllPaid: 40   Radio.Television   :280   lt.100     :603     
 ThisBank.AllPaid: 49   NewCar             :234   100.to.500 :103     
 PaidDuly        :530   Furniture.Equipment:181   500.to.1000: 63     
 Delay           : 88   UsedCar            :103   gt.1000    : 48     
 Critical        :293   Business           : 97   Unknown    :183     
                        Education          : 50                       
                        (Other)            : 55                       
  EmploymentDuration                    Personal   OtherDebtorsGuarantors
 lt.1      :172      Male.Divorced.Seperated: 50   None       :907       
 1.to.4    :339      Female.NotSingle       :310   CoApplicant: 41       
 4.to.7    :174      Male.Single            :548   Guarantor  : 52       
 gt.7      :253      Male.Married.Widowed   : 92                         
 Unemployed: 62      Female.Single          :  0                         
                                                                         
                                                                         
       Property   OtherInstallmentPlans    Housing   
 RealEstate:282   Bank  :139            Rent   :179  
 Insurance :232   Stores: 47            Own    :713  
 CarOther  :332   None  :814            ForFree:108  
 Unknown   :154                                      
                                                     
                                                     
                                                     
                                 Job       Class    
 UnemployedUnskilled               : 22   Bad :300  
 UnskilledResident                 :200   Good:700  
 SkilledEmployee                   :630             
 Management.SelfEmp.HighlyQualified:148             
                                                    
                                                    
                                                    </code></pre>
<p><br> <br></p>
<div id="outcome-y-class" class="section level5">
<h5><strong><code>outcome, y : Class</code></strong></h5>
<p>Visual exploration of the outcome, the credit worthiness, shows that there are more people with a good risk than a bad one. In fact, 70% of applicants have a good credit risk while about 30% have a bad credit risk .Then, class are unbalanced and for our subsequent analysis the data splitting in training set and test set should be done with a stratified random sampling method.</p>
<pre class="r"><code>#i create Class.prop, an object of Class &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;.It contains the calculated relative frequencies or proportions for the levels Bad/Good of the credit worthiness in the german credit data.

Class.prop &lt;- german %&gt;% 
  count(Class) %&gt;% 
  mutate(perc = n / nrow(german)) </code></pre>
<pre class="r"><code># bar plot of credit worthiness

Class.prop %&gt;%
 ggplot(aes(x=Class,y= perc,fill=Class))+
 geom_bar(stat=&quot;identity&quot;) +
 labs(title=&quot;bar plot&quot;,
      subtitle = &quot;Credit worthiness&quot;,
      caption=&quot; source: german credit data&quot;) +
  geom_text(aes(label=scales::percent(perc)), position = position_stack(vjust = 1.01))+
  scale_y_continuous(labels = scales::percent)+
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-6-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><br> <br></p>
</div>
<div id="quantitative-features." class="section level5 tabset tabset-fade tabset-pills">
<h5><strong><code>quantitative features</code></strong>.</h5>
<p><br> Data exploration of numerical attributes disclosed the following insights:</p>
<ul>
<li><p><strong>Age</strong> : From the age variable, we see that the median value for bad risk records is lesser than that of good records, it might be premature to say young people tend to have bad credit records, but we can safely assume it tends to be riskier.</p></li>
<li><p><strong>Duration, Amount</strong> : Duration in months as well as credit Amount , appears to show higher median value for bad risk with respect to good risk. Also, the range of these two variables, are more wide for the bad risk records than the good ones. When plotting their density curve along the vertical line for their mean value, we observe that neither Duration in months nor Amount credit is normally distributed. Data tends to show a right skewed distribution especially for the Amount credit variable.</p></li>
<li><p><strong>InstallmentRatePercentage</strong> : The bar plot of installment rate shows a significant difference between good and bad credits risk . The number of good records seem to be the double of bad records. When we look at the Box plot, it reveals that the median value for bad records is higher than the good ones even if the two Classes appear to have the same range.</p></li>
<li><p><strong>NumberExistingCredits, ResidenceDuration, NumberPeopleMaintenance</strong> : we almost bring up a similar observation for these attributes. While they have their two credit worthiness class “good/bad” which seem to show the same range( cf. boxplot) , good records are always higher than the bad ones(cf bar plot). When we compare some of descriptive statistics of two risks for each of these variable, we observe how mean, median, and sd are almost equal.</p></li>
</ul>
<p><br> <br></p>
<div id="clients-age" class="section level6">
<h6>client’s Age</h6>
<pre class="r"><code>ggplot(melt(german[,c(5,21)]), aes(x = variable, y = value, fill = Class)) + 
  geom_boxplot() +
  xlab(&quot;Class&quot;) +
  ylab(&quot;Age&quot;) +
  labs(title=&quot;Box plot&quot;, subtitle=&quot;client&#39;s age grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-7-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="duration-in-months" class="section level6">
<h6>Duration in months</h6>
<pre class="r"><code>avg.duration &lt;- german %&gt;%
  select(Duration, Class) %&gt;%
  group_by(Class) %&gt;%
  summarise(m=mean(Duration))

german%&gt;% 
  ggplot(aes(Duration))+
  geom_density(aes(fill=Class),alpha=0.7) + 
  geom_vline(data=avg.duration,aes(xintercept= m , colour= Class), lty = 4 ,size=2)+
  labs(title=&quot;Density plot&quot;, 
       subtitle=&quot;Duration in months grouped by credit worthiness&quot;,
       caption=&quot;Source: german credit data&quot;,
       x=&quot;Duration&quot;,
       fill=&quot;Class&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-8-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(reshape2::melt(german[,c(1,21)]), aes(x = variable, y = value, fill = Class)) + 
  geom_boxplot() +
  xlab(&quot;Class&quot;) +
  ylab(&quot;Duration&quot;) +
  labs(title=&quot;Box plot&quot;, subtitle=&quot;Duration in months grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-8-2.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="credit-amount" class="section level6">
<h6>credit Amount</h6>
<pre class="r"><code>avg.amount &lt;- german %&gt;%
  select(Amount, Class) %&gt;%
  group_by(Class) %&gt;%
  summarise(m=mean(Amount))

german%&gt;% 
  ggplot(aes(Amount))+
  geom_density(aes(fill=Class),alpha=0.7) + 
  geom_vline(data=avg.amount,aes(xintercept= m , colour= Class), lty = 4 ,size=2)+
  labs(title=&quot;Density plot&quot;, 
       subtitle=&quot;credit amount grouped by credit worthiness&quot;,
       caption=&quot;Source: german credit data&quot;,
       x=&quot;Amount&quot;,
       fill=&quot;Class&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-9-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(reshape2::melt(german[,c(2,21)]), aes(x = variable, y = value, fill = Class)) + 
  geom_boxplot() +
  xlab(&quot;Class&quot;) +
  ylab(&quot;Amount&quot;) +
  labs(title=&quot;Box plot&quot;, subtitle=&quot;credit amount grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-9-2.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="installment-rate" class="section level6">
<h6>Installment rate</h6>
<pre class="r"><code>german %&gt;% 
  ggplot(aes(InstallmentRatePercentage, ..count..)) + 
  geom_bar(aes(fill=Class), position =&quot;dodge&quot;)+
  labs(title=&quot;bar plot&quot;, subtitle=&quot;InstallmentRatePercentage grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-10-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(reshape2::melt(german[,c(3,21)]), aes(x = variable, y = value, fill = Class)) + 
  geom_boxplot() +
  xlab(&quot;Class&quot;) +
  ylab(&quot;Install_rate_perc&quot;) +
  labs(title=&quot;Box plot&quot;, subtitle=&quot;InstallmentRatePercentage grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-10-2.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="numberexistingcredits" class="section level6">
<h6>NumberExistingCredits</h6>
<pre class="r"><code># we just report here barplot/boxplot for the attribute NumberExistingCredits,
# but we show descriptive statistics including also NumberPeopleMaintenance and  #ResidenceDuration. To produce their barplot and boxplot , just repeat the code below and replace with their variable name.

german %&gt;% 
  ggplot(aes(NumberExistingCredits, ..count..)) + 
  geom_bar(aes(fill=Class), position =&quot;dodge&quot;)+
  labs(title=&quot;bar plot&quot;, subtitle=&quot;Number of existing credits grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-11-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>ggplot(reshape2::melt(german[,c(6,21)]), aes(x = variable, y = value, fill = Class)) + 
  geom_boxplot() +
  xlab(&quot;Class&quot;) +
  ylab(&quot;n_credits&quot;) +
  labs(title=&quot;Box plot&quot;, subtitle=&quot;Number of existing credits grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-11-2.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code># Compare mean, median and sd of two Class  for each of these attributes

german%&gt;% group_by(Class) %&gt;% 
  summarize(ncredits.mean=mean(NumberExistingCredits), 
            ncredits.median=median(NumberExistingCredits), 
            ncredits.sd = sd(NumberExistingCredits))</code></pre>
<pre class="bg-primary"><code># A tibble: 2 x 4
  Class ncredits.mean ncredits.median ncredits.sd
  &lt;fct&gt;         &lt;dbl&gt;           &lt;dbl&gt;       &lt;dbl&gt;
1 Bad            1.37               1       0.560
2 Good           1.42               1       0.585</code></pre>
<pre class="r"><code>german%&gt;% group_by(Class) %&gt;% 
  summarize(resid_dur.mean=mean(ResidenceDuration), 
            resid_dur.median=median(ResidenceDuration), 
            resid_dur.sd = sd(ResidenceDuration))</code></pre>
<pre class="bg-primary"><code># A tibble: 2 x 4
  Class resid_dur.mean resid_dur.median resid_dur.sd
  &lt;fct&gt;          &lt;dbl&gt;            &lt;dbl&gt;        &lt;dbl&gt;
1 Bad             2.85                3         1.09
2 Good            2.84                3         1.11</code></pre>
<pre class="r"><code>german%&gt;% group_by(Class) %&gt;% 
  summarize(people_maint.mean=mean(NumberPeopleMaintenance), 
            people_maint.median=median(NumberPeopleMaintenance), 
            people_maint.sd = sd(NumberPeopleMaintenance))</code></pre>
<pre class="bg-primary"><code># A tibble: 2 x 4
  Class people_maint.mean people_maint.median people_maint.sd
  &lt;fct&gt;             &lt;dbl&gt;               &lt;dbl&gt;           &lt;dbl&gt;
1 Bad                1.15                   1           0.361
2 Good               1.16                   1           0.363</code></pre>
</div>
</div>
<div id="section" class="section level5">
<h5></h5>
<p><br> <br></p>
<p>In the following DT table, we can interactively visualize all numerical attributes and our response variable, credit worthiness (Class) . We can search / filter any keywords or specific entries for each variable.</p>
<pre class="r"><code># i create a dataframe &quot;get_num&quot; which contains all numerical attributes plus the response variable. Then, with the function datatable of DT library , i create HTML widget to display get_num.

get_num &lt;-  select_if(german, is.numeric)
get_num &lt;- get_num %&gt;% 
  mutate(Class = german$Class)
DT::datatable(get_num,rownames = FALSE, filter =&quot;top&quot;, options =list(pageLength=10,scrollx=T))</code></pre>
<div id="htmlwidget-050514110fbbfed0cb85" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-050514110fbbfed0cb85">{"x":{"filter":"top","filterHTML":"<tr>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"4\" data-max=\"72\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"250\" data-max=\"18424\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1\" data-max=\"4\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1\" data-max=\"4\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"19\" data-max=\"75\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1\" data-max=\"4\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1\" data-max=\"2\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;Bad&quot;,&quot;Good&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n<\/tr>","data":[[6,48,12,42,24,36,24,36,12,30,12,48,12,24,15,24,24,30,24,24,9,6,10,12,10,6,6,12,7,60,18,24,18,12,12,45,48,18,10,9,30,12,18,30,48,11,36,6,11,12,24,27,12,18,36,6,12,36,18,36,9,15,36,48,24,27,12,12,36,36,36,7,8,42,36,12,42,11,54,30,24,15,18,24,10,12,18,36,18,12,12,12,12,24,12,54,12,18,36,20,24,36,6,9,12,24,18,12,24,14,6,15,18,36,12,48,42,10,33,12,21,24,12,10,18,12,12,12,12,12,48,36,15,18,60,12,27,12,15,12,6,36,27,18,21,48,6,12,36,18,6,10,36,24,24,12,9,12,24,6,24,18,15,10,36,6,18,11,24,24,15,12,24,8,21,30,12,6,12,21,36,36,21,24,18,15,9,16,12,18,24,48,27,6,45,9,6,12,24,18,9,12,27,12,12,30,12,12,24,12,9,36,27,30,36,6,18,36,24,10,12,12,12,24,15,36,48,12,9,24,36,9,12,18,4,24,6,21,12,30,24,6,48,12,12,24,12,6,24,18,6,12,30,24,9,60,24,12,15,11,12,24,18,12,10,15,36,24,14,24,18,12,48,48,30,9,18,12,6,24,15,12,18,15,24,47,48,48,12,24,12,36,24,42,48,48,12,10,18,21,6,36,24,10,48,6,30,12,8,9,48,24,24,12,4,36,12,24,12,15,30,24,24,18,18,8,12,24,36,6,24,18,60,48,24,6,13,15,24,10,24,21,18,18,10,15,13,24,6,9,9,9,18,12,10,24,12,36,12,30,18,12,12,6,18,12,18,18,36,18,36,18,10,60,60,48,18,7,36,6,20,18,22,12,30,18,18,18,15,9,18,12,36,6,9,39,12,36,12,24,18,18,24,14,18,24,24,15,24,12,24,33,12,10,24,36,12,18,21,18,15,12,12,21,12,18,28,18,9,18,5,24,6,24,9,12,6,24,42,12,12,12,20,12,48,9,36,7,12,15,36,6,12,24,24,24,11,12,6,18,36,15,12,12,18,24,24,48,33,24,24,6,9,6,18,18,39,24,12,15,12,24,30,15,12,6,12,24,10,6,12,27,6,6,12,24,36,24,18,6,24,36,9,24,24,10,15,15,24,39,12,36,15,12,24,6,6,36,6,6,24,18,48,24,18,26,15,4,36,6,36,15,12,24,24,21,6,18,48,18,12,24,30,18,12,24,24,24,12,48,12,6,48,12,9,12,18,21,24,18,24,24,6,36,24,24,12,24,48,48,24,30,24,15,9,15,12,24,36,24,18,12,9,36,12,18,9,12,18,12,12,24,21,24,24,6,24,24,18,24,7,9,24,36,10,24,24,36,18,15,12,10,21,24,18,48,60,6,30,12,21,18,48,12,18,15,6,9,42,9,24,18,15,9,24,12,24,60,12,42,18,15,15,24,18,36,30,12,24,12,48,12,24,36,24,14,12,48,30,18,12,12,21,6,6,24,30,48,12,30,24,36,60,6,21,30,24,72,24,18,6,12,15,24,36,60,10,36,9,12,15,15,24,6,24,6,12,12,18,15,12,48,24,30,27,15,48,12,9,9,18,6,21,9,60,30,30,18,24,20,9,6,12,9,27,6,15,18,48,24,24,24,8,24,4,36,24,18,6,30,24,10,21,24,39,13,15,12,21,15,6,18,12,30,12,24,6,15,24,12,15,18,12,21,24,12,30,10,12,12,24,36,21,24,12,24,36,18,36,18,39,24,12,12,20,18,22,48,48,40,21,24,6,24,24,9,18,12,24,9,24,18,20,12,12,36,6,12,42,15,8,6,36,48,48,36,6,6,36,18,12,12,36,8,18,21,18,18,36,48,24,18,45,24,15,12,12,4,24,24,36,21,18,24,18,21,18,24,9,12,20,24,15,18,36,24,10,15,15,9,24,18,24,27,10,15,18,12,36,12,36,6,24,15,12,11,18,36,9,30,24,24,30,18,24,12,24,48,36,28,27,15,12,36,18,36,21,12,15,18,16,20,36,15,24,12,21,36,15,9,36,24,30,11,24,48,10,6,24,24,18,48,9,12,24,12,18,48,30,12,24,9,9,12,12,30,9,6,60,24,12,10,24,4,15,48,24,12,18,24,18,36,24,36,12,24,30,9,28,24,6,21,15,24,6,30,27,15,42,11,15,24,24,60,30,24,6,18,24,15,30,48,21,36,24,15,42,13,24,24,12,15,18,36,12,12,30,12,45,45],[1169,5951,2096,7882,4870,9055,2835,6948,3059,5234,1295,4308,1567,1199,1403,1282,2424,8072,12579,3430,2134,2647,2241,1804,2069,1374,426,409,2415,6836,1913,4020,5866,1264,1474,4746,6110,2100,1225,458,2333,1158,6204,6187,6143,1393,2299,1352,7228,2073,2333,5965,1262,3378,2225,783,6468,9566,1961,6229,1391,1537,1953,14421,3181,5190,2171,1007,1819,2394,8133,730,1164,5954,1977,1526,3965,4771,9436,3832,5943,1213,1568,1755,2315,1412,1295,12612,2249,1108,618,1409,797,3617,1318,15945,2012,2622,2337,7057,1469,2323,932,1919,2445,11938,6458,6078,7721,1410,1449,392,6260,7855,1680,3578,7174,2132,4281,2366,1835,3868,1768,781,1924,2121,701,639,1860,3499,8487,6887,2708,1984,10144,1240,8613,766,2728,1881,709,4795,3416,2462,2288,3566,860,682,5371,1582,1346,1924,5848,7758,6967,1282,1288,339,3512,1898,2872,1055,1262,7308,909,2978,1131,1577,3972,1935,950,763,2064,1414,3414,7485,2577,338,1963,571,9572,4455,1647,3777,884,1360,5129,1175,674,3244,4591,3844,3915,2108,3031,1501,1382,951,2760,4297,936,1168,5117,902,1495,10623,1935,1424,6568,1413,3074,3835,5293,1908,3342,932,3104,3913,3021,1364,625,1200,707,2978,4657,2613,10961,7865,1478,3149,4210,2507,2141,866,1544,1823,14555,2767,1291,2522,915,1595,4605,1185,3447,1258,717,1204,1925,433,666,2251,2150,4151,2030,7418,2684,2149,3812,1154,1657,1603,5302,2748,1231,802,6304,1533,8978,999,2662,1402,12169,3060,11998,2697,2404,1262,4611,1901,3368,1574,1445,1520,3878,10722,4788,7582,1092,1024,1076,9398,6419,4796,7629,9960,4675,1287,2515,2745,672,3804,1344,1038,10127,1543,4811,727,1237,276,5381,5511,3749,685,1494,2746,708,4351,701,3643,4249,1938,2910,2659,1028,3398,5801,1525,4473,1068,6615,1864,7408,11590,4110,3384,2101,1275,4169,1521,5743,3599,3213,4439,3949,1459,882,3758,1743,1136,1236,959,3229,6199,727,1246,2331,4463,776,2406,1239,3399,2247,1766,2473,1542,3850,3650,3446,3001,3079,6070,2146,13756,14782,7685,2320,846,14318,362,2212,12976,1283,1330,4272,2238,1126,7374,2326,1449,1820,983,3249,1957,2406,11760,2578,2348,1223,1516,1473,1887,8648,802,2899,2039,2197,1053,3235,939,1967,7253,2292,1597,1381,5842,2579,8471,2782,1042,3186,2028,958,1591,2762,2779,2743,1149,1313,1190,3448,11328,1872,2058,2136,1484,660,1287,3394,609,1884,1620,2629,719,5096,1244,1842,2576,1424,1512,11054,518,2759,2670,4817,2679,3905,3386,343,4594,3620,1721,3017,754,1950,2924,1659,7238,2764,4679,3092,448,654,1238,1245,3114,2569,5152,1037,1478,3573,1201,3622,960,1163,1209,3077,3757,1418,3518,1934,8318,1237,368,2122,2996,9034,1585,1301,1323,3123,5493,1126,1216,1207,1309,2360,6850,1413,8588,759,4686,2687,585,2255,609,1361,7127,1203,700,5507,3190,7119,3488,1113,7966,1532,1503,2302,662,2273,2631,1503,1311,3105,2319,1374,3612,7763,3049,1534,2032,6350,2864,1255,1333,2022,1552,626,8858,996,1750,6999,1995,1199,1331,2278,5003,3552,1928,2964,1546,683,12389,4712,1553,1372,2578,3979,6758,3234,5954,5433,806,1082,2788,2930,1927,2820,937,1056,3124,1388,2384,2133,2039,2799,1289,1217,2246,385,1965,1572,2718,1358,931,1442,4241,2775,3863,2329,918,1837,3349,1275,2828,4526,2671,2051,1300,741,1240,3357,3632,1808,12204,9157,3676,3441,640,3652,1530,3914,1858,2600,1979,2116,1437,4042,3832,3660,1553,1444,1980,1355,1393,1376,15653,1493,4370,750,1308,4623,1851,1880,7980,4583,1386,947,684,7476,1922,2303,8086,2346,3973,888,10222,4221,6361,1297,900,2241,1050,1047,6314,3496,3609,4843,3017,4139,5742,10366,2080,2580,4530,5150,5595,2384,1453,1538,2279,1478,5103,9857,6527,1347,2862,2753,3651,975,2631,2896,4716,2284,1236,1103,926,1800,1905,1123,6331,1377,2503,2528,5324,6560,2969,1206,2118,629,1198,2476,1138,14027,7596,3077,1505,3148,6148,1337,433,1228,790,2570,250,1316,1882,6416,1275,6403,1987,760,2603,3380,3990,11560,4380,6761,4280,2325,1048,3160,2483,14179,1797,2511,1274,5248,3029,428,976,841,5771,1555,1285,1299,1271,1393,691,5045,2124,2214,12680,2463,1155,3108,2901,3617,1655,2812,8065,3275,2223,1480,1371,3535,3509,5711,3872,4933,1940,1410,836,6468,1941,2675,2751,6224,5998,1188,6313,1221,2892,3062,2301,7511,1258,717,1549,1597,1795,4272,976,7472,9271,590,930,9283,1778,907,484,9629,3051,3931,7432,1338,1554,15857,1345,1101,3016,2712,731,3780,1602,3966,4165,8335,6681,2375,1216,11816,5084,2327,1082,886,601,2957,2611,5179,2993,1943,1559,3422,3976,6761,1249,1364,709,2235,4042,1471,1442,10875,1474,894,3343,3959,3577,5804,2169,2439,4526,2210,2221,2389,3331,7409,652,7678,1343,1382,874,3590,1322,1940,3595,1422,6742,7814,9277,2181,1098,4057,795,2825,15672,6614,7824,2442,1829,2171,5800,1169,8947,2606,1592,2186,4153,2625,3485,10477,1386,1278,1107,3763,3711,3594,3195,4454,4736,2991,2142,3161,18424,2848,14896,2359,3345,1817,12749,1366,2002,6872,697,1049,10297,1867,1344,1747,1670,1224,522,1498,1919,745,2063,6288,6842,3527,1546,929,1455,1845,8358,3349,2859,1533,3621,3590,2145,4113,10974,1893,1231,3656,1154,4006,3069,1740,2353,3556,2397,454,1715,2520,3568,7166,3939,1514,7393,1193,7297,2831,1258,753,2427,2538,1264,8386,4844,2923,8229,2028,1433,6289,1409,6579,1743,3565,1569,1936,3959,2390,1736,3857,804,1845,4576],[4,2,2,2,3,2,3,2,2,4,3,3,1,4,2,4,4,2,4,3,4,2,1,3,2,1,4,3,3,3,3,2,2,4,4,4,1,4,2,4,4,3,2,1,4,4,4,1,1,4,4,1,3,2,4,1,2,2,3,4,2,4,4,2,4,4,2,4,4,4,1,4,3,2,4,4,4,2,2,2,1,4,3,4,3,4,4,1,4,4,4,4,4,4,4,3,4,4,4,3,4,4,3,4,2,2,2,2,1,1,1,4,3,4,3,4,4,2,1,3,3,4,3,4,4,4,4,4,4,3,1,4,2,4,2,4,2,4,4,2,2,4,3,2,4,4,1,4,3,4,2,1,4,2,4,2,3,4,2,1,3,4,4,2,4,1,4,4,2,4,4,4,3,4,2,4,2,4,4,4,1,2,4,4,4,4,2,2,4,1,2,4,4,2,4,2,1,4,4,4,4,4,3,4,4,3,4,4,2,3,1,2,2,4,4,1,3,2,2,2,4,4,4,4,3,4,1,4,4,4,4,2,3,4,2,4,1,4,4,1,4,3,3,3,4,4,4,4,2,3,3,1,4,2,2,1,4,4,1,4,2,4,2,2,3,4,4,4,1,4,4,3,4,4,1,1,2,2,1,4,3,4,4,4,4,1,4,2,4,4,2,1,2,4,4,1,1,4,3,3,1,4,4,4,2,4,2,4,3,4,3,4,2,2,1,4,2,1,4,1,4,4,2,4,4,1,2,4,4,4,2,4,4,2,3,1,2,4,4,4,2,1,1,1,1,4,4,1,1,4,1,1,2,4,4,4,1,4,4,4,4,2,2,1,4,2,3,1,4,2,4,3,1,2,3,2,2,3,4,4,4,3,4,4,2,2,4,4,2,3,2,1,2,1,2,2,3,3,1,4,3,4,2,4,4,1,4,4,3,4,4,3,4,3,4,2,4,1,1,4,2,4,2,4,1,1,4,4,1,2,1,2,4,4,3,2,2,4,4,4,4,2,2,4,2,4,4,2,3,3,4,3,2,4,2,4,2,3,4,3,1,2,3,4,4,3,4,3,2,3,3,4,4,4,4,1,4,4,3,4,1,4,4,3,4,4,2,4,3,2,2,2,1,4,3,2,4,4,4,2,4,2,2,4,4,4,2,1,4,4,4,2,2,4,4,4,2,2,3,4,3,2,3,3,4,2,4,2,4,3,3,2,4,4,4,2,4,3,4,1,1,4,4,2,4,4,4,3,4,2,4,2,1,4,4,2,3,1,3,2,4,4,2,1,4,3,2,2,4,3,4,3,2,4,4,2,2,3,4,4,3,1,4,4,4,1,2,4,4,3,4,4,4,3,4,1,4,1,2,1,1,4,4,4,4,4,3,4,4,4,4,1,4,1,4,2,2,1,2,4,2,3,4,4,4,4,2,2,4,1,2,4,4,2,3,4,4,2,4,3,4,4,3,4,4,4,2,2,4,4,4,4,4,2,4,1,4,4,2,2,3,4,4,4,2,4,4,1,3,4,3,2,2,1,4,4,4,2,4,3,1,4,4,3,1,4,4,4,3,1,2,3,2,1,4,2,4,1,4,4,4,4,4,4,4,1,3,4,4,2,4,4,4,4,4,1,3,4,3,3,4,4,4,4,3,2,2,4,4,2,1,2,4,2,1,3,1,3,1,4,2,4,4,4,4,3,1,3,1,2,2,1,2,4,4,4,1,3,2,4,1,4,4,4,4,3,2,1,1,2,2,3,1,4,2,4,4,4,4,2,2,4,2,4,1,4,3,4,4,4,2,3,1,3,4,2,1,2,4,4,4,3,1,4,1,2,3,4,1,2,3,3,4,3,4,2,1,1,2,4,3,3,2,4,3,4,1,2,3,4,4,4,2,2,2,4,4,1,4,4,4,3,4,4,4,2,2,4,3,4,4,3,4,4,2,4,4,4,3,1,4,4,4,4,2,2,4,2,3,4,2,1,4,4,2,4,3,4,3,2,3,2,4,4,3,4,4,2,4,3,4,4,4,3,4,3,4,3,1,2,2,2,2,4,4,2,2,2,1,1,4,2,2,1,4,1,1,1,1,4,4,4,3,3,2,4,4,4,4,4,4,4,3,4,4,4,3,4,4,2,2,3,4,2,4,1,4,4,4,2,3,2,3,4,4,4,4,2,3,4,2,1,3,3,3,4,4,4,2,1,4,1,1,4,4,3,2,4,4,2,2,3,1,2,2,4,2,2,4,4,2,4,2,4,4,3,4,4,4,3],[4,2,3,4,4,4,4,2,4,2,1,4,1,4,4,2,4,3,2,2,4,3,3,4,1,2,4,3,2,4,3,2,2,4,1,2,3,2,2,3,2,1,4,4,4,4,4,2,4,2,2,2,2,1,4,2,1,2,2,4,1,4,4,2,4,4,2,1,4,4,2,2,4,1,4,4,3,4,2,1,1,3,4,4,4,2,1,4,3,3,4,3,3,4,4,4,2,4,4,4,4,4,2,3,4,3,4,2,2,2,2,4,3,2,1,1,3,3,4,3,2,2,2,4,3,2,2,2,2,2,2,3,3,4,4,2,2,3,2,2,2,1,2,2,4,2,4,3,2,4,4,4,1,4,4,4,4,1,3,2,4,1,3,4,4,2,2,1,4,4,3,1,2,2,1,1,1,4,2,4,1,2,2,4,4,2,4,3,1,4,3,4,2,2,4,3,1,4,4,3,2,3,4,4,1,4,4,3,2,2,2,4,4,4,2,3,1,2,2,4,1,4,2,4,2,2,2,4,2,1,2,4,1,2,1,2,2,2,2,3,2,2,4,2,3,1,4,1,2,4,4,2,2,3,1,1,2,1,4,4,2,4,4,4,4,3,4,3,4,2,3,4,4,4,1,2,2,4,4,4,4,2,4,4,2,1,3,4,4,4,2,4,4,4,2,2,4,2,4,2,4,1,2,3,2,2,4,3,4,4,4,1,4,3,2,4,3,4,2,4,2,3,1,2,3,4,4,3,2,4,4,2,2,4,4,4,4,2,4,2,4,4,3,1,1,2,4,4,2,3,4,2,4,2,4,2,4,2,2,4,4,3,2,2,1,4,1,4,2,4,4,4,3,4,4,4,3,4,2,4,4,4,4,1,2,1,2,4,4,2,2,4,4,4,3,3,4,2,1,1,4,4,2,2,4,1,4,2,2,2,4,2,2,2,2,2,1,2,2,2,3,2,3,3,2,3,2,3,4,4,4,3,4,2,2,1,4,4,4,1,4,3,3,4,3,4,4,2,4,3,2,1,4,4,3,1,2,4,1,2,2,3,1,4,1,4,2,3,2,3,2,4,3,4,2,4,4,2,4,4,1,1,4,2,4,4,4,4,2,3,2,4,1,4,2,4,1,3,2,4,1,4,4,4,4,4,2,2,2,2,2,2,4,4,1,3,4,4,2,4,4,2,4,4,4,3,3,1,4,4,1,4,4,3,2,1,3,4,4,1,1,4,4,1,4,2,4,1,4,1,4,4,1,1,4,1,3,4,4,2,4,4,1,4,2,2,3,2,1,2,4,2,4,4,4,3,1,2,4,3,3,3,2,1,4,4,2,1,3,3,3,4,4,4,3,1,4,4,2,2,1,1,4,2,2,4,2,4,1,4,3,4,2,4,1,2,2,3,4,2,3,2,2,1,4,2,2,3,4,4,4,3,1,2,4,4,1,4,3,2,1,4,2,2,1,4,2,2,3,4,1,2,1,4,3,4,4,3,1,1,4,2,2,1,4,2,2,1,4,4,3,2,4,2,2,4,4,2,4,1,2,4,3,3,3,4,2,3,4,3,3,2,1,3,2,4,3,2,2,4,4,4,2,2,1,4,2,3,4,2,3,4,4,4,2,4,2,2,2,4,2,2,2,3,3,2,2,4,3,4,2,4,2,4,1,2,4,4,3,4,3,4,3,4,4,1,4,1,3,2,1,2,4,2,4,4,1,4,2,3,4,4,3,4,3,3,4,4,4,4,4,2,4,4,4,4,4,1,2,4,2,4,2,2,4,2,4,3,4,3,4,4,2,4,3,4,4,4,4,2,4,4,4,4,2,1,3,4,2,1,2,3,4,4,4,2,4,2,3,3,2,1,2,4,2,3,4,2,4,4,2,3,4,4,3,4,2,3,4,3,2,2,4,4,4,3,4,2,4,4,2,4,4,4,2,3,3,2,2,2,2,2,4,2,2,4,1,4,2,4,4,4,1,1,2,4,4,2,2,3,3,4,4,4,3,4,3,2,4,4,4,4,4,4,3,2,4,2,4,3,4,4,4,2,1,2,2,2,2,2,4,4,4,2,2,2,2,4,1,2,2,1,4,4,1,2,4,4,4,2,1,2,1,4,1,3,2,3,4,4,3,2,2,1,1,1,4,4,1,4,3,1,4,2,4,4,4,4,2,4,2,4,2,2,1,1,2,2,4,2,2,4,4,4,2,3,3,2,4,2,2,2,1,2,2,3,1,4,2,2,1,4,4,3,3,4,4,4,4,4],[67,22,49,45,53,35,53,35,61,28,25,24,22,60,28,32,53,25,44,31,48,44,48,44,26,36,39,42,34,63,36,27,30,57,33,25,31,37,37,24,30,26,44,24,58,35,39,23,39,28,29,30,25,31,57,26,52,31,23,23,27,50,61,25,26,48,29,22,37,25,30,46,51,41,40,66,34,51,39,22,44,47,24,58,52,29,27,47,30,28,56,54,33,20,54,58,61,34,36,36,41,24,24,35,26,39,39,32,30,35,31,23,28,25,35,47,30,27,23,36,25,41,24,63,27,30,40,30,34,29,24,29,27,47,21,38,27,66,35,44,27,30,27,22,23,30,39,51,28,46,42,38,24,29,36,20,48,45,38,34,36,30,36,70,36,32,33,20,25,31,33,26,34,33,26,53,42,52,31,65,28,30,40,50,36,31,74,68,20,33,54,34,36,29,21,34,28,27,36,40,52,27,26,21,38,38,43,26,21,55,33,45,50,66,51,39,31,23,24,64,26,23,30,32,30,27,27,53,22,22,26,51,35,25,42,30,23,61,35,39,29,51,24,27,35,25,52,35,26,22,39,46,24,35,24,27,35,29,23,57,27,55,36,57,32,37,36,38,45,25,32,37,36,28,34,32,26,49,32,29,23,50,49,63,37,35,26,31,49,48,26,28,44,56,46,26,20,45,43,32,54,42,37,49,44,33,24,33,24,22,40,25,26,25,29,31,38,48,32,27,28,32,34,28,36,39,49,34,31,28,75,30,24,24,23,44,23,24,28,31,24,26,25,33,37,43,23,23,34,32,23,29,38,28,46,23,49,26,28,23,61,37,36,21,25,36,27,22,42,40,36,33,23,63,60,37,34,36,57,52,39,38,25,26,26,25,21,40,27,27,30,19,39,31,31,32,55,46,46,43,39,28,27,27,43,22,43,27,26,28,20,35,42,40,35,35,33,23,31,33,20,30,47,34,25,21,29,46,20,55,74,29,36,33,25,25,23,37,65,26,39,30,29,41,30,41,34,35,55,61,30,29,34,35,31,29,36,35,27,32,37,36,34,38,34,63,29,32,26,35,22,23,28,36,33,26,24,25,39,44,23,26,57,30,44,47,52,62,35,26,26,42,27,38,39,20,29,40,32,28,27,42,49,38,24,27,36,34,28,45,26,32,26,20,54,37,40,23,43,36,44,24,53,23,26,30,31,42,31,41,32,28,41,26,25,33,75,37,42,45,23,60,31,34,61,43,37,32,24,35,23,45,34,27,67,22,28,29,27,31,49,24,29,37,37,23,36,34,41,31,23,38,26,22,27,24,27,33,27,27,30,49,26,33,52,20,36,21,47,60,58,42,36,20,40,32,23,36,31,32,45,30,34,28,23,22,74,50,33,45,22,48,29,22,22,48,27,37,21,49,27,32,38,22,65,35,41,29,36,64,28,44,23,19,25,47,28,21,34,26,27,38,40,33,32,27,32,26,38,40,50,37,45,42,35,22,41,37,28,41,23,23,50,35,50,27,34,27,43,47,27,31,42,24,41,26,33,24,64,26,56,37,33,47,31,34,27,30,35,31,25,25,29,44,28,50,29,38,24,40,29,46,47,41,32,35,24,25,25,37,32,35,46,25,27,63,40,32,31,31,34,24,24,66,21,41,47,25,59,36,33,21,44,28,37,29,23,35,45,26,32,23,41,22,30,28,23,37,26,33,49,23,23,25,55,32,74,39,31,35,59,24,24,30,27,40,31,31,28,63,26,25,36,52,66,25,37,25,38,67,25,60,31,23,60,35,40,38,50,27,39,41,27,51,32,22,51,22,54,35,54,48,24,35,24,24,26,65,55,26,26,28,24,54,46,54,62,24,43,26,27,24,41,47,35,30,33,36,47,38,44,23,29,42,25,48,21,23,63,46,29,28,23,50,47,35,68,28,59,57,33,43,35,32,45,33,40,28,29,26,27,28,35,32,25,20,27,42,37,24,40,46,26,24,29,40,36,28,27,36,38,48,36,65,43,53,34,23,34,40,43,46,38,34,29,31,28,35,33,42,43,44,42,40,36,20,24,27,46,33,34,25,25,28,31,32,32,68,33,39,28,37,22,30,55,46,21,39,58,43,24,22,30,42,23,30,28,30,42,46,45,31,31,42,46,30,30,38,43,31,40,24,28,26,29,57,49,37,45,30,30,47,29,35,22,26,23,54,29,40,22,43,29,36,33,57,64,42,47,25,49,33,28,26,30,25,33,64,29,48,37,34,23,30,50,31,40,38,23,27],[2,1,1,1,2,1,1,1,1,2,1,1,1,2,1,1,2,3,1,1,3,1,2,1,2,1,1,2,1,2,1,1,2,1,1,2,1,1,1,1,1,1,1,2,2,2,1,1,2,1,1,2,1,1,2,1,1,2,1,2,1,2,1,1,1,4,1,1,1,1,1,2,2,2,1,2,1,1,1,1,2,1,1,1,1,2,2,1,1,2,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,2,2,1,1,1,2,1,1,2,1,1,1,2,2,1,2,2,1,2,1,2,1,1,2,2,1,1,2,2,1,2,2,1,3,1,1,1,1,1,1,1,2,2,2,2,1,1,1,1,1,1,2,1,2,2,1,2,2,1,1,1,1,1,1,2,2,1,1,1,2,1,1,2,2,2,2,2,2,1,1,2,1,3,1,2,3,1,1,1,1,2,2,4,1,1,2,1,2,1,2,3,3,1,1,1,2,1,2,1,1,2,1,1,1,1,1,1,2,2,1,2,2,1,1,1,1,1,1,1,3,1,1,2,2,1,1,1,2,2,1,1,3,1,1,1,2,1,1,2,1,1,2,1,1,3,1,1,3,3,2,1,2,1,1,2,1,1,1,2,1,1,2,1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,2,1,2,1,1,1,1,2,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,1,1,1,2,2,1,1,1,1,2,2,1,2,2,1,1,1,1,1,2,1,1,1,1,1,2,1,2,2,1,1,1,2,1,1,1,2,1,1,1,1,2,1,1,1,2,1,1,1,1,2,2,1,2,1,2,1,1,2,1,1,1,1,2,2,1,2,1,2,1,1,1,1,1,1,1,2,2,2,1,2,2,2,1,1,2,1,1,3,1,2,2,1,1,2,1,2,1,1,1,1,2,2,1,1,2,2,1,3,1,2,3,2,1,1,1,2,2,1,1,1,2,1,1,2,1,1,1,2,1,1,2,1,1,1,2,1,1,1,1,1,1,2,2,1,1,2,2,2,1,1,1,1,1,1,1,1,1,2,1,1,2,2,1,1,1,1,1,1,2,2,2,1,2,1,1,2,1,2,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,2,1,2,1,2,2,1,2,1,1,2,1,2,1,1,2,2,1,1,2,1,1,1,1,1,1,2,1,1,2,2,1,1,1,2,2,1,2,1,2,1,2,2,1,2,1,1,1,1,2,2,1,1,2,1,1,1,1,1,2,2,1,2,2,2,2,2,1,1,1,1,2,1,1,2,4,2,1,1,1,1,2,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,2,2,1,1,2,1,1,1,2,1,1,1,1,2,1,3,1,2,1,2,1,2,1,2,2,2,2,1,1,1,1,1,1,4,2,1,1,1,2,1,1,1,2,2,1,2,1,1,2,1,2,2,1,1,1,1,1,1,1,1,1,1,2,3,2,1,2,1,1,1,2,1,1,2,1,1,2,1,2,1,1,2,1,2,1,1,1,2,1,1,2,1,1,2,1,2,2,1,2,2,2,1,1,1,1,2,2,2,1,2,1,1,1,1,1,1,2,1,2,2,1,1,1,1,2,2,1,1,1,1,1,1,1,2,2,1,3,2,1,2,1,2,1,1,2,2,1,1,3,2,1,2,1,2,3,1,2,1,2,1,2,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,2,2,1,2,2,2,2,1,1,1,4,1,2,1,1,2,1,1,1,1,2,1,1,2,1,1,2,2,2,3,2,1,1,2,1,2,1,1,2,1,1,2,2,1,2,1,1,3,1,2,1,1,1,2,2,2,2,2,1,1,1,1,1,2,1,1,2,1,1,1,1,2,1,2,2,2,1,1,2,1,1,1,2,1,1,2,2,1,1,2,1,2,2,4,2,2,2,2,1,1,1,1,1,1,2,2,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,3,1,2,1,1,2,2,1,2,1,1,1,2,1,1,1,3,1,2,1,1,1,2,3,2,1,2,1,2,2,3,1,1,2,2,1,2,1,1,2,1,1,2,1,1,2,1,1,1,1,2,2,1,1,1,1,1,2,2,2,1,1,2,2,1,2,1,1,1,1,1,1,1],[1,1,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,2,2,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,2,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,2,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,2,1,2,1,2,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,2,1,2,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,2,1,2,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,2,1,2,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,2,1,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,2,1,1,2,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,2,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,2,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,2,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,1,2,1,2,2,1,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,2,2,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,2,1,2,1,1,1,2,1,1,1,1,1,2,2,2,1,2,1,1,2,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1],["Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Bad","Bad","Good","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Bad","Good","Good","Bad","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Good","Bad","Good","Bad","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Bad","Good","Bad","Bad","Good","Good","Good","Good","Bad","Bad","Bad","Good","Bad","Good","Bad","Good","Bad","Good","Bad","Bad","Bad","Good","Bad","Bad","Good","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Bad","Bad","Good","Bad","Good","Good","Good","Good","Bad","Bad","Bad","Good","Good","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Bad","Good","Bad","Good","Good","Bad","Bad","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Bad","Bad","Bad","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Bad","Good","Bad","Good","Bad","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Bad","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Good","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Bad","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Bad","Bad","Good","Bad","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Good","Bad","Good","Bad","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Bad","Bad","Bad","Good","Bad","Good","Bad","Good","Good","Bad","Good","Good","Bad","Bad","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Bad","Good","Bad","Good","Good","Bad","Bad","Good","Good","Good","Bad","Bad","Bad","Bad","Bad","Bad","Good","Good","Bad","Bad","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Bad","Good","Bad","Bad","Good","Good","Good","Good","Bad","Bad","Good","Bad","Good","Good","Bad","Good","Bad","Bad","Bad","Good","Bad","Bad","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Bad","Bad","Good","Bad","Good","Good","Bad","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Bad","Good","Bad","Good","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Bad","Bad","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Bad","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Bad","Bad","Bad","Good","Good","Bad","Bad","Good","Bad","Bad","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Bad","Bad","Bad","Good","Good","Bad","Good","Bad","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Bad","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Bad","Bad","Good","Bad","Bad","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Bad","Bad","Bad","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Duration<\/th>\n      <th>Amount<\/th>\n      <th>InstallmentRatePercentage<\/th>\n      <th>ResidenceDuration<\/th>\n      <th>Age<\/th>\n      <th>NumberExistingCredits<\/th>\n      <th>NumberPeopleMaintenance<\/th>\n      <th>Class<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollx":true,"columnDefs":[{"className":"dt-right","targets":[0,1,2,3,4,5,6]}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
<p><br> <br></p>
</div>
<div id="qualitative-features." class="section level5 tabset tabset-fade tabset-pills">
<h5><strong><code>qualitative features</code></strong>.</h5>
<p><br> Data exploration of categorical attributes disclosed the following insights:</p>
<ul>
<li><p><strong>CheckingAccountStatus</strong> : the current status of the checking account matters as the frequency of the response variables is seen to differ from one sub category to another. Accounts with less than 0 DM houses more number of bad credit risk records while accounts with more than 200 DM the least.we see how applicants with no checking account house the highest number of good records. ( NB: DM -&gt; Deutsche Mark)</p></li>
<li><p><strong>CreditHistory</strong>: Generally, credit history’s levels tend to show a higher number of good credit risk than bad credit risk. We observe that proportion of the response variable ,the credit worthiness, changes varies significantly. For categories “NoCredit.AllPaid” and “ThisBank.AllPaid”, we see how the number of bad credit records are greater.</p></li>
<li><p><strong>Purpose</strong>: For the purpose variable, we observe that the proportion of good and bad credit risk varies significantly across the different credit’s purposes. While the majority of categories show number of good risk records always greater than the bad ones, the categories as DomesticAppliance ,Education , Repairs and others seem to include more risky records. ( the difference between the number of bad and good records is really minimal) (see histogram and ballon plot)</p></li>
<li><p>Generally, for the other categorical attributes, we observe a similar trend for which good creditworthiness records are greater than bad ones. Variables like SavingAccountBonds, EmploymentDuration, Personal, ForeignWorker, Housing, Property, or Telephone straightly follow that observation. However, the trend looks more significant for the attributes <strong>SavingAccountBonds</strong>, telephone,foreign workers, or also EmploymentDuration. Instead, the two features <strong><em>OtherInstallmentPlans</em></strong> and <strong><em>OtherDebtorsGuarantors</em></strong> show more risky records. (see on barplot levels Coapplicant or Guarantor for OtherDebtors , and Stores or Bank for OtherInstall)</p></li>
</ul>
<p><br></p>
<div id="checkingaccountstatus" class="section level6">
<h6>CheckingAccountStatus</h6>
<pre class="r"><code>ggplot(german, aes(CheckingAccountStatus, ..count..)) + 
  geom_bar(aes(fill = Class), position = &quot;dodge&quot;) +
  labs(title=&quot;bar plot&quot;, subtitle=&quot;AccountStatus grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-13-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="credithistory" class="section level6">
<h6>CreditHistory</h6>
<pre class="r"><code>german %&gt;% 
  ggplot(aes(CreditHistory, ..count..)) + 
  geom_bar(aes(fill=Class), position =&quot;dodge&quot;) +
  labs(title=&quot;bar plot&quot;, subtitle=&quot;Credit history grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-14-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="purpose" class="section level6">
<h6>Purpose</h6>
<pre class="r"><code>german %&gt;% 
  ggplot(aes(Purpose)) +
  geom_bar(aes(fill=Class), width = 0.5) + 
  theme(axis.text.x = element_text(angle=65, vjust=0.6)) + 
  labs(title=&quot;Histogram&quot;, 
       subtitle=&quot;credit purpose across credit worthiness&quot;,
       caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-15-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>purp &lt;- table(german$Purpose,german$Class)

ggballoonplot(as.data.frame(purp), fill = &quot;value&quot;,title=&quot;Ballon plot&quot;,
              subtitle=&quot;credit purpose across credit worthiness&quot;,
              caption = &quot;source: german credit data&quot;)+
scale_fill_viridis_c(option = &quot;C&quot;) </code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-15-2.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="savingsaccountbonds" class="section level6">
<h6>SavingsAccountBonds</h6>
<pre class="r"><code>german %&gt;% 
  ggplot(aes(SavingsAccountBonds, ..count..)) + 
  geom_bar(aes(fill=Class), position =&quot;dodge&quot;) +
  labs(title=&quot;bar plot&quot;, subtitle=&quot;Saving accounts grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-16-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="employmentduration" class="section level6">
<h6>EmploymentDuration</h6>
<pre class="r"><code>german %&gt;% 
  ggplot(aes(EmploymentDuration, ..count..)) + 
  geom_bar(aes(fill=Class), position =&quot;dodge&quot;) +
  labs(title=&quot;bar plot&quot;, subtitle=&quot;Employment Duration grouped by credit worthiness&quot;,    caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-17-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="foreignworker" class="section level6">
<h6>ForeignWorker</h6>
<pre class="r"><code>german %&gt;% 
  ggplot(aes(ForeignWorker, ..count..)) + 
  geom_bar(aes(fill=Class), position =&quot;dodge&quot;) +
  labs(title=&quot;bar plot&quot;, subtitle=&quot;Foreignworker grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-18-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="telephone" class="section level6">
<h6>Telephone</h6>
<pre class="r"><code>german %&gt;% 
  ggplot(aes(Telephone, ..count..)) + 
  geom_bar(aes(fill=Class), position =&quot;dodge&quot;)+
  labs(title=&quot;bar plot&quot;, subtitle=&quot;Telephone grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-19-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="otherinstallmentplans" class="section level6">
<h6>OtherInstallmentPlans</h6>
<pre class="r"><code>german %&gt;% 
  ggplot(aes(OtherInstallmentPlans, ..count..)) + 
  geom_bar(aes(fill=Class), position =&quot;dodge&quot;)+
  labs(title=&quot;bar plot&quot;, subtitle=&quot;OtherInstallmentPlans grouped by credit worthiness&quot;,   caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-20-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="otherdebtorsguarantor" class="section level6">
<h6>OtherDebtorsGuarantor</h6>
<pre class="r"><code>german %&gt;% 
  ggplot(aes(OtherDebtorsGuarantors, ..count..)) + 
  geom_bar(aes(fill=Class), position =&quot;dodge&quot;)+
  labs(title=&quot;bar plot&quot;, subtitle=&quot;OtherDebtorsGuarantors grouped by credit worthiness&quot;, caption = &quot;source: german credit data&quot;) +
  scale_fill_manual(values = c(&quot;Good&quot; = &quot;darkblue&quot;, &quot;Bad&quot; = &quot;red&quot;))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-21-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="section-1" class="section level5">
<h5></h5>
<p><br> <br></p>
<p>In the following DT table, we can interactively visualize all categorical features and our response variable, credit worthiness (Class) . We can search / filter any keywords or specific entries for each variable.</p>
<pre class="r"><code># i create a dataframe &quot;get_cat&quot; which contains all categorical attributes including the response variable. Then, with the function datatable of DT library , i create HTML widget to display get_num.

get_cat &lt;- select_if(german, is.factor)
DT::datatable(get_cat,rownames = FALSE, filter =&quot;top&quot;, options =list(pageLength=10,scrollx=T))</code></pre>
<div id="htmlwidget-61a0e8ca2364ceab83de" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-61a0e8ca2364ceab83de">{"x":{"filter":"top","filterHTML":"<tr>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;none&quot;,&quot;yes&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;no&quot;,&quot;yes&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;lt.0&quot;,&quot;0.to.200&quot;,&quot;gt.200&quot;,&quot;none&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;NoCredit.AllPaid&quot;,&quot;ThisBank.AllPaid&quot;,&quot;PaidDuly&quot;,&quot;Delay&quot;,&quot;Critical&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;NewCar&quot;,&quot;UsedCar&quot;,&quot;Furniture.Equipment&quot;,&quot;Radio.Television&quot;,&quot;DomesticAppliance&quot;,&quot;Repairs&quot;,&quot;Education&quot;,&quot;Retraining&quot;,&quot;Business&quot;,&quot;Other&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;lt.100&quot;,&quot;100.to.500&quot;,&quot;500.to.1000&quot;,&quot;gt.1000&quot;,&quot;Unknown&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;lt.1&quot;,&quot;1.to.4&quot;,&quot;4.to.7&quot;,&quot;gt.7&quot;,&quot;Unemployed&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;Male.Divorced.Seperated&quot;,&quot;Female.NotSingle&quot;,&quot;Male.Single&quot;,&quot;Male.Married.Widowed&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;None&quot;,&quot;CoApplicant&quot;,&quot;Guarantor&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;RealEstate&quot;,&quot;Insurance&quot;,&quot;CarOther&quot;,&quot;Unknown&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;Bank&quot;,&quot;Stores&quot;,&quot;None&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;Rent&quot;,&quot;Own&quot;,&quot;ForFree&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;UnemployedUnskilled&quot;,&quot;UnskilledResident&quot;,&quot;SkilledEmployee&quot;,&quot;Management.SelfEmp.HighlyQualified&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;Bad&quot;,&quot;Good&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["none","yes","yes","yes","yes","none","yes","none","yes","yes","yes","yes","none","yes","yes","yes","yes","yes","none","none","none","yes","yes","yes","yes","none","yes","yes","yes","none","none","yes","none","yes","none","yes","none","yes","none","yes","yes","none","none","yes","yes","yes","yes","none","yes","yes","yes","none","yes","none","none","yes","none","yes","yes","none","none","none","none","none","none","none","yes","yes","none","yes","yes","none","none","yes","none","yes","yes","yes","yes","yes","none","none","yes","none","yes","none","yes","none","none","yes","yes","yes","yes","yes","none","none","yes","yes","yes","none","yes","yes","yes","none","none","none","none","yes","none","none","yes","none","yes","none","yes","none","none","yes","yes","none","none","none","yes","none","yes","yes","yes","yes","none","yes","yes","none","yes","yes","none","none","yes","yes","none","none","yes","none","yes","yes","none","yes","none","none","yes","yes","none","none","yes","yes","none","yes","yes","yes","none","yes","none","yes","none","none","yes","none","yes","yes","none","none","yes","none","none","yes","yes","none","yes","yes","none","yes","yes","none","yes","none","none","yes","none","none","yes","none","none","yes","none","yes","yes","none","none","yes","none","none","none","yes","yes","yes","yes","none","none","yes","yes","yes","yes","none","none","none","none","yes","none","none","yes","none","yes","none","yes","none","none","yes","none","none","yes","yes","yes","yes","yes","yes","yes","yes","none","yes","yes","yes","yes","yes","yes","yes","yes","none","yes","yes","yes","yes","none","yes","yes","yes","none","yes","yes","yes","none","yes","yes","yes","none","yes","yes","yes","yes","none","none","yes","yes","none","none","yes","none","yes","yes","none","yes","none","none","yes","yes","yes","none","none","yes","none","none","yes","none","none","none","yes","yes","none","yes","yes","none","none","none","none","yes","none","yes","yes","yes","none","yes","yes","none","yes","yes","yes","yes","yes","yes","none","yes","yes","yes","yes","none","yes","yes","yes","none","none","yes","yes","none","yes","yes","yes","yes","none","yes","yes","yes","yes","none","yes","yes","none","yes","yes","yes","yes","yes","yes","none","yes","none","none","none","yes","none","none","yes","yes","yes","yes","none","yes","yes","none","yes","yes","yes","yes","yes","none","yes","none","none","yes","yes","yes","none","yes","none","none","yes","yes","yes","yes","none","none","yes","yes","none","yes","none","yes","yes","none","yes","none","yes","yes","none","yes","none","yes","yes","none","none","yes","none","none","none","none","none","yes","yes","none","yes","none","yes","yes","yes","yes","yes","yes","none","none","yes","yes","yes","yes","yes","none","none","none","yes","none","yes","none","yes","yes","none","yes","none","yes","none","yes","none","yes","none","yes","none","yes","yes","none","none","none","yes","none","yes","none","yes","yes","yes","yes","none","none","none","yes","none","none","none","yes","yes","none","yes","yes","yes","yes","yes","none","yes","yes","none","yes","none","none","none","none","yes","yes","yes","none","yes","yes","yes","yes","none","yes","yes","none","yes","yes","yes","yes","yes","yes","none","none","yes","none","yes","none","none","yes","yes","yes","yes","none","none","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","none","yes","none","yes","none","yes","yes","none","none","yes","yes","yes","none","yes","yes","yes","yes","none","yes","yes","none","yes","yes","none","yes","none","yes","yes","none","yes","yes","none","yes","yes","none","none","none","yes","yes","none","none","none","yes","none","yes","yes","yes","yes","none","yes","yes","yes","yes","yes","yes","none","yes","yes","yes","none","yes","none","none","yes","none","none","yes","yes","none","yes","yes","yes","yes","yes","none","yes","none","none","yes","yes","yes","yes","yes","yes","yes","yes","none","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","none","yes","none","yes","yes","yes","yes","yes","none","none","yes","none","yes","none","yes","yes","none","none","none","none","yes","yes","yes","yes","none","yes","yes","none","none","yes","yes","none","yes","none","yes","yes","yes","none","yes","none","none","yes","none","yes","none","none","none","yes","yes","none","none","yes","yes","yes","yes","none","yes","none","none","none","none","yes","none","yes","yes","yes","yes","yes","none","yes","yes","yes","yes","none","yes","none","none","yes","none","yes","yes","yes","yes","yes","none","yes","none","yes","none","yes","none","none","none","none","none","yes","yes","yes","yes","yes","yes","yes","yes","none","yes","yes","yes","none","yes","yes","yes","none","none","yes","yes","yes","none","none","none","yes","yes","yes","yes","yes","none","yes","yes","yes","yes","yes","yes","none","none","yes","none","yes","yes","none","none","yes","yes","yes","none","none","yes","none","none","yes","yes","yes","none","yes","none","none","yes","none","none","yes","none","none","yes","none","yes","none","yes","none","yes","yes","none","yes","none","yes","none","yes","yes","none","yes","yes","yes","none","yes","yes","none","yes","none","yes","none","yes","yes","yes","yes","none","yes","yes","none","yes","yes","yes","none","none","none","yes","yes","none","none","none","yes","none","yes","yes","yes","yes","none","yes","yes","yes","yes","none","none","none","yes","yes","yes","yes","yes","none","none","yes","none","none","none","none","none","yes","yes","none","none","none","yes","yes","yes","yes","yes","yes","none","yes","none","yes","yes","yes","none","yes","none","yes","none","none","yes","yes","none","yes","none","none","none","none","none","none","yes","none","none","none","none","yes","yes","yes","none","none","yes","none","none","none","yes","yes","yes","yes","yes","yes","yes","none","none","none","yes","none","yes","none","yes","none","yes","none","none","none","yes","none","none","yes","yes","none","yes","none","yes","yes","yes","none","yes","none","none","yes","none","yes","yes","yes","none","none","yes","yes","none","none","yes","none","none","none","yes","yes","yes","yes","yes","yes","yes","none","yes","yes","yes","none","none","yes","yes","yes","yes","yes","none","yes","yes","yes","yes","yes","yes","none","none","yes","yes","yes","yes","yes","none","yes","yes","yes","yes","none","none","yes","none","yes","none","yes"],["yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","no","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","no","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes","yes"],["lt.0","0.to.200","none","lt.0","lt.0","none","none","0.to.200","none","0.to.200","0.to.200","lt.0","0.to.200","lt.0","lt.0","lt.0","none","lt.0","0.to.200","none","none","lt.0","lt.0","0.to.200","none","lt.0","none","gt.200","0.to.200","lt.0","0.to.200","lt.0","0.to.200","none","gt.200","0.to.200","none","gt.200","gt.200","0.to.200","none","0.to.200","0.to.200","lt.0","lt.0","none","none","lt.0","none","none","0.to.200","0.to.200","none","none","0.to.200","none","0.to.200","none","gt.200","lt.0","0.to.200","0.to.200","0.to.200","0.to.200","none","none","none","0.to.200","none","none","none","none","lt.0","0.to.200","lt.0","lt.0","lt.0","0.to.200","none","0.to.200","none","none","none","lt.0","lt.0","none","0.to.200","0.to.200","lt.0","lt.0","none","lt.0","none","gt.200","0.to.200","0.to.200","none","0.to.200","0.to.200","0.to.200","none","0.to.200","none","0.to.200","none","0.to.200","none","0.to.200","lt.0","0.to.200","0.to.200","gt.200","0.to.200","none","lt.0","none","lt.0","lt.0","lt.0","0.to.200","lt.0","none","none","gt.200","0.to.200","lt.0","lt.0","0.to.200","0.to.200","lt.0","0.to.200","lt.0","none","none","none","none","none","0.to.200","0.to.200","gt.200","gt.200","0.to.200","lt.0","lt.0","none","0.to.200","lt.0","none","lt.0","none","none","none","gt.200","0.to.200","0.to.200","lt.0","lt.0","lt.0","0.to.200","none","none","none","none","0.to.200","none","none","lt.0","0.to.200","none","0.to.200","lt.0","none","0.to.200","0.to.200","lt.0","none","lt.0","lt.0","none","lt.0","none","0.to.200","lt.0","none","0.to.200","none","0.to.200","0.to.200","lt.0","0.to.200","none","0.to.200","0.to.200","none","0.to.200","0.to.200","none","0.to.200","0.to.200","0.to.200","none","lt.0","none","lt.0","none","lt.0","none","0.to.200","lt.0","none","none","none","lt.0","gt.200","none","0.to.200","lt.0","gt.200","lt.0","none","0.to.200","lt.0","none","none","none","none","0.to.200","lt.0","none","lt.0","gt.200","none","none","0.to.200","none","lt.0","0.to.200","0.to.200","none","lt.0","lt.0","none","lt.0","none","none","none","none","none","gt.200","none","lt.0","gt.200","0.to.200","none","0.to.200","0.to.200","none","lt.0","none","none","lt.0","lt.0","lt.0","none","none","0.to.200","none","none","lt.0","none","none","none","0.to.200","0.to.200","lt.0","none","none","lt.0","none","none","none","none","gt.200","none","0.to.200","lt.0","lt.0","0.to.200","0.to.200","lt.0","none","0.to.200","lt.0","gt.200","none","0.to.200","none","none","none","0.to.200","none","0.to.200","gt.200","lt.0","none","none","none","lt.0","0.to.200","0.to.200","0.to.200","none","gt.200","0.to.200","gt.200","lt.0","lt.0","0.to.200","none","lt.0","0.to.200","lt.0","lt.0","lt.0","none","lt.0","none","none","gt.200","0.to.200","lt.0","none","0.to.200","none","lt.0","lt.0","0.to.200","lt.0","lt.0","0.to.200","0.to.200","lt.0","0.to.200","0.to.200","gt.200","none","0.to.200","0.to.200","none","0.to.200","none","0.to.200","none","lt.0","none","0.to.200","none","none","none","lt.0","0.to.200","gt.200","gt.200","none","lt.0","none","none","lt.0","lt.0","0.to.200","none","none","none","none","0.to.200","lt.0","none","none","0.to.200","none","lt.0","0.to.200","none","gt.200","none","none","none","0.to.200","0.to.200","none","none","0.to.200","lt.0","lt.0","none","0.to.200","lt.0","lt.0","0.to.200","none","none","0.to.200","none","none","0.to.200","0.to.200","none","lt.0","none","gt.200","0.to.200","none","none","none","lt.0","none","lt.0","lt.0","none","0.to.200","none","0.to.200","0.to.200","none","0.to.200","0.to.200","none","none","none","lt.0","none","0.to.200","lt.0","none","lt.0","0.to.200","none","none","lt.0","gt.200","none","lt.0","0.to.200","none","0.to.200","none","lt.0","0.to.200","gt.200","0.to.200","none","none","none","none","lt.0","none","lt.0","lt.0","lt.0","none","lt.0","lt.0","0.to.200","0.to.200","none","lt.0","lt.0","none","none","none","0.to.200","lt.0","lt.0","none","0.to.200","lt.0","none","gt.200","0.to.200","lt.0","0.to.200","0.to.200","lt.0","none","none","0.to.200","none","none","none","none","none","0.to.200","none","0.to.200","lt.0","lt.0","0.to.200","none","0.to.200","gt.200","lt.0","lt.0","gt.200","0.to.200","lt.0","none","gt.200","0.to.200","none","none","lt.0","none","gt.200","0.to.200","none","lt.0","lt.0","none","lt.0","none","none","lt.0","lt.0","none","0.to.200","0.to.200","none","none","lt.0","lt.0","0.to.200","0.to.200","none","none","none","gt.200","lt.0","0.to.200","lt.0","gt.200","0.to.200","none","lt.0","gt.200","none","lt.0","none","none","lt.0","none","none","none","lt.0","0.to.200","0.to.200","0.to.200","0.to.200","none","lt.0","0.to.200","lt.0","lt.0","gt.200","0.to.200","0.to.200","0.to.200","lt.0","none","0.to.200","lt.0","lt.0","none","none","lt.0","0.to.200","none","0.to.200","none","0.to.200","none","0.to.200","0.to.200","none","0.to.200","none","lt.0","lt.0","lt.0","lt.0","lt.0","lt.0","0.to.200","none","0.to.200","lt.0","0.to.200","lt.0","0.to.200","none","none","0.to.200","0.to.200","0.to.200","none","gt.200","lt.0","none","0.to.200","none","none","lt.0","gt.200","lt.0","lt.0","none","0.to.200","0.to.200","lt.0","0.to.200","none","0.to.200","none","none","lt.0","lt.0","none","gt.200","0.to.200","none","none","lt.0","lt.0","0.to.200","none","0.to.200","none","none","none","none","lt.0","lt.0","0.to.200","none","none","lt.0","none","lt.0","none","gt.200","lt.0","lt.0","0.to.200","lt.0","0.to.200","none","lt.0","0.to.200","none","0.to.200","0.to.200","gt.200","lt.0","none","0.to.200","gt.200","none","0.to.200","none","lt.0","gt.200","none","none","none","none","none","none","none","0.to.200","lt.0","none","none","none","none","none","0.to.200","none","gt.200","0.to.200","none","lt.0","lt.0","0.to.200","0.to.200","lt.0","none","none","0.to.200","none","none","gt.200","none","lt.0","gt.200","0.to.200","0.to.200","none","0.to.200","0.to.200","0.to.200","0.to.200","none","lt.0","none","lt.0","0.to.200","none","none","none","gt.200","0.to.200","gt.200","0.to.200","lt.0","0.to.200","none","none","none","lt.0","0.to.200","gt.200","0.to.200","lt.0","0.to.200","none","none","0.to.200","0.to.200","lt.0","none","0.to.200","lt.0","0.to.200","none","lt.0","lt.0","lt.0","lt.0","lt.0","none","none","lt.0","lt.0","0.to.200","none","none","lt.0","gt.200","gt.200","none","lt.0","none","lt.0","lt.0","none","none","0.to.200","lt.0","none","0.to.200","none","lt.0","lt.0","none","none","gt.200","lt.0","none","lt.0","none","0.to.200","0.to.200","none","0.to.200","0.to.200","0.to.200","0.to.200","none","none","0.to.200","lt.0","0.to.200","none","none","gt.200","none","none","lt.0","none","none","0.to.200","none","0.to.200","lt.0","none","0.to.200","lt.0","0.to.200","none","0.to.200","0.to.200","0.to.200","0.to.200","lt.0","lt.0","lt.0","0.to.200","none","none","lt.0","lt.0","none","gt.200","lt.0","lt.0","none","lt.0","lt.0","none","lt.0","0.to.200","none","lt.0","lt.0","0.to.200","gt.200","lt.0","none","none","lt.0","none","lt.0","none","none","none","none","0.to.200","none","none","lt.0","lt.0","lt.0","none","none","lt.0","none","none","none","none","lt.0","none","none","none","lt.0","none","none","none","lt.0","none","none","lt.0","none","gt.200","lt.0","none","lt.0","0.to.200","lt.0","none","lt.0","none","none","none","0.to.200","none","0.to.200","lt.0","0.to.200","0.to.200","none","none","lt.0","none","lt.0","0.to.200","none","none","lt.0","none","none","lt.0","lt.0","none","none","none","none","lt.0","lt.0","0.to.200","none","0.to.200","none","0.to.200","0.to.200","none","lt.0","0.to.200","none","lt.0","lt.0","lt.0","none","none","lt.0","0.to.200","lt.0","lt.0","lt.0","lt.0","none","lt.0","lt.0","0.to.200","none","none","lt.0","0.to.200","gt.200","0.to.200","0.to.200","none","none","none","none","none","lt.0","0.to.200","lt.0","none","none","none","0.to.200","lt.0","0.to.200","none","lt.0","lt.0","gt.200","0.to.200","lt.0","0.to.200","none","0.to.200","none","none","0.to.200","0.to.200","0.to.200","none","none","lt.0","0.to.200","none","lt.0","lt.0","none","gt.200","0.to.200","0.to.200","none","0.to.200","0.to.200","none","gt.200","lt.0","none","lt.0","gt.200","none","lt.0","0.to.200","none","none","lt.0","lt.0","none","none","lt.0","none","lt.0","0.to.200"],["Critical","PaidDuly","Critical","PaidDuly","Delay","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","NoCredit.AllPaid","PaidDuly","PaidDuly","Critical","PaidDuly","Critical","Critical","Critical","PaidDuly","NoCredit.AllPaid","ThisBank.AllPaid","PaidDuly","Delay","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Delay","Critical","Critical","Critical","PaidDuly","PaidDuly","Critical","PaidDuly","Delay","Delay","PaidDuly","PaidDuly","Delay","ThisBank.AllPaid","PaidDuly","Critical","PaidDuly","Critical","PaidDuly","Critical","NoCredit.AllPaid","NoCredit.AllPaid","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","Critical","PaidDuly","Critical","PaidDuly","Delay","NoCredit.AllPaid","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","NoCredit.AllPaid","Critical","Critical","Critical","Critical","PaidDuly","NoCredit.AllPaid","Critical","PaidDuly","Critical","Delay","PaidDuly","PaidDuly","Delay","Critical","PaidDuly","Critical","ThisBank.AllPaid","PaidDuly","PaidDuly","PaidDuly","Delay","PaidDuly","PaidDuly","Critical","PaidDuly","Critical","PaidDuly","Critical","Critical","Critical","PaidDuly","Critical","PaidDuly","Critical","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","Delay","PaidDuly","PaidDuly","PaidDuly","Critical","Delay","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","ThisBank.AllPaid","Critical","Critical","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","Delay","PaidDuly","Critical","ThisBank.AllPaid","PaidDuly","Critical","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","NoCredit.AllPaid","PaidDuly","Delay","PaidDuly","Delay","ThisBank.AllPaid","PaidDuly","Critical","PaidDuly","Critical","Delay","Delay","ThisBank.AllPaid","Critical","Critical","Critical","ThisBank.AllPaid","Critical","PaidDuly","NoCredit.AllPaid","PaidDuly","NoCredit.AllPaid","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","Delay","Critical","PaidDuly","Delay","PaidDuly","Critical","Critical","Critical","Critical","PaidDuly","PaidDuly","Critical","PaidDuly","NoCredit.AllPaid","Delay","Critical","Critical","NoCredit.AllPaid","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Delay","PaidDuly","NoCredit.AllPaid","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","NoCredit.AllPaid","Critical","ThisBank.AllPaid","PaidDuly","Critical","NoCredit.AllPaid","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","Delay","PaidDuly","Delay","Critical","ThisBank.AllPaid","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","Critical","Critical","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","ThisBank.AllPaid","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","ThisBank.AllPaid","Critical","Critical","PaidDuly","PaidDuly","Delay","PaidDuly","Delay","PaidDuly","PaidDuly","Critical","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","NoCredit.AllPaid","Critical","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","ThisBank.AllPaid","PaidDuly","PaidDuly","Critical","Delay","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","Critical","NoCredit.AllPaid","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","Delay","Critical","PaidDuly","PaidDuly","Critical","NoCredit.AllPaid","PaidDuly","PaidDuly","Critical","Delay","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Delay","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","Critical","ThisBank.AllPaid","ThisBank.AllPaid","Delay","Delay","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Delay","Critical","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","Delay","PaidDuly","Critical","PaidDuly","Critical","PaidDuly","Critical","Delay","Delay","Delay","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","Critical","PaidDuly","Delay","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","Delay","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","ThisBank.AllPaid","PaidDuly","PaidDuly","Delay","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","Delay","Critical","PaidDuly","NoCredit.AllPaid","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Delay","Delay","Delay","Delay","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","NoCredit.AllPaid","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","Delay","Critical","Delay","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","NoCredit.AllPaid","Critical","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","ThisBank.AllPaid","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Delay","PaidDuly","Critical","Critical","Critical","PaidDuly","Critical","Critical","PaidDuly","NoCredit.AllPaid","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Delay","PaidDuly","PaidDuly","Critical","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","Delay","PaidDuly","PaidDuly","Critical","Delay","Critical","PaidDuly","ThisBank.AllPaid","Critical","Critical","ThisBank.AllPaid","PaidDuly","Critical","PaidDuly","PaidDuly","NoCredit.AllPaid","NoCredit.AllPaid","ThisBank.AllPaid","Critical","PaidDuly","ThisBank.AllPaid","Delay","PaidDuly","Delay","Delay","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","Critical","Critical","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","Critical","Delay","PaidDuly","PaidDuly","ThisBank.AllPaid","ThisBank.AllPaid","PaidDuly","NoCredit.AllPaid","Critical","Delay","PaidDuly","PaidDuly","ThisBank.AllPaid","PaidDuly","PaidDuly","ThisBank.AllPaid","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","ThisBank.AllPaid","Delay","NoCredit.AllPaid","Delay","Critical","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","ThisBank.AllPaid","Critical","PaidDuly","PaidDuly","ThisBank.AllPaid","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Delay","PaidDuly","Delay","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","Delay","NoCredit.AllPaid","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Delay","Critical","PaidDuly","PaidDuly","PaidDuly","NoCredit.AllPaid","Critical","PaidDuly","PaidDuly","PaidDuly","Delay","Critical","Critical","ThisBank.AllPaid","ThisBank.AllPaid","Critical","Critical","Critical","PaidDuly","PaidDuly","Critical","Delay","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Delay","Critical","Delay","PaidDuly","Critical","Delay","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","Critical","PaidDuly","Delay","PaidDuly","PaidDuly","PaidDuly","NoCredit.AllPaid","PaidDuly","PaidDuly","Critical","ThisBank.AllPaid","PaidDuly","Critical","PaidDuly","Critical","Critical","PaidDuly","Critical","NoCredit.AllPaid","NoCredit.AllPaid","ThisBank.AllPaid","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","ThisBank.AllPaid","Critical","Delay","PaidDuly","PaidDuly","PaidDuly","Critical","ThisBank.AllPaid","PaidDuly","PaidDuly","Critical","NoCredit.AllPaid","ThisBank.AllPaid","ThisBank.AllPaid","PaidDuly","ThisBank.AllPaid","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","Delay","PaidDuly","Critical","Critical","PaidDuly","Critical","Critical","Critical","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","Critical","Critical","Critical","Critical","PaidDuly","Critical","PaidDuly","Critical","PaidDuly","Critical","Critical","NoCredit.AllPaid","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","Delay","Critical","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","Delay","PaidDuly","Critical","Critical","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","ThisBank.AllPaid","NoCredit.AllPaid","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","Delay","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","Critical","Critical","NoCredit.AllPaid","PaidDuly","Delay","Delay","PaidDuly","NoCredit.AllPaid","PaidDuly","PaidDuly","NoCredit.AllPaid","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","Delay","PaidDuly","ThisBank.AllPaid","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","Critical","ThisBank.AllPaid","Delay","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","Delay","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","Delay","Critical","Critical","PaidDuly","PaidDuly","Critical","ThisBank.AllPaid","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","PaidDuly","Critical","PaidDuly","Critical","ThisBank.AllPaid","Critical","Critical","Critical","Critical","Critical","Delay","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","Critical","Critical","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Delay","PaidDuly","Delay","Critical","PaidDuly","PaidDuly","ThisBank.AllPaid","NoCredit.AllPaid","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","Delay","PaidDuly","PaidDuly","ThisBank.AllPaid","ThisBank.AllPaid","Critical","PaidDuly","PaidDuly","Delay","PaidDuly","PaidDuly","Critical","Critical","PaidDuly","Delay","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","NoCredit.AllPaid","ThisBank.AllPaid","PaidDuly","PaidDuly","PaidDuly","Critical","Delay","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","Critical","PaidDuly","PaidDuly","Critical","Delay","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","Critical","PaidDuly","PaidDuly","ThisBank.AllPaid","PaidDuly","Critical","PaidDuly","PaidDuly","Delay","Delay","ThisBank.AllPaid","Critical","PaidDuly","PaidDuly","PaidDuly","Critical","Critical","NoCredit.AllPaid","PaidDuly","PaidDuly","Critical","Critical","ThisBank.AllPaid","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","PaidDuly","Critical"],["Radio.Television","Radio.Television","Education","Furniture.Equipment","NewCar","Education","Furniture.Equipment","UsedCar","Radio.Television","NewCar","NewCar","Business","Radio.Television","NewCar","NewCar","Radio.Television","Radio.Television","Business","UsedCar","Radio.Television","NewCar","Radio.Television","NewCar","UsedCar","Furniture.Equipment","Furniture.Equipment","Radio.Television","Radio.Television","Radio.Television","Business","Business","Furniture.Equipment","NewCar","Business","Furniture.Equipment","Radio.Television","Education","Radio.Television","DomesticAppliance","Radio.Television","Radio.Television","Radio.Television","Repairs","UsedCar","UsedCar","NewCar","Radio.Television","UsedCar","NewCar","Radio.Television","Furniture.Equipment","UsedCar","Radio.Television","UsedCar","NewCar","NewCar","Radio.Television","Radio.Television","NewCar","Furniture.Equipment","Business","Radio.Television","Business","Business","Radio.Television","Repairs","Radio.Television","NewCar","Education","Radio.Television","UsedCar","Radio.Television","Other","Business","Education","UsedCar","Radio.Television","Radio.Television","UsedCar","Furniture.Equipment","Radio.Television","Radio.Television","Business","Other","Radio.Television","Business","Furniture.Equipment","Education","NewCar","Repairs","Radio.Television","UsedCar","Radio.Television","Furniture.Equipment","NewCar","Business","Education","Business","Radio.Television","UsedCar","NewCar","Radio.Television","Radio.Television","Furniture.Equipment","UsedCar","Other","NewCar","NewCar","Furniture.Equipment","Business","Business","Education","NewCar","NewCar","Radio.Television","Radio.Television","Radio.Television","Furniture.Equipment","Furniture.Equipment","NewCar","Radio.Television","UsedCar","Furniture.Equipment","NewCar","Furniture.Equipment","NewCar","Radio.Television","Repairs","UsedCar","NewCar","NewCar","Education","Furniture.Equipment","Furniture.Equipment","Radio.Television","Radio.Television","UsedCar","Radio.Television","Radio.Television","Radio.Television","NewCar","Radio.Television","Radio.Television","Furniture.Equipment","Furniture.Equipment","Business","NewCar","NewCar","Furniture.Equipment","Radio.Television","Radio.Television","Radio.Television","Radio.Television","UsedCar","Business","Furniture.Equipment","Repairs","Retraining","NewCar","Radio.Television","Radio.Television","NewCar","DomesticAppliance","NewCar","NewCar","Furniture.Equipment","Furniture.Equipment","Furniture.Equipment","Furniture.Equipment","Business","NewCar","Furniture.Equipment","Furniture.Equipment","Radio.Television","Education","UsedCar","Furniture.Equipment","Radio.Television","Radio.Television","NewCar","Business","Business","NewCar","Furniture.Equipment","NewCar","Radio.Television","UsedCar","NewCar","Radio.Television","Furniture.Equipment","Business","Business","Business","Radio.Television","Radio.Television","Education","Radio.Television","Furniture.Equipment","UsedCar","Furniture.Equipment","Education","NewCar","Business","Retraining","NewCar","UsedCar","Furniture.Equipment","DomesticAppliance","Business","UsedCar","Radio.Television","Radio.Television","Business","Business","Radio.Television","Retraining","Business","Radio.Television","Furniture.Equipment","NewCar","Radio.Television","Education","Radio.Television","Business","UsedCar","Repairs","Radio.Television","Furniture.Equipment","Radio.Television","Furniture.Equipment","Radio.Television","NewCar","Radio.Television","Radio.Television","Radio.Television","Radio.Television","NewCar","Business","Radio.Television","Radio.Television","NewCar","Radio.Television","UsedCar","Business","Retraining","Business","Radio.Television","NewCar","Furniture.Equipment","Radio.Television","NewCar","Furniture.Equipment","NewCar","Furniture.Equipment","Furniture.Equipment","Radio.Television","Radio.Television","Radio.Television","UsedCar","Radio.Television","Furniture.Equipment","Radio.Television","NewCar","Education","NewCar","Radio.Television","Business","Radio.Television","NewCar","Radio.Television","NewCar","Furniture.Equipment","NewCar","Radio.Television","Repairs","Radio.Television","Radio.Television","Furniture.Equipment","Furniture.Equipment","Radio.Television","UsedCar","Furniture.Equipment","Radio.Television","Furniture.Equipment","NewCar","NewCar","UsedCar","Other","Radio.Television","Radio.Television","Business","UsedCar","UsedCar","UsedCar","Business","Furniture.Equipment","UsedCar","NewCar","Furniture.Equipment","Furniture.Equipment","NewCar","Radio.Television","NewCar","NewCar","NewCar","Furniture.Equipment","UsedCar","Radio.Television","Furniture.Equipment","NewCar","Other","Furniture.Equipment","Furniture.Equipment","NewCar","NewCar","Furniture.Equipment","Furniture.Equipment","Furniture.Equipment","Education","Furniture.Equipment","NewCar","Radio.Television","UsedCar","Furniture.Equipment","NewCar","NewCar","Furniture.Equipment","NewCar","Radio.Television","Radio.Television","UsedCar","Education","NewCar","UsedCar","Furniture.Equipment","Furniture.Equipment","Radio.Television","DomesticAppliance","Furniture.Equipment","Furniture.Equipment","Education","Furniture.Equipment","Radio.Television","Business","NewCar","Radio.Television","Radio.Television","Radio.Television","Business","Education","DomesticAppliance","Furniture.Equipment","UsedCar","Radio.Television","Education","NewCar","Radio.Television","Radio.Television","Radio.Television","Furniture.Equipment","Education","Radio.Television","NewCar","Furniture.Equipment","Furniture.Equipment","Business","UsedCar","Furniture.Equipment","Furniture.Equipment","Furniture.Equipment","NewCar","Radio.Television","Furniture.Equipment","NewCar","Other","Business","Radio.Television","Radio.Television","NewCar","NewCar","Furniture.Equipment","UsedCar","NewCar","NewCar","Business","Radio.Television","Radio.Television","Furniture.Equipment","Business","Business","NewCar","Furniture.Equipment","NewCar","Radio.Television","Furniture.Equipment","Education","Furniture.Equipment","Furniture.Equipment","NewCar","Radio.Television","Radio.Television","Business","Business","NewCar","NewCar","Radio.Television","UsedCar","Radio.Television","Radio.Television","NewCar","Radio.Television","UsedCar","Business","NewCar","NewCar","UsedCar","NewCar","Education","NewCar","NewCar","NewCar","UsedCar","NewCar","Furniture.Equipment","Furniture.Equipment","UsedCar","Radio.Television","Radio.Television","Furniture.Equipment","Repairs","Business","Other","Furniture.Equipment","Repairs","Furniture.Equipment","Radio.Television","Repairs","NewCar","Repairs","Business","NewCar","Furniture.Equipment","Other","Education","Furniture.Equipment","Education","NewCar","Radio.Television","Furniture.Equipment","Repairs","UsedCar","Radio.Television","Furniture.Equipment","UsedCar","NewCar","UsedCar","NewCar","UsedCar","DomesticAppliance","Radio.Television","Furniture.Equipment","NewCar","Furniture.Equipment","Retraining","Business","UsedCar","Radio.Television","Radio.Television","Business","UsedCar","Radio.Television","Education","NewCar","Retraining","Radio.Television","Furniture.Equipment","UsedCar","Radio.Television","Business","Furniture.Equipment","Radio.Television","NewCar","Furniture.Equipment","Furniture.Equipment","NewCar","NewCar","Radio.Television","NewCar","NewCar","NewCar","Radio.Television","Business","Radio.Television","Radio.Television","NewCar","Furniture.Equipment","Furniture.Equipment","Furniture.Equipment","Radio.Television","NewCar","NewCar","UsedCar","Radio.Television","Radio.Television","NewCar","NewCar","UsedCar","NewCar","Radio.Television","UsedCar","NewCar","UsedCar","Business","Radio.Television","NewCar","NewCar","NewCar","Furniture.Equipment","NewCar","Radio.Television","Repairs","Radio.Television","Furniture.Equipment","UsedCar","Radio.Television","UsedCar","Education","Radio.Television","Radio.Television","NewCar","Education","NewCar","UsedCar","Radio.Television","Radio.Television","Education","NewCar","Furniture.Equipment","NewCar","Furniture.Equipment","Radio.Television","NewCar","Furniture.Equipment","Furniture.Equipment","NewCar","NewCar","NewCar","Radio.Television","Radio.Television","UsedCar","Repairs","Radio.Television","Radio.Television","NewCar","Education","Radio.Television","NewCar","NewCar","Furniture.Equipment","Furniture.Equipment","UsedCar","Radio.Television","Radio.Television","NewCar","Business","Radio.Television","NewCar","Radio.Television","Radio.Television","Radio.Television","Furniture.Equipment","Radio.Television","UsedCar","Business","Radio.Television","Furniture.Equipment","Radio.Television","Education","NewCar","Retraining","NewCar","NewCar","Furniture.Equipment","Repairs","NewCar","Furniture.Equipment","NewCar","Furniture.Equipment","DomesticAppliance","Furniture.Equipment","Radio.Television","NewCar","Business","NewCar","Other","NewCar","NewCar","Business","NewCar","Business","Radio.Television","Furniture.Equipment","Education","Furniture.Equipment","Furniture.Equipment","Furniture.Equipment","Business","Radio.Television","Radio.Television","UsedCar","DomesticAppliance","NewCar","Radio.Television","UsedCar","Furniture.Equipment","Business","Radio.Television","NewCar","Furniture.Equipment","NewCar","Business","NewCar","Business","Furniture.Equipment","Radio.Television","Radio.Television","Furniture.Equipment","NewCar","Furniture.Equipment","Education","Radio.Television","Furniture.Equipment","Radio.Television","Furniture.Equipment","NewCar","Education","Radio.Television","Radio.Television","Radio.Television","Radio.Television","Education","Repairs","Education","Radio.Television","Radio.Television","Business","Furniture.Equipment","NewCar","NewCar","Education","Education","Furniture.Equipment","NewCar","NewCar","UsedCar","NewCar","NewCar","Radio.Television","Business","Furniture.Equipment","Radio.Television","NewCar","Furniture.Equipment","Furniture.Equipment","Education","Other","Furniture.Equipment","Business","NewCar","Radio.Television","Business","Business","NewCar","NewCar","Business","Radio.Television","Furniture.Equipment","Radio.Television","Radio.Television","Radio.Television","Education","Radio.Television","Radio.Television","Radio.Television","Business","NewCar","Radio.Television","NewCar","Radio.Television","NewCar","Furniture.Equipment","Repairs","Radio.Television","NewCar","Radio.Television","UsedCar","Radio.Television","NewCar","Radio.Television","Education","Furniture.Equipment","UsedCar","Radio.Television","Business","Business","NewCar","NewCar","Furniture.Equipment","Radio.Television","Radio.Television","Radio.Television","Education","UsedCar","Radio.Television","NewCar","UsedCar","Radio.Television","Radio.Television","Radio.Television","UsedCar","Radio.Television","Education","NewCar","Radio.Television","NewCar","NewCar","Radio.Television","Radio.Television","Business","Business","Radio.Television","Radio.Television","Radio.Television","UsedCar","NewCar","DomesticAppliance","UsedCar","NewCar","NewCar","Business","NewCar","Radio.Television","Radio.Television","Furniture.Equipment","Furniture.Equipment","Business","NewCar","NewCar","UsedCar","UsedCar","Furniture.Equipment","NewCar","Business","Radio.Television","Repairs","NewCar","NewCar","Radio.Television","NewCar","NewCar","NewCar","Furniture.Equipment","Radio.Television","NewCar","NewCar","Radio.Television","Furniture.Equipment","UsedCar","Furniture.Equipment","Radio.Television","UsedCar","Education","UsedCar","Radio.Television","NewCar","NewCar","NewCar","Radio.Television","UsedCar","Repairs","Radio.Television","NewCar","Retraining","NewCar","UsedCar","Business","Radio.Television","UsedCar","Education","Education","Business","UsedCar","Furniture.Equipment","Furniture.Equipment","Furniture.Equipment","Furniture.Equipment","UsedCar","Furniture.Equipment","NewCar","NewCar","Education","Radio.Television","Furniture.Equipment","Radio.Television","NewCar","NewCar","Radio.Television","Radio.Television","UsedCar","NewCar","Business","Radio.Television","UsedCar","DomesticAppliance","NewCar","NewCar","DomesticAppliance","Radio.Television","Other","Radio.Television","NewCar","Radio.Television","Furniture.Equipment","NewCar","Furniture.Equipment","NewCar","NewCar","Business","UsedCar","Business","Business","NewCar","Business","Radio.Television","Radio.Television","NewCar","Radio.Television","Furniture.Equipment","UsedCar","Radio.Television","Furniture.Equipment","UsedCar","Repairs","Business","Furniture.Equipment","Furniture.Equipment","NewCar","NewCar","Radio.Television","Radio.Television","NewCar","UsedCar","Radio.Television","NewCar","NewCar","NewCar","Retraining","Furniture.Equipment","NewCar","NewCar","UsedCar","Business","Radio.Television","Furniture.Equipment","Furniture.Equipment","Furniture.Equipment","Radio.Television","Furniture.Equipment","Business","Furniture.Equipment","Furniture.Equipment","NewCar","Business","DomesticAppliance","Furniture.Equipment","NewCar","Radio.Television","Radio.Television","NewCar","Radio.Television","UsedCar","UsedCar","NewCar","Radio.Television","Furniture.Equipment","Education","Business","Business","NewCar","UsedCar","Business","Radio.Television","NewCar","UsedCar","Radio.Television","UsedCar","Radio.Television","Furniture.Equipment","Furniture.Equipment","Furniture.Equipment","NewCar","NewCar","UsedCar","Radio.Television","Radio.Television","Radio.Television","NewCar","Education","UsedCar","NewCar","Radio.Television","Furniture.Equipment","Radio.Television","Business","Business","Other","UsedCar","NewCar","Furniture.Equipment","Furniture.Equipment","Furniture.Equipment","Radio.Television","Radio.Television","NewCar","Furniture.Equipment","NewCar","Furniture.Equipment","UsedCar","Radio.Television","NewCar","Furniture.Equipment","Radio.Television","NewCar","Radio.Television","Radio.Television","Radio.Television","Radio.Television","Radio.Television","Education","UsedCar","NewCar","NewCar","Furniture.Equipment","NewCar","Furniture.Equipment","NewCar","Furniture.Equipment","NewCar","Furniture.Equipment","Radio.Television","Business","Business","UsedCar","Furniture.Equipment","NewCar","Radio.Television","Radio.Television","Radio.Television","NewCar","Furniture.Equipment","Radio.Television","NewCar","NewCar","Radio.Television","Repairs","Radio.Television","Radio.Television","Radio.Television","Radio.Television","NewCar","Repairs","NewCar","NewCar","Business","Radio.Television","Radio.Television","Radio.Television","Business","NewCar","NewCar","Furniture.Equipment","Business","NewCar","UsedCar","Furniture.Equipment","Furniture.Equipment","Business","Radio.Television","UsedCar","Radio.Television","Education","Radio.Television","Radio.Television","Furniture.Equipment","NewCar","Furniture.Equipment","UsedCar","Radio.Television","Radio.Television","UsedCar"],["Unknown","lt.100","lt.100","lt.100","lt.100","Unknown","500.to.1000","lt.100","gt.1000","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","100.to.500","Unknown","Unknown","lt.100","500.to.1000","lt.100","500.to.1000","lt.100","100.to.500","Unknown","lt.100","lt.100","gt.1000","lt.100","lt.100","gt.1000","lt.100","100.to.500","Unknown","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","500.to.1000","500.to.1000","lt.100","100.to.500","lt.100","lt.100","500.to.1000","500.to.1000","lt.100","100.to.500","Unknown","lt.100","lt.100","Unknown","lt.100","Unknown","Unknown","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","Unknown","lt.100","gt.1000","lt.100","Unknown","lt.100","Unknown","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","Unknown","lt.100","Unknown","500.to.1000","100.to.500","lt.100","lt.100","lt.100","lt.100","100.to.500","100.to.500","lt.100","lt.100","lt.100","Unknown","Unknown","gt.1000","lt.100","Unknown","100.to.500","lt.100","Unknown","100.to.500","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","Unknown","500.to.1000","100.to.500","lt.100","lt.100","lt.100","500.to.1000","Unknown","Unknown","Unknown","500.to.1000","500.to.1000","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","100.to.500","Unknown","gt.1000","500.to.1000","Unknown","lt.100","gt.1000","lt.100","lt.100","lt.100","lt.100","100.to.500","lt.100","100.to.500","lt.100","gt.1000","100.to.500","lt.100","lt.100","gt.1000","100.to.500","lt.100","100.to.500","lt.100","100.to.500","Unknown","100.to.500","lt.100","500.to.1000","lt.100","500.to.1000","500.to.1000","lt.100","gt.1000","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","500.to.1000","lt.100","lt.100","lt.100","lt.100","Unknown","gt.1000","lt.100","lt.100","lt.100","lt.100","100.to.500","lt.100","gt.1000","100.to.500","lt.100","lt.100","100.to.500","lt.100","lt.100","100.to.500","Unknown","lt.100","500.to.1000","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","gt.1000","Unknown","Unknown","lt.100","lt.100","Unknown","Unknown","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","Unknown","lt.100","lt.100","gt.1000","lt.100","lt.100","lt.100","lt.100","500.to.1000","100.to.500","lt.100","lt.100","lt.100","Unknown","100.to.500","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","500.to.1000","lt.100","lt.100","100.to.500","lt.100","lt.100","gt.1000","lt.100","lt.100","100.to.500","Unknown","Unknown","lt.100","lt.100","100.to.500","100.to.500","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","Unknown","Unknown","500.to.1000","Unknown","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","100.to.500","gt.1000","lt.100","Unknown","Unknown","100.to.500","lt.100","lt.100","100.to.500","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","Unknown","Unknown","lt.100","gt.1000","lt.100","lt.100","Unknown","lt.100","500.to.1000","gt.1000","Unknown","100.to.500","lt.100","lt.100","Unknown","100.to.500","lt.100","lt.100","Unknown","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","lt.100","gt.1000","lt.100","lt.100","Unknown","gt.1000","lt.100","lt.100","lt.100","100.to.500","100.to.500","100.to.500","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","500.to.1000","lt.100","lt.100","lt.100","lt.100","500.to.1000","100.to.500","gt.1000","lt.100","lt.100","Unknown","lt.100","500.to.1000","lt.100","Unknown","lt.100","lt.100","lt.100","Unknown","Unknown","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","Unknown","100.to.500","lt.100","lt.100","Unknown","lt.100","100.to.500","Unknown","lt.100","Unknown","lt.100","100.to.500","lt.100","Unknown","lt.100","500.to.1000","lt.100","lt.100","gt.1000","lt.100","lt.100","lt.100","100.to.500","lt.100","lt.100","lt.100","gt.1000","lt.100","Unknown","lt.100","lt.100","Unknown","lt.100","Unknown","lt.100","500.to.1000","500.to.1000","lt.100","lt.100","lt.100","500.to.1000","Unknown","lt.100","lt.100","Unknown","500.to.1000","Unknown","gt.1000","Unknown","lt.100","100.to.500","Unknown","lt.100","lt.100","gt.1000","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","500.to.1000","gt.1000","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","Unknown","gt.1000","Unknown","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","100.to.500","lt.100","lt.100","Unknown","lt.100","lt.100","500.to.1000","lt.100","100.to.500","lt.100","lt.100","lt.100","gt.1000","gt.1000","500.to.1000","lt.100","lt.100","lt.100","100.to.500","lt.100","lt.100","lt.100","100.to.500","Unknown","lt.100","Unknown","100.to.500","lt.100","lt.100","100.to.500","lt.100","lt.100","100.to.500","100.to.500","lt.100","Unknown","500.to.1000","100.to.500","lt.100","100.to.500","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","100.to.500","Unknown","lt.100","lt.100","lt.100","100.to.500","lt.100","lt.100","100.to.500","lt.100","lt.100","lt.100","lt.100","100.to.500","lt.100","100.to.500","Unknown","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","Unknown","500.to.1000","lt.100","100.to.500","lt.100","lt.100","100.to.500","Unknown","lt.100","lt.100","Unknown","lt.100","lt.100","Unknown","Unknown","100.to.500","lt.100","gt.1000","Unknown","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","gt.1000","lt.100","Unknown","100.to.500","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","500.to.1000","lt.100","100.to.500","lt.100","Unknown","100.to.500","100.to.500","gt.1000","lt.100","lt.100","Unknown","Unknown","lt.100","100.to.500","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","Unknown","lt.100","100.to.500","500.to.1000","Unknown","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","500.to.1000","lt.100","lt.100","lt.100","lt.100","lt.100","100.to.500","lt.100","lt.100","Unknown","lt.100","500.to.1000","lt.100","lt.100","lt.100","lt.100","lt.100","100.to.500","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","gt.1000","lt.100","lt.100","lt.100","100.to.500","100.to.500","lt.100","500.to.1000","500.to.1000","lt.100","lt.100","100.to.500","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","100.to.500","Unknown","Unknown","100.to.500","100.to.500","gt.1000","lt.100","100.to.500","100.to.500","Unknown","lt.100","500.to.1000","lt.100","lt.100","lt.100","lt.100","500.to.1000","lt.100","100.to.500","100.to.500","lt.100","500.to.1000","100.to.500","lt.100","lt.100","lt.100","500.to.1000","lt.100","Unknown","lt.100","lt.100","Unknown","Unknown","lt.100","Unknown","100.to.500","lt.100","gt.1000","lt.100","500.to.1000","lt.100","gt.1000","500.to.1000","lt.100","lt.100","gt.1000","lt.100","lt.100","lt.100","gt.1000","lt.100","Unknown","lt.100","100.to.500","lt.100","100.to.500","100.to.500","lt.100","Unknown","500.to.1000","Unknown","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","100.to.500","lt.100","gt.1000","Unknown","lt.100","Unknown","lt.100","lt.100","Unknown","lt.100","lt.100","Unknown","100.to.500","lt.100","lt.100","Unknown","lt.100","lt.100","Unknown","lt.100","lt.100","100.to.500","500.to.1000","Unknown","lt.100","lt.100","gt.1000","lt.100","lt.100","gt.1000","lt.100","100.to.500","Unknown","gt.1000","500.to.1000","Unknown","lt.100","lt.100","lt.100","Unknown","Unknown","lt.100","500.to.1000","100.to.500","Unknown","lt.100","Unknown","Unknown","lt.100","lt.100","lt.100","Unknown","Unknown","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","500.to.1000","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","Unknown","500.to.1000","lt.100","lt.100","Unknown","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","Unknown","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","100.to.500","Unknown","lt.100","lt.100","100.to.500","gt.1000","lt.100","lt.100","gt.1000","lt.100","500.to.1000","lt.100","lt.100","Unknown","lt.100","500.to.1000","lt.100","100.to.500","Unknown","lt.100","gt.1000","lt.100","lt.100","lt.100","Unknown","lt.100","Unknown","Unknown","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","Unknown","Unknown","lt.100","gt.1000","Unknown","lt.100","lt.100","Unknown","Unknown","Unknown","lt.100","lt.100","Unknown","Unknown","lt.100","Unknown","lt.100","lt.100","Unknown","gt.1000","lt.100","lt.100","100.to.500","lt.100","100.to.500","lt.100","lt.100","500.to.1000","lt.100","lt.100","lt.100","lt.100","lt.100","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","500.to.1000","lt.100","100.to.500","lt.100","lt.100","lt.100","Unknown","Unknown","lt.100","Unknown","lt.100","lt.100","500.to.1000","500.to.1000","Unknown","lt.100","100.to.500","lt.100","lt.100","500.to.1000","lt.100","lt.100","gt.1000","Unknown","lt.100","lt.100","100.to.500","lt.100","lt.100","Unknown","500.to.1000","lt.100","Unknown","500.to.1000","lt.100","Unknown","lt.100","100.to.500","lt.100","lt.100","lt.100","lt.100","500.to.1000","lt.100","Unknown","lt.100","100.to.500","lt.100","lt.100","100.to.500","lt.100","lt.100","lt.100","lt.100","100.to.500","lt.100","lt.100","Unknown","100.to.500","Unknown","lt.100","Unknown","lt.100","lt.100","lt.100","lt.100","100.to.500"],["gt.7","1.to.4","4.to.7","4.to.7","1.to.4","1.to.4","gt.7","1.to.4","4.to.7","Unemployed","lt.1","lt.1","1.to.4","gt.7","1.to.4","1.to.4","gt.7","lt.1","gt.7","gt.7","1.to.4","1.to.4","lt.1","lt.1","1.to.4","1.to.4","gt.7","1.to.4","1.to.4","gt.7","lt.1","1.to.4","1.to.4","gt.7","lt.1","lt.1","1.to.4","1.to.4","1.to.4","1.to.4","gt.7","1.to.4","1.to.4","4.to.7","gt.7","lt.1","gt.7","Unemployed","1.to.4","1.to.4","lt.1","gt.7","1.to.4","1.to.4","gt.7","1.to.4","Unemployed","1.to.4","gt.7","lt.1","1.to.4","gt.7","gt.7","1.to.4","lt.1","gt.7","lt.1","1.to.4","1.to.4","1.to.4","1.to.4","gt.7","gt.7","4.to.7","gt.7","gt.7","lt.1","4.to.7","1.to.4","lt.1","lt.1","gt.7","1.to.4","gt.7","gt.7","1.to.4","lt.1","1.to.4","4.to.7","4.to.7","gt.7","gt.7","gt.7","gt.7","gt.7","lt.1","4.to.7","1.to.4","gt.7","4.to.7","gt.7","4.to.7","1.to.4","4.to.7","lt.1","1.to.4","gt.7","4.to.7","lt.1","gt.7","gt.7","lt.1","4.to.7","1.to.4","gt.7","gt.7","4.to.7","lt.1","1.to.4","4.to.7","1.to.4","gt.7","1.to.4","gt.7","lt.1","1.to.4","1.to.4","1.to.4","Unemployed","1.to.4","4.to.7","1.to.4","lt.1","1.to.4","4.to.7","gt.7","1.to.4","1.to.4","4.to.7","1.to.4","lt.1","lt.1","1.to.4","1.to.4","lt.1","4.to.7","gt.7","4.to.7","1.to.4","gt.7","gt.7","1.to.4","1.to.4","gt.7","4.to.7","1.to.4","gt.7","gt.7","4.to.7","1.to.4","gt.7","lt.1","4.to.7","Unemployed","gt.7","1.to.4","Unemployed","lt.1","4.to.7","gt.7","gt.7","1.to.4","Unemployed","1.to.4","lt.1","Unemployed","1.to.4","gt.7","4.to.7","gt.7","lt.1","1.to.4","1.to.4","1.to.4","gt.7","1.to.4","gt.7","Unemployed","4.to.7","1.to.4","1.to.4","4.to.7","1.to.4","4.to.7","1.to.4","gt.7","1.to.4","lt.1","gt.7","gt.7","gt.7","1.to.4","4.to.7","4.to.7","gt.7","gt.7","gt.7","4.to.7","1.to.4","4.to.7","1.to.4","gt.7","Unemployed","gt.7","gt.7","4.to.7","4.to.7","1.to.4","1.to.4","1.to.4","lt.1","1.to.4","1.to.4","1.to.4","1.to.4","1.to.4","4.to.7","gt.7","4.to.7","lt.1","1.to.4","gt.7","4.to.7","1.to.4","4.to.7","Unemployed","Unemployed","gt.7","1.to.4","gt.7","gt.7","4.to.7","gt.7","1.to.4","1.to.4","4.to.7","gt.7","1.to.4","1.to.4","Unemployed","4.to.7","1.to.4","1.to.4","1.to.4","4.to.7","1.to.4","1.to.4","1.to.4","lt.1","Unemployed","1.to.4","gt.7","gt.7","gt.7","gt.7","gt.7","gt.7","lt.1","gt.7","gt.7","4.to.7","4.to.7","Unemployed","4.to.7","lt.1","1.to.4","1.to.4","gt.7","lt.1","1.to.4","gt.7","1.to.4","4.to.7","gt.7","lt.1","lt.1","4.to.7","Unemployed","1.to.4","lt.1","1.to.4","lt.1","gt.7","gt.7","gt.7","lt.1","lt.1","gt.7","1.to.4","4.to.7","Unemployed","1.to.4","4.to.7","4.to.7","1.to.4","1.to.4","4.to.7","lt.1","1.to.4","1.to.4","Unemployed","1.to.4","lt.1","4.to.7","lt.1","gt.7","1.to.4","1.to.4","1.to.4","gt.7","Unemployed","lt.1","4.to.7","1.to.4","1.to.4","4.to.7","gt.7","4.to.7","gt.7","gt.7","Unemployed","1.to.4","lt.1","1.to.4","gt.7","1.to.4","lt.1","1.to.4","1.to.4","1.to.4","lt.1","4.to.7","lt.1","gt.7","lt.1","1.to.4","lt.1","Unemployed","1.to.4","gt.7","lt.1","1.to.4","Unemployed","1.to.4","gt.7","lt.1","gt.7","1.to.4","1.to.4","4.to.7","1.to.4","gt.7","1.to.4","1.to.4","Unemployed","4.to.7","4.to.7","lt.1","gt.7","4.to.7","1.to.4","gt.7","lt.1","gt.7","gt.7","4.to.7","Unemployed","gt.7","gt.7","1.to.4","4.to.7","Unemployed","4.to.7","lt.1","1.to.4","1.to.4","lt.1","Unemployed","1.to.4","4.to.7","1.to.4","lt.1","4.to.7","4.to.7","Unemployed","4.to.7","Unemployed","1.to.4","gt.7","1.to.4","lt.1","1.to.4","lt.1","1.to.4","gt.7","lt.1","4.to.7","lt.1","gt.7","4.to.7","gt.7","4.to.7","Unemployed","1.to.4","1.to.4","gt.7","lt.1","1.to.4","4.to.7","1.to.4","4.to.7","1.to.4","4.to.7","4.to.7","gt.7","1.to.4","gt.7","1.to.4","gt.7","Unemployed","4.to.7","1.to.4","Unemployed","1.to.4","1.to.4","1.to.4","4.to.7","gt.7","Unemployed","lt.1","gt.7","1.to.4","1.to.4","gt.7","1.to.4","gt.7","lt.1","1.to.4","gt.7","1.to.4","1.to.4","1.to.4","gt.7","gt.7","4.to.7","lt.1","1.to.4","gt.7","lt.1","lt.1","1.to.4","lt.1","lt.1","gt.7","4.to.7","1.to.4","lt.1","gt.7","1.to.4","4.to.7","lt.1","lt.1","1.to.4","Unemployed","1.to.4","lt.1","1.to.4","4.to.7","4.to.7","gt.7","1.to.4","lt.1","gt.7","4.to.7","1.to.4","Unemployed","1.to.4","gt.7","1.to.4","1.to.4","gt.7","gt.7","1.to.4","gt.7","1.to.4","1.to.4","lt.1","4.to.7","gt.7","gt.7","lt.1","gt.7","gt.7","lt.1","lt.1","1.to.4","1.to.4","Unemployed","1.to.4","gt.7","4.to.7","1.to.4","4.to.7","1.to.4","lt.1","4.to.7","lt.1","lt.1","gt.7","gt.7","gt.7","1.to.4","1.to.4","4.to.7","1.to.4","lt.1","1.to.4","4.to.7","1.to.4","lt.1","4.to.7","1.to.4","1.to.4","4.to.7","lt.1","lt.1","Unemployed","gt.7","gt.7","lt.1","lt.1","gt.7","gt.7","1.to.4","gt.7","Unemployed","1.to.4","4.to.7","1.to.4","4.to.7","4.to.7","gt.7","4.to.7","lt.1","4.to.7","lt.1","lt.1","1.to.4","4.to.7","lt.1","gt.7","4.to.7","lt.1","1.to.4","1.to.4","4.to.7","4.to.7","gt.7","4.to.7","1.to.4","lt.1","4.to.7","Unemployed","1.to.4","gt.7","4.to.7","4.to.7","1.to.4","lt.1","lt.1","gt.7","lt.1","1.to.4","lt.1","gt.7","1.to.4","1.to.4","1.to.4","1.to.4","gt.7","4.to.7","1.to.4","gt.7","1.to.4","gt.7","lt.1","4.to.7","1.to.4","4.to.7","1.to.4","lt.1","1.to.4","4.to.7","1.to.4","lt.1","1.to.4","1.to.4","1.to.4","lt.1","gt.7","Unemployed","gt.7","lt.1","1.to.4","4.to.7","1.to.4","1.to.4","1.to.4","1.to.4","1.to.4","4.to.7","1.to.4","1.to.4","lt.1","1.to.4","gt.7","1.to.4","4.to.7","1.to.4","gt.7","1.to.4","1.to.4","lt.1","lt.1","lt.1","gt.7","4.to.7","4.to.7","lt.1","4.to.7","Unemployed","gt.7","1.to.4","4.to.7","4.to.7","lt.1","1.to.4","1.to.4","4.to.7","1.to.4","4.to.7","1.to.4","gt.7","gt.7","4.to.7","Unemployed","gt.7","4.to.7","1.to.4","gt.7","1.to.4","1.to.4","gt.7","Unemployed","1.to.4","Unemployed","1.to.4","1.to.4","gt.7","gt.7","1.to.4","4.to.7","gt.7","1.to.4","lt.1","4.to.7","gt.7","1.to.4","gt.7","lt.1","lt.1","1.to.4","1.to.4","lt.1","4.to.7","1.to.4","4.to.7","gt.7","gt.7","1.to.4","1.to.4","1.to.4","lt.1","lt.1","4.to.7","1.to.4","4.to.7","Unemployed","1.to.4","gt.7","1.to.4","gt.7","gt.7","gt.7","lt.1","gt.7","4.to.7","lt.1","gt.7","1.to.4","gt.7","gt.7","gt.7","1.to.4","4.to.7","gt.7","gt.7","1.to.4","1.to.4","gt.7","lt.1","lt.1","1.to.4","1.to.4","1.to.4","1.to.4","1.to.4","1.to.4","gt.7","1.to.4","lt.1","1.to.4","4.to.7","1.to.4","4.to.7","lt.1","1.to.4","1.to.4","4.to.7","1.to.4","4.to.7","1.to.4","gt.7","1.to.4","4.to.7","lt.1","Unemployed","lt.1","1.to.4","4.to.7","gt.7","lt.1","4.to.7","4.to.7","gt.7","4.to.7","1.to.4","1.to.4","1.to.4","gt.7","gt.7","1.to.4","1.to.4","gt.7","4.to.7","gt.7","lt.1","lt.1","gt.7","gt.7","gt.7","1.to.4","gt.7","gt.7","Unemployed","1.to.4","4.to.7","4.to.7","gt.7","Unemployed","4.to.7","gt.7","1.to.4","lt.1","Unemployed","1.to.4","gt.7","gt.7","gt.7","1.to.4","gt.7","gt.7","1.to.4","gt.7","gt.7","lt.1","gt.7","lt.1","gt.7","lt.1","gt.7","gt.7","gt.7","gt.7","Unemployed","4.to.7","lt.1","gt.7","Unemployed","lt.1","lt.1","4.to.7","4.to.7","1.to.4","4.to.7","1.to.4","1.to.4","4.to.7","Unemployed","1.to.4","1.to.4","1.to.4","gt.7","gt.7","lt.1","gt.7","gt.7","1.to.4","gt.7","1.to.4","1.to.4","lt.1","gt.7","gt.7","lt.1","1.to.4","1.to.4","lt.1","gt.7","gt.7","4.to.7","1.to.4","lt.1","4.to.7","gt.7","4.to.7","1.to.4","lt.1","4.to.7","gt.7","1.to.4","4.to.7","1.to.4","4.to.7","gt.7","lt.1","4.to.7","1.to.4","1.to.4","1.to.4","1.to.4","1.to.4","lt.1","lt.1","1.to.4","1.to.4","lt.1","gt.7","gt.7","gt.7","4.to.7","gt.7","4.to.7","lt.1","1.to.4","1.to.4","lt.1","gt.7","lt.1","4.to.7","4.to.7","1.to.4","gt.7","Unemployed","4.to.7","lt.1","4.to.7","1.to.4","gt.7","lt.1","gt.7","gt.7","1.to.4","1.to.4","1.to.4","4.to.7","lt.1","4.to.7","4.to.7","1.to.4","gt.7","lt.1","gt.7","1.to.4","gt.7","1.to.4","4.to.7","1.to.4","lt.1","1.to.4","1.to.4","lt.1","gt.7","gt.7","1.to.4","1.to.4","1.to.4","gt.7","Unemployed","gt.7","1.to.4","4.to.7","lt.1","4.to.7","lt.1","lt.1","lt.1","4.to.7","gt.7","1.to.4","lt.1","lt.1","1.to.4","gt.7","1.to.4","lt.1","1.to.4","lt.1","1.to.4","1.to.4","lt.1","1.to.4","4.to.7","4.to.7","lt.1","lt.1","lt.1","Unemployed","lt.1","gt.7","Unemployed","4.to.7","lt.1","Unemployed","1.to.4","gt.7","gt.7","gt.7","1.to.4","gt.7","gt.7","1.to.4","1.to.4","gt.7","lt.1","1.to.4","1.to.4","gt.7","4.to.7","1.to.4","1.to.4","1.to.4","Unemployed","gt.7","1.to.4","1.to.4","1.to.4","gt.7","gt.7","1.to.4","4.to.7","Unemployed","1.to.4","1.to.4","4.to.7","1.to.4","lt.1","Unemployed","Unemployed","gt.7","lt.1","gt.7","4.to.7","Unemployed","gt.7","4.to.7","1.to.4","gt.7","1.to.4","Unemployed"],["Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Divorced.Seperated","Male.Married.Widowed","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Male.Married.Widowed","Female.NotSingle","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Divorced.Seperated","Male.Single","Male.Married.Widowed","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Female.NotSingle","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Divorced.Seperated","Female.NotSingle","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Divorced.Seperated","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Married.Widowed","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Divorced.Seperated","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Divorced.Seperated","Male.Single","Male.Single","Male.Single","Male.Divorced.Seperated","Male.Divorced.Seperated","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Married.Widowed","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Male.Divorced.Seperated","Male.Single","Male.Married.Widowed","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Divorced.Seperated","Female.NotSingle","Male.Married.Widowed","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Male.Divorced.Seperated","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Divorced.Seperated","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Divorced.Seperated","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Divorced.Seperated","Male.Single","Female.NotSingle","Male.Divorced.Seperated","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Divorced.Seperated","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Married.Widowed","Male.Married.Widowed","Female.NotSingle","Male.Single","Male.Divorced.Seperated","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Divorced.Seperated","Female.NotSingle","Male.Married.Widowed","Female.NotSingle","Male.Married.Widowed","Male.Single","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Divorced.Seperated","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Male.Divorced.Seperated","Female.NotSingle","Female.NotSingle","Male.Single","Male.Divorced.Seperated","Female.NotSingle","Female.NotSingle","Male.Married.Widowed","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Married.Widowed","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Married.Widowed","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Divorced.Seperated","Female.NotSingle","Male.Married.Widowed","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Male.Married.Widowed","Male.Divorced.Seperated","Male.Married.Widowed","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Divorced.Seperated","Male.Single","Male.Married.Widowed","Male.Married.Widowed","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Married.Widowed","Female.NotSingle","Male.Single","Male.Single","Male.Married.Widowed","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Male.Married.Widowed","Male.Divorced.Seperated","Female.NotSingle","Male.Single","Male.Divorced.Seperated","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Divorced.Seperated","Male.Single","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Married.Widowed","Male.Single","Male.Divorced.Seperated","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Married.Widowed","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Divorced.Seperated","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Divorced.Seperated","Male.Married.Widowed","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Divorced.Seperated","Male.Single","Male.Single","Male.Divorced.Seperated","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Married.Widowed","Male.Married.Widowed","Male.Single","Male.Divorced.Seperated","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Married.Widowed","Male.Married.Widowed","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Female.NotSingle","Male.Single","Male.Married.Widowed","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Married.Widowed","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Divorced.Seperated","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Married.Widowed","Female.NotSingle","Female.NotSingle","Male.Divorced.Seperated","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Married.Widowed","Male.Married.Widowed","Male.Divorced.Seperated","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Divorced.Seperated","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Married.Widowed","Male.Divorced.Seperated","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Divorced.Seperated","Female.NotSingle","Male.Divorced.Seperated","Male.Married.Widowed","Male.Married.Widowed","Male.Married.Widowed","Male.Single","Male.Single","Male.Divorced.Seperated","Male.Married.Widowed","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Married.Widowed","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Divorced.Seperated","Male.Single","Female.NotSingle","Male.Divorced.Seperated","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Divorced.Seperated","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Divorced.Seperated","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Divorced.Seperated","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Single","Male.Divorced.Seperated","Male.Single","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Male.Single","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Male.Married.Widowed","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Divorced.Seperated","Male.Single","Male.Single","Male.Married.Widowed","Female.NotSingle","Male.Single","Female.NotSingle","Male.Married.Widowed","Male.Single","Male.Single","Male.Single","Female.NotSingle","Male.Single","Female.NotSingle","Female.NotSingle","Female.NotSingle","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Female.NotSingle","Male.Single","Male.Single","Female.NotSingle","Male.Divorced.Seperated","Female.NotSingle","Male.Single","Male.Single","Male.Single","Male.Single","Male.Married.Widowed","Male.Single","Male.Single","Female.NotSingle","Male.Divorced.Seperated","Male.Single","Male.Single","Male.Single"],["None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","Guarantor","None","None","None","CoApplicant","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","Guarantor","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","Guarantor","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","CoApplicant","Guarantor","None","Guarantor","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","CoApplicant","None","None","CoApplicant","None","None","None","None","None","Guarantor","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","Guarantor","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","Guarantor","None","None","None","None","None","None","CoApplicant","None","Guarantor","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","CoApplicant","None","None","None","None","Guarantor","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","Guarantor","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","Guarantor","None","None","Guarantor","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","CoApplicant","Guarantor","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","None","None","CoApplicant","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","None","None","CoApplicant","None","None","None","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Guarantor","None","CoApplicant","CoApplicant","None","None","Guarantor","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None"],["RealEstate","RealEstate","RealEstate","Insurance","Unknown","Unknown","Insurance","CarOther","RealEstate","CarOther","CarOther","Insurance","CarOther","CarOther","CarOther","CarOther","Insurance","CarOther","Unknown","CarOther","CarOther","RealEstate","RealEstate","Insurance","CarOther","RealEstate","CarOther","RealEstate","RealEstate","Unknown","RealEstate","CarOther","CarOther","Unknown","Insurance","Insurance","Unknown","RealEstate","CarOther","RealEstate","CarOther","CarOther","RealEstate","CarOther","Unknown","CarOther","CarOther","Insurance","Insurance","RealEstate","Insurance","CarOther","CarOther","Insurance","Unknown","RealEstate","Unknown","CarOther","CarOther","Unknown","RealEstate","RealEstate","Unknown","CarOther","Insurance","Insurance","CarOther","RealEstate","Unknown","CarOther","Insurance","Insurance","Unknown","RealEstate","Unknown","Unknown","CarOther","Insurance","Insurance","Insurance","CarOther","Insurance","Insurance","RealEstate","RealEstate","RealEstate","Insurance","Unknown","CarOther","RealEstate","RealEstate","RealEstate","Insurance","Unknown","RealEstate","Unknown","CarOther","CarOther","RealEstate","Insurance","RealEstate","CarOther","RealEstate","CarOther","CarOther","CarOther","Unknown","CarOther","Insurance","RealEstate","CarOther","Insurance","RealEstate","RealEstate","RealEstate","RealEstate","CarOther","RealEstate","CarOther","CarOther","RealEstate","CarOther","RealEstate","Unknown","RealEstate","Insurance","RealEstate","CarOther","CarOther","RealEstate","CarOther","Insurance","Insurance","Unknown","RealEstate","RealEstate","CarOther","RealEstate","RealEstate","CarOther","RealEstate","Unknown","CarOther","CarOther","Insurance","CarOther","Unknown","CarOther","Insurance","CarOther","Unknown","Insurance","CarOther","Unknown","CarOther","CarOther","RealEstate","CarOther","CarOther","RealEstate","RealEstate","Insurance","Insurance","Unknown","Insurance","CarOther","CarOther","RealEstate","Insurance","RealEstate","CarOther","RealEstate","Insurance","RealEstate","Insurance","RealEstate","CarOther","CarOther","CarOther","RealEstate","CarOther","RealEstate","Insurance","RealEstate","CarOther","Insurance","Unknown","CarOther","Insurance","CarOther","Insurance","Unknown","CarOther","RealEstate","Insurance","CarOther","CarOther","CarOther","Unknown","Unknown","CarOther","RealEstate","CarOther","Insurance","RealEstate","Unknown","RealEstate","Insurance","CarOther","Insurance","RealEstate","RealEstate","Insurance","RealEstate","CarOther","Insurance","Insurance","RealEstate","RealEstate","CarOther","RealEstate","Insurance","RealEstate","RealEstate","CarOther","CarOther","Unknown","Unknown","CarOther","Unknown","CarOther","Unknown","Unknown","RealEstate","RealEstate","CarOther","Insurance","CarOther","Insurance","Insurance","CarOther","Insurance","Unknown","RealEstate","RealEstate","RealEstate","RealEstate","Unknown","RealEstate","RealEstate","RealEstate","CarOther","Unknown","Insurance","CarOther","RealEstate","RealEstate","Unknown","CarOther","RealEstate","RealEstate","CarOther","Unknown","Unknown","RealEstate","CarOther","RealEstate","CarOther","Insurance","CarOther","Insurance","CarOther","Unknown","RealEstate","Unknown","RealEstate","CarOther","Insurance","Insurance","CarOther","Unknown","RealEstate","CarOther","Insurance","CarOther","RealEstate","Insurance","Unknown","RealEstate","RealEstate","RealEstate","CarOther","Unknown","Unknown","CarOther","CarOther","CarOther","Insurance","RealEstate","CarOther","RealEstate","CarOther","RealEstate","Insurance","Unknown","RealEstate","Insurance","Unknown","RealEstate","RealEstate","Unknown","CarOther","CarOther","CarOther","RealEstate","CarOther","Insurance","Insurance","CarOther","Insurance","CarOther","Insurance","Unknown","CarOther","RealEstate","RealEstate","Insurance","CarOther","CarOther","CarOther","Unknown","RealEstate","Insurance","CarOther","Unknown","RealEstate","Insurance","CarOther","Insurance","CarOther","Unknown","CarOther","RealEstate","RealEstate","Insurance","CarOther","RealEstate","Unknown","RealEstate","Unknown","RealEstate","CarOther","Unknown","Insurance","Unknown","RealEstate","RealEstate","CarOther","RealEstate","RealEstate","Unknown","CarOther","CarOther","Insurance","CarOther","CarOther","CarOther","CarOther","CarOther","RealEstate","RealEstate","CarOther","RealEstate","Unknown","Unknown","CarOther","RealEstate","Unknown","Unknown","CarOther","CarOther","Unknown","Insurance","RealEstate","Insurance","CarOther","RealEstate","Insurance","CarOther","CarOther","Insurance","RealEstate","Unknown","CarOther","CarOther","Unknown","Unknown","Insurance","RealEstate","RealEstate","RealEstate","RealEstate","CarOther","CarOther","CarOther","Insurance","CarOther","RealEstate","CarOther","RealEstate","CarOther","CarOther","CarOther","Unknown","Insurance","Insurance","RealEstate","CarOther","CarOther","Insurance","CarOther","CarOther","RealEstate","RealEstate","Insurance","CarOther","CarOther","RealEstate","CarOther","Unknown","RealEstate","CarOther","Unknown","RealEstate","RealEstate","RealEstate","RealEstate","RealEstate","CarOther","RealEstate","CarOther","Insurance","CarOther","CarOther","CarOther","Insurance","CarOther","RealEstate","RealEstate","Insurance","CarOther","RealEstate","Insurance","CarOther","Insurance","Unknown","RealEstate","Unknown","RealEstate","CarOther","Insurance","RealEstate","RealEstate","Insurance","CarOther","Unknown","CarOther","CarOther","CarOther","CarOther","CarOther","Insurance","CarOther","Insurance","CarOther","Insurance","CarOther","CarOther","RealEstate","CarOther","RealEstate","Insurance","Insurance","Insurance","RealEstate","Insurance","CarOther","Unknown","RealEstate","Insurance","Unknown","Unknown","Insurance","Insurance","RealEstate","CarOther","Unknown","Insurance","RealEstate","CarOther","Insurance","Unknown","RealEstate","Unknown","Insurance","Insurance","CarOther","Insurance","Insurance","CarOther","RealEstate","Unknown","Insurance","RealEstate","Insurance","Insurance","RealEstate","Insurance","Insurance","Unknown","Unknown","RealEstate","Unknown","CarOther","RealEstate","CarOther","CarOther","RealEstate","CarOther","RealEstate","CarOther","CarOther","RealEstate","Insurance","CarOther","CarOther","Insurance","Insurance","Unknown","Insurance","RealEstate","Unknown","Insurance","RealEstate","RealEstate","RealEstate","CarOther","CarOther","RealEstate","Unknown","RealEstate","Insurance","RealEstate","CarOther","Insurance","CarOther","CarOther","Insurance","CarOther","RealEstate","Unknown","CarOther","Insurance","Unknown","Insurance","Insurance","CarOther","CarOther","CarOther","CarOther","RealEstate","CarOther","Insurance","Insurance","CarOther","CarOther","RealEstate","CarOther","CarOther","CarOther","RealEstate","RealEstate","RealEstate","Unknown","Unknown","RealEstate","RealEstate","Insurance","RealEstate","Insurance","RealEstate","CarOther","RealEstate","Insurance","CarOther","Insurance","CarOther","RealEstate","Insurance","Unknown","RealEstate","Insurance","Unknown","CarOther","Insurance","RealEstate","RealEstate","Unknown","RealEstate","Unknown","Insurance","Unknown","CarOther","CarOther","RealEstate","CarOther","Unknown","RealEstate","CarOther","RealEstate","Insurance","Insurance","RealEstate","CarOther","Unknown","CarOther","RealEstate","Unknown","RealEstate","RealEstate","CarOther","CarOther","Insurance","CarOther","CarOther","Insurance","CarOther","CarOther","CarOther","Insurance","RealEstate","CarOther","Insurance","CarOther","Insurance","CarOther","RealEstate","Insurance","Unknown","CarOther","Unknown","Insurance","RealEstate","CarOther","CarOther","Unknown","CarOther","CarOther","CarOther","Unknown","RealEstate","CarOther","RealEstate","Insurance","Insurance","Unknown","CarOther","RealEstate","Insurance","Insurance","Insurance","CarOther","Insurance","CarOther","RealEstate","CarOther","CarOther","CarOther","RealEstate","RealEstate","Unknown","Unknown","RealEstate","Unknown","Insurance","Unknown","Insurance","Unknown","CarOther","Insurance","Insurance","RealEstate","CarOther","RealEstate","CarOther","Insurance","RealEstate","Insurance","CarOther","CarOther","CarOther","Unknown","Unknown","Insurance","Insurance","Unknown","Insurance","Insurance","RealEstate","RealEstate","Insurance","Unknown","RealEstate","RealEstate","Unknown","CarOther","CarOther","Unknown","CarOther","CarOther","CarOther","Insurance","RealEstate","RealEstate","RealEstate","RealEstate","Insurance","CarOther","Unknown","RealEstate","CarOther","RealEstate","RealEstate","CarOther","RealEstate","Unknown","CarOther","CarOther","Unknown","CarOther","CarOther","RealEstate","Insurance","RealEstate","Insurance","Insurance","CarOther","RealEstate","CarOther","CarOther","Insurance","CarOther","RealEstate","CarOther","Unknown","Unknown","RealEstate","Unknown","RealEstate","Insurance","CarOther","RealEstate","Insurance","Unknown","Insurance","RealEstate","Insurance","RealEstate","CarOther","RealEstate","RealEstate","Unknown","CarOther","Insurance","Unknown","RealEstate","CarOther","RealEstate","CarOther","CarOther","RealEstate","RealEstate","RealEstate","Insurance","RealEstate","Insurance","CarOther","CarOther","Unknown","Unknown","Insurance","CarOther","Insurance","Unknown","Unknown","Insurance","Insurance","Insurance","CarOther","RealEstate","Unknown","RealEstate","Insurance","CarOther","RealEstate","CarOther","RealEstate","RealEstate","Unknown","RealEstate","RealEstate","RealEstate","CarOther","CarOther","Unknown","Insurance","RealEstate","CarOther","CarOther","RealEstate","RealEstate","CarOther","Insurance","RealEstate","CarOther","CarOther","RealEstate","CarOther","Unknown","Unknown","CarOther","CarOther","CarOther","CarOther","RealEstate","CarOther","CarOther","RealEstate","Insurance","RealEstate","Insurance","RealEstate","RealEstate","CarOther","Insurance","CarOther","CarOther","RealEstate","RealEstate","RealEstate","Insurance","Insurance","Unknown","Unknown","CarOther","RealEstate","Insurance","Unknown","Insurance","RealEstate","RealEstate","CarOther","RealEstate","RealEstate","RealEstate","CarOther","CarOther","Insurance","Insurance","Insurance","CarOther","RealEstate","RealEstate","RealEstate","Insurance","CarOther","Unknown","CarOther","Unknown","Insurance","CarOther","Unknown","RealEstate","CarOther","CarOther","Insurance","Unknown","CarOther","CarOther","RealEstate","CarOther","CarOther","Insurance","CarOther","Insurance","CarOther","Insurance","Insurance","RealEstate","CarOther","Insurance","RealEstate","Unknown","RealEstate","RealEstate","RealEstate","RealEstate","CarOther","Insurance","RealEstate","RealEstate","CarOther","CarOther","RealEstate","Insurance","Insurance","RealEstate","Unknown","Insurance","Insurance","Unknown","CarOther","Insurance","Insurance","Insurance","CarOther","Insurance","Unknown","CarOther","RealEstate","Insurance","CarOther","RealEstate","Insurance","CarOther","Unknown","RealEstate","CarOther","Unknown","Insurance","Insurance","RealEstate","CarOther","RealEstate","Insurance","CarOther","Unknown","Unknown","Insurance","CarOther","CarOther","CarOther","CarOther","CarOther","Insurance","Insurance","Insurance","RealEstate","CarOther","Unknown","RealEstate","Insurance","Unknown","CarOther","Insurance","CarOther","Insurance","CarOther","Insurance","RealEstate","RealEstate","Insurance","Unknown","Unknown","CarOther","CarOther","RealEstate","Insurance","CarOther","Insurance","Insurance","CarOther","CarOther","Insurance","Insurance","Insurance","Insurance","RealEstate","Unknown","Insurance","Insurance","CarOther","CarOther","Insurance","CarOther","RealEstate","Insurance","CarOther","Unknown","CarOther"],["None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","None","None","Bank","None","None","None","None","Bank","Stores","None","None","Bank","None","Bank","Stores","None","None","Bank","None","None","None","Stores","None","None","None","None","None","Bank","None","None","None","Bank","Stores","None","Stores","None","None","Bank","None","None","None","None","None","Bank","None","Stores","None","Bank","None","Bank","Bank","None","None","None","None","None","None","None","Stores","None","None","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","None","Bank","None","None","None","None","None","None","Bank","None","None","None","Bank","None","None","Stores","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Stores","Bank","Bank","None","None","None","None","Bank","None","None","None","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","None","Bank","Bank","None","None","None","None","Bank","None","None","None","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","Stores","None","None","Bank","None","Bank","None","None","Bank","None","None","None","None","None","None","None","Bank","Bank","None","None","None","None","None","None","None","None","None","Stores","None","None","None","Stores","None","None","None","Bank","None","None","None","Bank","Bank","Bank","None","None","None","Bank","None","None","Bank","None","None","None","None","None","Stores","None","Bank","None","None","Bank","None","None","None","None","None","None","Bank","None","None","None","None","Bank","None","None","None","None","None","None","None","None","None","None","Bank","None","None","None","Stores","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","None","Stores","None","None","None","None","Bank","None","None","None","None","None","None","None","Bank","None","Bank","None","Stores","None","None","None","Bank","Stores","None","Bank","None","Bank","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Bank","Bank","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","None","None","None","None","None","None","Stores","None","None","None","None","None","None","Stores","None","None","None","None","None","None","None","None","None","None","Bank","Bank","None","None","None","None","None","None","None","None","None","None","None","None","Stores","Bank","None","None","None","Bank","None","None","None","None","None","None","None","None","Bank","Bank","None","None","None","None","None","None","None","None","None","Stores","None","None","None","None","None","Bank","None","None","None","None","None","Bank","None","None","None","None","None","None","Bank","None","None","None","None","None","None","None","None","None","None","Bank","Bank","None","None","None","None","None","Stores","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Stores","Bank","None","Bank","None","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Bank","Stores","None","None","None","None","None","None","None","Bank","Bank","None","None","Bank","None","None","None","Stores","None","Bank","Bank","None","Bank","Bank","Bank","None","Bank","None","None","None","None","None","None","None","None","None","None","Bank","None","None","None","None","Bank","Bank","None","None","None","Bank","None","None","None","None","None","None","Bank","None","Stores","Stores","None","None","Bank","None","None","None","Bank","None","None","Stores","None","None","None","Bank","None","None","Bank","Bank","None","Bank","None","None","None","None","None","Bank","Bank","None","None","None","None","None","None","None","None","Bank","None","None","None","Bank","None","None","None","Bank","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","None","None","Bank","Stores","None","None","None","None","None","Stores","None","Bank","Stores","Stores","None","None","None","None","None","None","Bank","None","None","None","Bank","None","None","None","Bank","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Stores","None","None","None","None","None","None","Bank","None","None","None","None","None","None","None","None","Bank","None","Bank","None","None","None","Bank","None","Bank","None","None","None","None","None","None","None","Bank","None","None","None","None","Bank","Stores","None","Stores","None","Bank","None","None","None","None","Bank","None","None","None","None","None","None","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","None","None","Bank","Bank","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","Bank","None","None","None","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","None","Bank","None","None","Bank","None","None","None","None","None","None","None","Bank","None","None","Bank","None","None","None","Bank","Stores","None","None","None","None","None","None","None","Bank","None","None","None","None","None","Stores","None","Bank","Bank","None","None","None","None","Stores","Bank","None","None","None","None","None","None","None","None","None","None","None","None","Stores","Bank","None","Stores","Stores","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","None","None","None","None","None","None","None","Bank","Stores","None","Bank","None","None","Stores","None","None","Bank","None","Bank","None","None","None","None","None","None","None","None","None","None","Bank","None","None","None","Bank","None","Bank","None","None","None","None","None","None","Bank","Bank","None","Stores","None","None","None","None","None","None","Bank","Stores","None","None","None","None","None","None","Stores","None","None","None","None","None","None","None","None","None","None","None","None","None","Stores","None","None","None","None","None","None","Bank","None","None","None","Bank","None","None","None","None","None","None","None","None","None","None","None","None","None","Bank","Bank","None","None","None","None","None","None","None","None","Bank","None","None","None","None","None","None","None","None"],["Own","Own","Own","ForFree","ForFree","ForFree","Own","Rent","Own","Own","Rent","Rent","Own","Own","Rent","Own","Own","Own","ForFree","Own","Own","Rent","Rent","Own","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Rent","Own","Own","ForFree","Own","Own","Own","Own","Own","Own","Rent","ForFree","Own","Own","Rent","Own","Own","Own","Own","Own","Own","ForFree","Own","Own","Own","Own","Rent","Own","Own","ForFree","Own","Own","Own","Own","Own","ForFree","Own","Own","Rent","ForFree","Own","Own","ForFree","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Own","ForFree","Own","Own","Own","Own","Own","Rent","Own","Rent","Own","Own","Own","Rent","Rent","Rent","Own","Rent","Rent","Own","Own","Own","Own","Own","Own","Rent","Rent","Own","Own","Own","Own","Rent","Own","Own","Own","Rent","Rent","ForFree","Rent","Own","Own","Own","Own","Own","Own","Own","Own","ForFree","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","ForFree","Own","Own","Rent","Rent","Rent","Own","Own","Own","Own","Own","Own","Own","ForFree","Own","Own","Own","Own","Rent","Own","Rent","Own","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Own","Own","ForFree","ForFree","Own","Own","Own","ForFree","Own","Rent","Rent","Own","Own","Rent","ForFree","Own","Own","Own","Own","Rent","Own","ForFree","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Rent","Own","Own","Own","Own","Own","ForFree","Own","ForFree","Own","ForFree","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Own","ForFree","Own","Own","Own","Own","Rent","Own","Rent","Own","Own","Own","Own","Own","Own","Own","ForFree","Own","Own","Own","Own","ForFree","ForFree","Own","Own","Own","Own","Own","Own","Own","Rent","ForFree","Own","Own","Own","Own","Own","Own","Rent","Rent","Own","Own","Own","Own","Own","Own","ForFree","Own","Own","Own","Rent","ForFree","ForFree","Own","Own","Rent","Own","Own","Own","Own","Own","Own","Own","ForFree","Own","Rent","Own","Own","Rent","ForFree","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","ForFree","Own","Own","Own","Rent","Own","Own","Own","ForFree","Own","Own","Rent","Rent","Rent","Own","Rent","Own","Own","ForFree","Rent","Rent","Own","Own","Own","Own","Rent","Own","ForFree","Rent","Own","Own","Rent","ForFree","Own","Own","Own","Own","Rent","ForFree","Own","Own","Rent","Own","Own","Own","Rent","Own","Rent","Own","Own","Rent","ForFree","ForFree","Rent","Own","ForFree","ForFree","Own","Own","ForFree","Rent","Own","Own","Own","Rent","Own","Own","Own","Own","Rent","ForFree","Own","Own","Rent","ForFree","Own","Rent","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Rent","Own","Own","Rent","Own","Own","Own","Own","Rent","Own","Own","Own","ForFree","Own","Own","ForFree","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Rent","ForFree","Own","Own","Own","Own","Rent","Own","Own","Own","Rent","Own","Own","Own","Rent","Own","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Own","ForFree","Rent","Rent","Own","ForFree","Own","Own","Rent","Own","Rent","Own","Own","Own","Own","ForFree","Own","Own","Rent","Own","Own","Own","Own","Own","Own","ForFree","Rent","Rent","Own","Own","Own","Rent","Own","ForFree","ForFree","Own","ForFree","Own","Own","Own","Own","Own","Rent","Own","Own","Rent","Rent","Own","Own","Rent","Own","Own","ForFree","Own","Rent","ForFree","Own","Own","Own","ForFree","Own","Own","Own","ForFree","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","ForFree","Rent","Own","ForFree","Own","Rent","Own","Own","Own","Own","Rent","Own","Rent","Own","Own","Own","Own","Own","Own","Own","Own","Own","Rent","Rent","ForFree","Rent","Rent","Own","Own","Own","Own","Rent","Own","Rent","Own","Own","Rent","Own","Own","ForFree","Own","Own","ForFree","Own","Own","Own","Own","ForFree","Own","ForFree","Own","ForFree","Own","Rent","Own","Own","ForFree","Rent","Rent","Own","Own","Own","Own","Rent","ForFree","Own","Own","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Rent","Own","Own","ForFree","Rent","ForFree","Own","Own","Own","Own","ForFree","Own","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Rent","Own","Own","ForFree","Own","ForFree","Own","ForFree","Own","ForFree","Own","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Rent","Rent","ForFree","ForFree","Own","Own","ForFree","Own","Rent","Own","Own","Own","ForFree","Own","Own","Own","Own","Own","ForFree","Own","Own","Own","Rent","Own","Own","Rent","Own","Own","Rent","Rent","Own","Own","Rent","Own","Rent","Own","Own","Rent","Own","Own","Rent","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Rent","Own","ForFree","Rent","Own","ForFree","Own","Own","Own","Rent","Own","ForFree","Own","Own","Own","Rent","Rent","Own","Rent","Own","Own","Own","ForFree","Rent","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","Own","ForFree","Own","Own","Own","Own","ForFree","Rent","Rent","ForFree","Rent","Own","Own","ForFree","Rent","Own","Own","Rent","Own","Own","Own","ForFree","Rent","Own","Own","Own","Own","ForFree","Rent","Own","Rent","Own","Own","Own","Own","Own","Own","Own","Own","Rent","Own","ForFree","ForFree","Own","Rent","Rent","Own","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Rent","Own","ForFree","ForFree","Own","Own","Own","ForFree","Own","Rent","Own","Own","Own","Own","Rent","Rent","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Own","ForFree","Own","ForFree","Own","Own","ForFree","Own","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Own","Own","Own","Rent","Own","Rent","Own","Rent","Own","ForFree","Rent","Own","Rent","Own","Own","Own","Own","Own","Own","Own","Own","Rent","Own","Own","Own","Own","Rent","Own","Own","Rent","Rent","Own","Own","Rent","ForFree","Own","Own","Own","Own","Own","Own","Own","Own","Own","Rent","ForFree","Own","Own","Own","Own","Own","Rent","Own","ForFree","Own","Own","Own","Own","Own","Rent","Own","Own","Rent","Own","Own","Own","ForFree","Rent","Own","Own","Own","Own","Own","Own","Rent","Rent","Own","Own","Own","Rent","Rent","Own","Own","Own","Own","Own","Rent","Own","Rent","Own","Own","Own","Rent","Own","Own","ForFree","Own","Own","Own","Rent","Own","Own","Own","Own","Own","ForFree","Own"],["SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnemployedUnskilled","UnskilledResident","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","UnskilledResident","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","UnemployedUnskilled","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnemployedUnskilled","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","UnskilledResident","Management.SelfEmp.HighlyQualified","UnemployedUnskilled","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnemployedUnskilled","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","UnskilledResident","UnemployedUnskilled","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","UnskilledResident","SkilledEmployee","UnemployedUnskilled","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnemployedUnskilled","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnemployedUnskilled","UnskilledResident","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnemployedUnskilled","UnemployedUnskilled","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","UnskilledResident","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnemployedUnskilled","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnemployedUnskilled","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","UnemployedUnskilled","Management.SelfEmp.HighlyQualified","UnskilledResident","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnemployedUnskilled","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnemployedUnskilled","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnemployedUnskilled","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnemployedUnskilled","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnemployedUnskilled","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","UnemployedUnskilled","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","SkilledEmployee","UnemployedUnskilled","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","UnskilledResident","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","SkilledEmployee","UnskilledResident","UnemployedUnskilled","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","SkilledEmployee","SkilledEmployee","SkilledEmployee","Management.SelfEmp.HighlyQualified","UnskilledResident","UnskilledResident","UnskilledResident","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","UnskilledResident","Management.SelfEmp.HighlyQualified","SkilledEmployee","SkilledEmployee","SkilledEmployee"],["Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Bad","Bad","Good","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Bad","Good","Good","Bad","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Good","Bad","Good","Bad","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Bad","Good","Bad","Bad","Good","Good","Good","Good","Bad","Bad","Bad","Good","Bad","Good","Bad","Good","Bad","Good","Bad","Bad","Bad","Good","Bad","Bad","Good","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Bad","Bad","Good","Bad","Good","Good","Good","Good","Bad","Bad","Bad","Good","Good","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Bad","Good","Bad","Good","Good","Bad","Bad","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Bad","Bad","Bad","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Bad","Good","Bad","Good","Bad","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Bad","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Good","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Bad","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Bad","Bad","Good","Bad","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Good","Bad","Good","Bad","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Bad","Bad","Bad","Good","Bad","Good","Bad","Good","Good","Bad","Good","Good","Bad","Bad","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Bad","Good","Bad","Good","Good","Bad","Bad","Good","Good","Good","Bad","Bad","Bad","Bad","Bad","Bad","Good","Good","Bad","Bad","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Bad","Good","Bad","Bad","Good","Good","Good","Good","Bad","Bad","Good","Bad","Good","Good","Bad","Good","Bad","Bad","Bad","Good","Bad","Bad","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Bad","Bad","Good","Bad","Good","Good","Bad","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Bad","Good","Bad","Good","Bad","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Bad","Bad","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Bad","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Bad","Bad","Bad","Good","Good","Bad","Bad","Good","Bad","Bad","Good","Good","Good","Good","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Good","Bad","Bad","Good","Bad","Bad","Bad","Good","Good","Bad","Good","Bad","Bad","Good","Bad","Good","Good","Good","Bad","Good","Good","Good","Bad","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Bad","Good","Bad","Bad","Good","Bad","Bad","Bad","Good","Good","Good","Good","Bad","Good","Good","Good","Good","Bad","Good","Good","Bad","Good","Good","Good","Good","Good","Bad","Bad","Good","Good","Good","Good","Bad","Bad","Bad","Bad","Good","Bad","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Good","Bad","Good"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Telephone<\/th>\n      <th>ForeignWorker<\/th>\n      <th>CheckingAccountStatus<\/th>\n      <th>CreditHistory<\/th>\n      <th>Purpose<\/th>\n      <th>SavingsAccountBonds<\/th>\n      <th>EmploymentDuration<\/th>\n      <th>Personal<\/th>\n      <th>OtherDebtorsGuarantors<\/th>\n      <th>Property<\/th>\n      <th>OtherInstallmentPlans<\/th>\n      <th>Housing<\/th>\n      <th>Job<\/th>\n      <th>Class<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollx":true,"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
<p><br> <br></p>
</div>
<div id="multivariate-analysis." class="section level5 tabset tabset-fade tabset-pills">
<h5><strong><code>Multivariate analysis</code></strong>.</h5>
<p><br> Relationship between quantitative and qualitative features, it’s performed to understand interactions between different fields in the dataset or finding interactions between variables more than 2 (- ex: pair plot and 3D scatter plot). We performed Multi-panel conditioning focusing on the relationship between Age , Amount credit with respect to Purpose and Personal status/sex (i1 , i2) , we also drew a histogram plot of Amount ~ Age conditioned on Personal status/sex variable (i3).</p>
<p>As in Sivakumar(2015), Multivariate data analysis of the latter revealed the following:</p>
<ul>
<li><p>(i1), <strong>Age vs credit amount for various purpose</strong> : As we can see in the first plot ,most of the loans are sought to buy: new car , furniture/equipment, radio/television. It also reveals that surprisingly few people buying used cars have bad rating! And not surprisingly, lower the age of the lonee and higher loan amount correlates to bad credits.</p></li>
<li><p>(i2), <strong>Age vs credit Amount for Personal status and sex</strong> : Male: the second plot reveals that single males tend to borrow more, and as before, younger they are and higher the loan amount corresponds to a bad rating. Instead, married/widowed or divorced/separated Males have shown the least amount of borrowing. Because of this, its difficult to visually observe any trends in these categories. Female: the first obvious observation for females is the absence of data for single women. Its not sure if its lack of data or there were no single women applying for loans- though the second possibility seems unlikely in real life. The next most borrowing after single males category is Female not single :divorced/separated/married. The dominant trend in this category is smaller loan amount, higher the age, better the credit rating.</p></li>
<li><p>(i3), <strong>Distribution Amount ~ Age conditioned on Personal status/sex</strong> :The histogram reveals that there is a right skewed nearly normal trend seen across all Personal Status and Sex categories, with 30 being the age where people in the sample seem to be borrowing the most.</p></li>
</ul>
<p><br></p>
<div id="age-vs-credit-amount-for-various-purpose" class="section level6">
<h6>Age vs credit amount for various purpose</h6>
<pre class="r"><code>mycol &lt;- c(&quot;red&quot;,&quot;blue&quot;)

xyplot(Amount ~ Age|Purpose, german,
       grid = TRUE, 
       group= Class,
       auto.key = list(points = TRUE, rectangles = FALSE, title=&quot;Class&quot;,cex=0.7, space = &quot;right&quot;),
       main=list(
         label=&quot;Age vs credit amount for various purposes\n grouped by credit worthiness&quot;,
         cex=1),
         sub= &quot;source: german credit data&quot;,
       par.settings = c(simpleTheme(col = mycol),list(par.sub.text = list(cex = 0.7, col = &quot;black&quot;,x=0.75))))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-23-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="age-vs-credit-amount-for-personal-status-and-sex" class="section level6">
<h6>Age vs credit Amount for Personal status and sex</h6>
<pre class="r"><code>xyplot(Amount ~ Age |Personal , german,
       group = Class,
       grid = TRUE,
       auto.key = list(points = TRUE, rectangles = FALSE, title=&quot;Class&quot;,cex=0.7, space = &quot;right&quot;),
       main=list(
         label=&quot;Age vs credit amount for Personal status and sex\n grouped by credit worthiness&quot;,
         cex=1),
         #sub= &quot;source: german credit data&quot;),
         sub= &quot;source: german credit data&quot;,
       par.settings = c(simpleTheme(col = mycol),list(par.sub.text = list(cex = 0.7, col = &quot;black&quot;,x=0.75))))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-24-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="distribution-amount-age-conditioned-on-personal-statussex" class="section level6">
<h6>Distribution Amount ~ Age conditioned on Personal status/sex</h6>
<pre class="r"><code>histogram(Amount ~ Age | Personal, 
          data = german, 
          xlab = &quot;Age&quot;,
          ylab= &quot;Amount&quot;,
          main= list( label=&quot;Distribution of Age and Personal status &amp; sex&quot;, cex=1),
          col=&quot;purple&quot;,
          sub= &quot;source: german credit data&quot;,
          par.settings=list(par.sub.text = list(cex = 0.7, col = &quot;black&quot;, x=0.75)))</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-25-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="section-2" class="section level5">
<h5></h5>
<p><br> <br></p>
</div>
</div>
</div>
<div id="iii.-data-preprocessing" class="section level3">
<h3>III. Data Preprocessing</h3>
<p><br> Real-life data typically needs to be preprocessed (e.g. cleansed, filtered, transformed) in order to be used by the machine learning techniques in the analysis step.</p>
<p>Credit scoring portfolios are frequently voluminous and they are in the range of several thousand, well over 100000 applicants measured on more than 100 variables are quite common (Hand and Hen ley 1997). These portfolios are characterized by noise, missing values, complexity of distributions and by redundant or irrelevant features (Piramuthu 2006). Clearly, the applicants characteristics will vary from situation to situation: an applicant looking for a small loan will be asked for different information from another who is asking for a big loan. Also, according to Garcia et al(2012), in credit scoring applications the resampling approaches have produced <a href="https://www.researchgate.net/publication/233399251_Improving_Risk_Predictions_by_Preprocessing_Imbalanced_Credit_Data">important gains in performance when compared to the use of the imbalanced data sets</a></p>
<p>Then in this section, we’ll focus mainly on data preprocessing techniques that are of particular importance when performing a credit scoring task. These techniques include Data wrangling( cleansing, filtering, renaming variables, recodifing factors,etc ) , Features selection(filter,wrapper methods) and Data partitioning (stratified random sampling method to correct the imbalanced class).</p>
<p><br></p>
<div id="data-wrangling" class="section level4">
<h4><span style="color:red">3.1. Data Wrangling</span></h4>
<p>To perform the different steps of data pre-processing part and successive analysis , we make a copy of the german credit dataset, in order to to keep unchanged our original german credit data .</p>
<pre class="r"><code>german.copy &lt;- german</code></pre>
<blockquote>
<p><strong>3.1.1. <code>Missing values</code></strong></p>
</blockquote>
<p>We used the VIM package to explore the data and the structure of the missing or imputed values. Fortunately, We observe that there are no missing values. It’s confirmed not only by the <em>proportion of missings plot</em> , but also by the <em>variable sorted by number of missings</em> output, where each variable have a null count.</p>
<p>If they were missing values, it would be presented with red cells like the case of german credit risk from kaggle downloaded at this <a href="https://www.kaggle.com/uciml/german-credit#german_credit_data.csv">link</a> (see second plot)</p>
<pre class="r"><code>#aggr function : Calculate or plot the amount of missing/imputed values in each variable and the amount of missing/imputed values in certain combinations of variables.

missing.values &lt;- aggr(german.copy, sortVars = T, prop = T, sortCombs = T,
                       cex.lab = 1.5, cex.axis = .6, cex.numbers = 5,
                       combined = F, gap = -.2)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<pre class="bg-primary"><code>
 Variables sorted by number of missings: 
                  Variable Count
                  Duration     0
                    Amount     0
 InstallmentRatePercentage     0
         ResidenceDuration     0
                       Age     0
     NumberExistingCredits     0
   NumberPeopleMaintenance     0
                 Telephone     0
             ForeignWorker     0
     CheckingAccountStatus     0
             CreditHistory     0
                   Purpose     0
       SavingsAccountBonds     0
        EmploymentDuration     0
                  Personal     0
    OtherDebtorsGuarantors     0
                  Property     0
     OtherInstallmentPlans     0
                   Housing     0
                       Job     0
                     Class     0</code></pre>
<pre class="r"><code>#german credit data from kaggle

GCD &lt;- read.csv(file=&quot;german_credit_data.csv&quot;, header=TRUE, sep=&quot;,&quot;)

germanKaggle_NA &lt;- aggr(GCD, sortVars = T, prop = T, sortCombs = T,
                       cex.lab = 1.5, cex.axis = .6, cex.numbers = 5,
                       combined = F, gap = -.2)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<pre class="bg-primary"><code>
 Variables sorted by number of missings: 
         Variable Count
 Checking.account 0.394
  Saving.accounts 0.183
                X 0.000
              Age 0.000
              Sex 0.000
              Job 0.000
          Housing 0.000
    Credit.amount 0.000
         Duration 0.000
          Purpose 0.000</code></pre>
<blockquote>
<p><strong>3.1.2. <code>Renaming variables</code></strong></p>
</blockquote>
<p>Renaming data columns is a common task in Data pre-processing that can make implementing ML algorithms/ writing code faster by using short, intuitive names. The dplyr function rename() makes this easy.</p>
<pre class="r"><code>#rename(data, new_name = `old_name`)

german.copy = rename( german.copy,
                      Risk = `Class`,
                      installment_rate = `InstallmentRatePercentage`,
                      present_resid = `ResidenceDuration`,
                      n_credits = `NumberExistingCredits`,
                      n_people = `NumberPeopleMaintenance`,
                      check_acct = `CheckingAccountStatus`,
                      credit_hist = `CreditHistory`,
                      savings_acct = `SavingsAccountBonds`,
                      present_emp = `EmploymentDuration`, 
                      status_sex = `Personal`,
                      other_debt = `OtherDebtorsGuarantors`,
                      other_install = `OtherInstallmentPlans`
                     )

#get glimpse of data

glimpse(german.copy)</code></pre>
<pre class="bg-primary"><code>Observations: 1,000
Variables: 21
$ Duration         &lt;dbl&gt; 6, 48, 12, 42, 24, 36, 24, 36, 12, 30, 12, 48...
$ Amount           &lt;dbl&gt; 1169, 5951, 2096, 7882, 4870, 9055, 2835, 694...
$ installment_rate &lt;dbl&gt; 4, 2, 2, 2, 3, 2, 3, 2, 2, 4, 3, 3, 1, 4, 2, ...
$ present_resid    &lt;dbl&gt; 4, 2, 3, 4, 4, 4, 4, 2, 4, 2, 1, 4, 1, 4, 4, ...
$ Age              &lt;dbl&gt; 67, 22, 49, 45, 53, 35, 53, 35, 61, 28, 25, 2...
$ n_credits        &lt;dbl&gt; 2, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, ...
$ n_people         &lt;dbl&gt; 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
$ Telephone        &lt;fct&gt; none, yes, yes, yes, yes, none, yes, none, ye...
$ ForeignWorker    &lt;fct&gt; yes, yes, yes, yes, yes, yes, yes, yes, yes, ...
$ check_acct       &lt;fct&gt; lt.0, 0.to.200, none, lt.0, lt.0, none, none,...
$ credit_hist      &lt;fct&gt; Critical, PaidDuly, Critical, PaidDuly, Delay...
$ Purpose          &lt;fct&gt; Radio.Television, Radio.Television, Education...
$ savings_acct     &lt;fct&gt; Unknown, lt.100, lt.100, lt.100, lt.100, Unkn...
$ present_emp      &lt;fct&gt; gt.7, 1.to.4, 4.to.7, 4.to.7, 1.to.4, 1.to.4,...
$ status_sex       &lt;fct&gt; Male.Single, Female.NotSingle, Male.Single, M...
$ other_debt       &lt;fct&gt; None, None, None, Guarantor, None, None, None...
$ Property         &lt;fct&gt; RealEstate, RealEstate, RealEstate, Insurance...
$ other_install    &lt;fct&gt; None, None, None, None, None, None, None, Non...
$ Housing          &lt;fct&gt; Own, Own, Own, ForFree, ForFree, ForFree, Own...
$ Job              &lt;fct&gt; SkilledEmployee, SkilledEmployee, UnskilledRe...
$ Risk             &lt;fct&gt; Good, Bad, Good, Good, Bad, Good, Good, Good,...</code></pre>
<blockquote>
<p><strong>3.1.3. <code>Skewness</code></strong></p>
</blockquote>
<p>Skewness is defined to be the <a href="https://en.wikipedia.org/wiki/Standardized_moment">third standardized central moment</a> .You can easily tell if a distribution is skewed by simple visualization. There are different ways may help to remove skewness such as log, square root or inverse. However it is often difficult to determine from plots which transformation is most appropriate for correcting skewness. The Box-Cox procedure automatically identified a transformation from the family of power transformations that are indexed by a parameter <span class="math inline">\(Î»\)</span>.</p>
<p>This family includes:</p>
<ul>
<li>log transformation <span class="math inline">\((Î»=0)\)</span></li>
<li>square transformation <span class="math inline">\((Î»=2)\)</span></li>
<li>square root <span class="math inline">\((Î»=0.5)\)</span></li>
<li>inverse <span class="math inline">\((Î»=âˆ’1)\)</span></li>
</ul>
<p>We used preProcess() function in caret to apply this transformation by changing the method argument to <strong>BoxCox</strong>.</p>
<pre class="r"><code>mySkew &lt;- preProcess(german.copy, method = c(&quot;BoxCox&quot;))
mySkew</code></pre>
<pre class="bg-primary"><code>## Created from 1000 samples and 20 variables
## 
## Pre-processing:
##   - Box-Cox transformation (6)
##   - ignored (14)
## 
## Lambda estimates for Box-Cox transformation:
## 0.1, -0.1, 1.5, 1.1, -0.7, -2</code></pre>
<pre class="r"><code>mySkew$method</code></pre>
<pre class="bg-primary"><code>## $BoxCox
## [1] &quot;Duration&quot;         &quot;Amount&quot;           &quot;installment_rate&quot;
## [4] &quot;present_resid&quot;    &quot;Age&quot;              &quot;n_credits&quot;       
## 
## $ignore
##  [1] &quot;Telephone&quot;     &quot;ForeignWorker&quot; &quot;check_acct&quot;    &quot;credit_hist&quot;  
##  [5] &quot;Purpose&quot;       &quot;savings_acct&quot;  &quot;present_emp&quot;   &quot;status_sex&quot;   
##  [9] &quot;other_debt&quot;    &quot;Property&quot;      &quot;other_install&quot; &quot;Housing&quot;      
## [13] &quot;Job&quot;           &quot;Risk&quot;</code></pre>
<pre class="r"><code>mySkew$bc</code></pre>
<pre class="bg-primary"><code>## $Duration
## Box-Cox Transformation
## 
## 1000 data points used to estimate Lambda
## 
## Input data summary:
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     4.0    12.0    18.0    20.9    24.0    72.0 
## 
## Largest/Smallest: 18 
## Sample Skewness: 1.09 
## 
## Estimated Lambda: 0.1 
## With fudge factor, Lambda = 0 will be used for transformations
## 
## 
## $Amount
## Box-Cox Transformation
## 
## 1000 data points used to estimate Lambda
## 
## Input data summary:
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     250    1366    2320    3271    3972   18424 
## 
## Largest/Smallest: 73.7 
## Sample Skewness: 1.94 
## 
## Estimated Lambda: -0.1 
## With fudge factor, Lambda = 0 will be used for transformations
## 
## 
## $installment_rate
## Box-Cox Transformation
## 
## 1000 data points used to estimate Lambda
## 
## Input data summary:
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   1.000   2.000   3.000   2.973   4.000   4.000 
## 
## Largest/Smallest: 4 
## Sample Skewness: -0.53 
## 
## Estimated Lambda: 1.5 
## 
## 
## $present_resid
## Box-Cox Transformation
## 
## 1000 data points used to estimate Lambda
## 
## Input data summary:
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   1.000   2.000   3.000   2.845   4.000   4.000 
## 
## Largest/Smallest: 4 
## Sample Skewness: -0.272 
## 
## Estimated Lambda: 1.1 
## With fudge factor, no transformation is applied
## 
## 
## $Age
## Box-Cox Transformation
## 
## 1000 data points used to estimate Lambda
## 
## Input data summary:
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   19.00   27.00   33.00   35.55   42.00   75.00 
## 
## Largest/Smallest: 3.95 
## Sample Skewness: 1.02 
## 
## Estimated Lambda: -0.7 
## 
## 
## $n_credits
## Box-Cox Transformation
## 
## 1000 data points used to estimate Lambda
## 
## Input data summary:
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   1.000   1.000   1.000   1.407   2.000   4.000 
## 
## Largest/Smallest: 4 
## Sample Skewness: 1.27 
## 
## Estimated Lambda: -2</code></pre>
<p>We visually inspected the skewness by plotting histogram of the 6 numerical attributes inclined to a BoxCox transformation ( see mySkew$method)</p>
<pre class="r"><code>p1&lt;- german.copy %&gt;% 
  ggplot(aes(x=Amount)) + 
  geom_histogram(aes(y=..density..),    # Histogram with density 
                 binwidth=1000,
                 colour=&quot;black&quot;, fill=&quot;white&quot;) +
  geom_density(alpha=.5, fill=&quot;purple&quot;) +  # Overlay with transparent density plot
  labs(title= &quot;Histogram of Amount&quot;, subtitle= &quot;overlaid with kernel density curve&quot;, caption = &quot;source:german credit data&quot;)
 

p2&lt;- german.copy %&gt;% 
  ggplot(aes(x=installment_rate)) + 
  geom_histogram(aes(y=..density..),    # Histogram with density 
                 binwidth=.5,
                 colour=&quot;black&quot;, fill=&quot;white&quot;) +
  geom_density(alpha=.5, fill=&quot;purple&quot;) +  # Overlay with transparent density plot
  labs(title= &quot;Histogram of installment rate percentage&quot;, subtitle= &quot;overlaid with kernel density curve&quot;, caption = &quot;source:german credit data&quot;)

p3 &lt;-  german.copy %&gt;%
  ggplot(aes(x=Duration)) + 
  geom_histogram(aes(y=..density..), # Histogram with density instead y-axis count
                 binwidth=5,
                 colour=&quot;black&quot;, fill=&quot;white&quot;) +
  geom_density(alpha=.5, fill=&quot;purple&quot;) +  # Overlay with transparent density plot
  labs(title= &quot;Histogram of Duration in months&quot;, subtitle= &quot;overlaid with kernel density curve&quot;, caption = &quot;source:german credit data&quot;)


p4 &lt;-  german.copy %&gt;%
  ggplot(aes(x=n_credits)) + 
  geom_histogram(aes(y=..density..),      
                 binwidth=1,
                 colour=&quot;black&quot;, fill=&quot;white&quot;) +
  geom_density(alpha=.5, fill=&quot;purple&quot;) +  # Overlay with transparent density plot
  labs(title= &quot;Histogram of number of existing credits&quot;, subtitle= &quot;overlaid with kernel density curve&quot;, caption = &quot;source:german credit data&quot;)

p5 &lt;-  german.copy %&gt;%
  ggplot(aes(x=Age)) + 
  geom_histogram(aes(y=..density..), # Histogram with density instead of count on y-axis
                 binwidth=5,
                 colour=&quot;black&quot;, fill=&quot;white&quot;) +
  geom_density(alpha=.5, fill=&quot;purple&quot;) +  # Overlay with transparent density plot
  labs(title= &quot;Histogram of Age&quot;, subtitle= &quot;overlaid with kernel density curve&quot;, caption = &quot;source:german credit data&quot;)

p6 &lt;-  german.copy %&gt;%
  ggplot(aes(x=present_resid)) + 
  geom_histogram(aes(y=..density..),
                 binwidth=1,
                 colour=&quot;black&quot;, fill=&quot;white&quot;) +
  geom_density(alpha=.5, fill=&quot;purple&quot;) +  # Overlay with transparent density plot
  labs(title= &quot;Histogram of residence duration&quot;, subtitle= &quot;overlaid with kernel density curve&quot;, caption = &quot;source:german credit data&quot;)

#plot all 
grid.arrange(p1, p3, p2, p4, p5, p6, ncol=3)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-31-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>The previous plots confirm the skweness distributions of 6 numerical attributes inclined to a BoxCox transformation. More over, The output of <em>mySkew</em>, the applied BoxCoxTrans , shows the sample size (1000), number of variables (20) and the <span class="math inline">\(Î»\)</span> estimates for Box-Cox transformation candidate variables (6).</p>
<p><strong>Do we have to apply a transformation/ is it useful to resolve skewness for the purpose of our work?</strong> : The output of <strong>mySkew$bc</strong> reveals that the Amount (1.94) , n_credits (1.27) and Duration (1.09) attributes have the higher values of skweness and precises that Lambda = 0 will be used for transformations for Amount and Duration attributes . Numerical features such as n_credits, present_resid, Age, Duration are seen more as discrete variables. The Amount attribute remains the only good candidate to apply a log transformation.</p>
<p>predict() method applies the results to a data frame myTransformed. In the latter,we can find the transformed Amount variable and other BoxCox transformatons applied to the other numerical attributes. We’ll take it account for our successive analysis <strong>only if necessary</strong>.</p>
<pre class="r"><code>myTransformed &lt;- predict(mySkew, german.copy)
glimpse(myTransformed)</code></pre>
<pre class="bg-primary"><code>Observations: 1,000
Variables: 21
$ Duration         &lt;dbl&gt; 1.791759, 3.871201, 2.484907, 3.737670, 3.178...
$ Amount           &lt;dbl&gt; 7.063904, 8.691315, 7.647786, 8.972337, 8.490...
$ installment_rate &lt;dbl&gt; 4.666667, 1.218951, 1.218951, 1.218951, 2.797...
$ present_resid    &lt;dbl&gt; 4, 2, 3, 4, 4, 4, 4, 2, 4, 2, 1, 4, 1, 4, 4, ...
$ Age              &lt;dbl&gt; 1.353297, 1.264435, 1.334866, 1.329110, 1.339...
$ n_credits        &lt;dbl&gt; 0.3750000, 0.0000000, 0.0000000, 0.0000000, 0...
$ n_people         &lt;dbl&gt; 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
$ Telephone        &lt;fct&gt; none, yes, yes, yes, yes, none, yes, none, ye...
$ ForeignWorker    &lt;fct&gt; yes, yes, yes, yes, yes, yes, yes, yes, yes, ...
$ check_acct       &lt;fct&gt; lt.0, 0.to.200, none, lt.0, lt.0, none, none,...
$ credit_hist      &lt;fct&gt; Critical, PaidDuly, Critical, PaidDuly, Delay...
$ Purpose          &lt;fct&gt; Radio.Television, Radio.Television, Education...
$ savings_acct     &lt;fct&gt; Unknown, lt.100, lt.100, lt.100, lt.100, Unkn...
$ present_emp      &lt;fct&gt; gt.7, 1.to.4, 4.to.7, 4.to.7, 1.to.4, 1.to.4,...
$ status_sex       &lt;fct&gt; Male.Single, Female.NotSingle, Male.Single, M...
$ other_debt       &lt;fct&gt; None, None, None, Guarantor, None, None, None...
$ Property         &lt;fct&gt; RealEstate, RealEstate, RealEstate, Insurance...
$ other_install    &lt;fct&gt; None, None, None, None, None, None, None, Non...
$ Housing          &lt;fct&gt; Own, Own, Own, ForFree, ForFree, ForFree, Own...
$ Job              &lt;fct&gt; SkilledEmployee, SkilledEmployee, UnskilledRe...
$ Risk             &lt;fct&gt; Good, Bad, Good, Good, Bad, Good, Good, Good,...</code></pre>
<pre class="r"><code>p1_new &lt;- myTransformed %&gt;% 
  ggplot(aes(x=Amount)) + 
  geom_histogram(aes(y=..density..),
                 binwidth=.5,
                 colour=&quot;black&quot;, fill=&quot;white&quot;) +
  geom_density(alpha=.5, fill=&quot;purple&quot;) +  # Overlay with transparent density plot
  labs(title= &quot;Histogram of Amount&quot;, subtitle= &quot;overlaid with kernel density curve&quot;, 
       caption = &quot;source: my transformed german data with no Skewness&quot;)

p1_new </code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-32-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Before to continue with the Feature selection step, we are going to recode the response variable <strong>Risk</strong>, by creating a new variable (numerical) <strong>risk_bin</strong> where <strong>0</strong> corresponds to a Bad credit worthiness and <strong>1</strong> to a Good credit worthiness. We didn’t eliminate the original Risk outcome , they can be both useful for successive analysis depending of the Machine learning model we’ll test.</p>
<pre class="r"><code>german.copy &lt;- german.copy %&gt;%
  mutate(risk_bin = ifelse(Risk == &quot;Bad&quot;,0,1))</code></pre>
<p><br></p>
</div>
<div id="features-selection" class="section level4">
<h4><span style="color:red">3.2. Features selection</span></h4>
<p>According to HA &amp; Nguyen (2016), there are two different categories of feature selection methods: filter and wrapper methods.</p>
<blockquote>
<p><strong>3.2.1. <code>filter methods</code></strong></p>
</blockquote>
<p>The filter approach considers the feature selection process as a precursor stage of learning algorithms. The filter model uses evaluation functions to evaluate the classification performances of subsets of features. There are many evaluation functions such as feature importance, Gini, information gain, filtering, etc. A disadvantage of this approach is that there is no direct relationship between the feature selection process and the performance of learning algorithms.</p>
<ul>
<li><strong>sbf (selection by filtering, caret package):</strong></li>
</ul>
<p>The caret function sbf (for selection by filter) can be used to cross-validate such feature selection schemes. It’s a part of Univariate filters .They pre-screen the predictors using simple univariate statistical methods.As an example, it has been suggested for classification models, that predictors can be filtered by conducting some sort of k-sample test (where k is the number of classes) to see if the mean of the predictor is different between the classes. Wilcoxon tests, t-tests and ANOVA models are sometimes used. Predictors that have statistically significant differences between the classes are then used for modeling.For more details, read <a href="http://topepo.github.io/caret/feature-selection-using-univariate-filters.html#univariate-filters">this</a></p>
<pre class="r"><code>filterCtrl &lt;- sbfControl(functions = rfSBF, method = &quot;repeatedcv&quot;, repeats = 5)

set.seed(1)
rfWithFilter &lt;- sbf( Risk ~ ., german.copy[,-22], sbfControl = filterCtrl)
rfWithFilter</code></pre>
<pre class="bg-primary"><code>## 
## Selection By Filter
## 
## Outer resampling method: Cross-Validated (10 fold, repeated 5 times) 
## 
## Resampling performance:
## 
##  Accuracy  Kappa AccuracySD KappaSD
##     0.743 0.3189    0.03666 0.09716
## 
## Using the training set, 23 variables were selected:
##    Duration, Amount, installment_rate, Age, ForeignWorkeryes...
## 
## During resampling, the top 5 selected variables (out of a possible 30):
##    Age (100%), Amount (100%), check_acct0.to.200 (100%), check_acctnone (100%), credit_histCritical (100%)
## 
## On average, 21.8 variables were selected (min = 19, max = 25)</code></pre>
<p>The output of Model fitting after applying sbf univariate filters tell us that the top 5 selected variables are : Age (100%), Amount (100%), check_acct0.to.200 (100%), check_acctnone (100%), credit_histCritical (100%).Let’s try another method to assert or rebut the latter findings.</p>
<p><br></p>
<ul>
<li><strong>WOE,IV (Information package) :</strong></li>
</ul>
<p><strong>Weight of Evidence(WOE)</strong>: WOE shows predictive power of an independent variable in relation to dependent variable. It evolved with credit scoring to magnify separation power between a good customer and a bad customer, hence it is one of the measures of separation between two classes(good/bad, yes/no, 0/1, A/B, response/no-response). It is defined as: <span class="math display">\[WOE = ln(\frac{Distribution.of.nonEvents(Good)}{Distribution.of.Events(Bad)})\]</span> .It is computed from the basic odds ratio: (Distribution of Good Credit Outcomes) / (Distribution of Bad Credit Outcomes)</p>
<p>Some benefits of WOE lie in the fact that it can treat outliers (Suppose you have a continuous variable such as annual salary and extreme values are more than 500 million dollars. These values would be grouped to a class of (let’s say 250-500 million dollars). Later, instead of using the raw values, we would be using WOE scores of each classes.) and handle missing values as missing values can be binned separately. Also, It handles both continuous and categorical variables so there is no need for dummy variables.</p>
<p><strong>Information value(IV)</strong>: Information value is one of the most useful technique to select important variables in a predictive model. It helps to rank variables on the basis of their importance. The IV is calculated using the following formula : <span class="math display">\[IV =\sum(\%nonEvents - \%events)* WOE\]</span></p>
<p>According to Siddiqi (2006), by convention the values of the <span class="math inline">\(IV\)</span> statistic in credit scoring can be interpreted as follows.</p>
<p>If the <span class="math inline">\(IV\)</span> statistic is:</p>
<ul>
<li>Less than 0.02, then the predictor is not useful for modeling (separating the Goods from the Bads)</li>
<li>0.02 to 0.1, then the predictor has only a weak relationship to the Goods/Bads odds ratio</li>
<li>0.1 to 0.3, then the predictor has a medium strength relationship to the Goods/Bads odds ratio</li>
<li>0.3 to 0.5, then the predictor has a strong relationship to the Goods/Bads odds ratio.</li>
<li>greater than 0.5, suspicious relationship (Check once)</li>
</ul>
<pre class="r"><code>IV &lt;- create_infotables(data=german.copy[,-21], NULL, y=&quot;risk_bin&quot;, bins=10) 
IV$Summary$IV &lt;- round(IV$Summary$IV*100,2)

#get tables from the IV statistic
IV$Tables</code></pre>
<pre class="bg-primary"><code>## $Duration
##   Duration   N Percent         WOE        IV
## 1    [4,8]  94   0.094  1.28093385 0.1110143
## 2   [9,11]  86   0.086  0.55359530 0.1342125
## 3  [12,14] 187   0.187  0.16066006 0.1388793
## 4  [15,16]  66   0.066  0.55804470 0.1569494
## 5  [18,22] 153   0.153 -0.18342106 0.1622773
## 6  [24,28] 201   0.201 -0.03995831 0.1626008
## 7  [30,33]  43   0.043 -0.11905936 0.1632244
## 8  [36,72] 170   0.170 -0.77668029 0.2778772
## 
## $Amount
##          Amount   N Percent         WOE           IV
## 1     [250,931]  99   0.099 -0.06177736 0.0003824313
## 2    [932,1258]  99   0.099 -0.01438874 0.0004029866
## 3   [1262,1474]  99   0.099  0.23789141 0.0057272229
## 4   [1478,1901] 102   0.102  0.38665578 0.0197204795
## 5   [1905,2315] 100   0.100  0.04808619 0.0199494614
## 6   [2319,2835] 100   0.100  0.25131443 0.0259331383
## 7   [2848,3578] 100   0.100  0.36101335 0.0379669164
## 8   [3590,4712] 100   0.100  0.04808619 0.0381958983
## 9   [4716,7166] 100   0.100 -0.31508105 0.0486985998
## 10 [7174,18424] 101   0.101 -0.74820696 0.1117617577
## 
## $installment_rate
##   installment_rate   N Percent         WOE          IV
## 1            [1,1] 136   0.136  0.25131443 0.008137801
## 2            [2,2] 231   0.231  0.15546647 0.013542111
## 3            [3,3] 157   0.157  0.06453852 0.014187496
## 4            [4,4] 476   0.476 -0.15730029 0.026322090
## 
## $present_resid
##   present_resid   N Percent          WOE          IV
## 1         [1,1] 130   0.130  0.112477983 0.001606828
## 2         [2,2] 308   0.308 -0.070150705 0.003143463
## 3         [3,3] 149   0.149  0.054941118 0.003588224
## 4         [4,4] 413   0.413 -0.001152738 0.003588773
## 
## $Age
##        Age   N Percent         WOE          IV
## 1  [19,22]  57   0.057 -0.38299225 0.008936486
## 2  [23,25] 133   0.133 -0.59025276 0.059810652
## 3  [26,27] 101   0.101  0.16093037 0.062339558
## 4  [28,29]  80   0.080 -0.33647224 0.071953050
## 5  [30,32] 112   0.112  0.11316409 0.073354130
## 6  [33,35] 105   0.105  0.06899287 0.073846936
## 7  [36,38]  92   0.092  0.56639547 0.099739300
## 8  [39,44] 119   0.119  0.06899287 0.100297814
## 9  [45,51]  96   0.096  0.48770321 0.120734901
## 10 [52,75] 105   0.105  0.06899287 0.121227707
## 
## $n_credits
##   n_credits   N Percent        WOE          IV
## 1     [1,1] 633   0.633 -0.0748775 0.003601251
## 2     [2,4] 367   0.367  0.1347806 0.010083557
## 
## $n_people
##   n_people   N Percent         WOE           IV
## 1    [1,1] 845   0.845 -0.00281611 6.705024e-06
## 2    [2,2] 155   0.155  0.01540863 4.339223e-05
## 
## $Telephone
##   Telephone   N Percent         WOE          IV
## 1      none 404   0.404  0.09863759 0.003851563
## 2       yes 596   0.596 -0.06469132 0.006377605
## 
## $ForeignWorker
##   ForeignWorker   N Percent         WOE         IV
## 1            no  37   0.037  1.26291534 0.04269857
## 2           yes 963   0.963 -0.03486727 0.04387741
## 
## $check_acct
##   check_acct   N Percent        WOE         IV
## 1   0.to.200 269   0.269 -0.4013918 0.04644676
## 2     gt.200  63   0.063  0.4054651 0.05590762
## 3       lt.0 274   0.274 -0.8180987 0.26160100
## 4       none 394   0.394  1.1762632 0.66601150
## 
## $credit_hist
##        credit_hist   N Percent         WOE        IV
## 1         Critical 293   0.293  0.73374058 0.1324227
## 2            Delay  88   0.088 -0.08515781 0.1330715
## 3 NoCredit.AllPaid  40   0.040 -1.35812348 0.2171458
## 4         PaidDuly 530   0.530 -0.08831862 0.2213515
## 5 ThisBank.AllPaid  49   0.049 -1.13497993 0.2932335
## 
## $Purpose
##                Purpose   N Percent         WOE          IV
## 1             Business  97   0.097 -0.23052366 0.005378885
## 2    DomesticAppliance  12   0.012 -0.15415068 0.005672506
## 3            Education  50   0.050 -0.60613580 0.025877032
## 4  Furniture.Equipment 181   0.181 -0.09555652 0.027560647
## 5               NewCar 234   0.234 -0.35920049 0.059717643
## 6                Other  12   0.012 -0.51082562 0.063123147
## 7     Radio.Television 280   0.280  0.41006282 0.106082109
## 8              Repairs  22   0.022 -0.28768207 0.107999990
## 9           Retraining   9   0.009  1.23214368 0.117974486
## 10             UsedCar 103   0.103  0.77383609 0.169195066
## 
## $savings_acct
##   savings_acct   N Percent        WOE          IV
## 1   100.to.500 103   0.103 -0.1395519 0.002060052
## 2  500.to.1000  63   0.063  0.7060506 0.028621002
## 3      Unknown 183   0.183  0.7042461 0.105417360
## 4      gt.1000  48   0.048  1.0986123 0.149361851
## 5       lt.100 603   0.603 -0.2713578 0.196009557
## 
## $present_emp
##   present_emp   N Percent         WOE          IV
## 1      1.to.4 339   0.339 -0.03210325 0.000351607
## 2      4.to.7 174   0.174  0.39441527 0.025143424
## 3  Unemployed  62   0.062 -0.31923043 0.031832062
## 4        gt.7 253   0.253  0.23556607 0.045180806
## 5        lt.1 172   0.172 -0.47082029 0.086433631
## 
## $status_sex
##                status_sex   N Percent        WOE         IV
## 1        Female.NotSingle 310   0.310 -0.2353408 0.01793073
## 2 Male.Divorced.Seperated  50   0.050 -0.4418328 0.02845056
## 3    Male.Married.Widowed  92   0.092  0.1385189 0.03016555
## 4             Male.Single 548   0.548  0.1655476 0.04467068
## 
## $other_debt
##    other_debt   N Percent           WOE         IV
## 1 CoApplicant  41   0.041 -0.6021754024 0.01634476
## 2   Guarantor  52   0.052  0.5877866649 0.03201907
## 3        None 907   0.907  0.0005250722 0.03201932
## 
## $Property
##     Property   N Percent         WOE           IV
## 1   CarOther 332   0.332 -0.03419136 0.0003907585
## 2  Insurance 232   0.232 -0.02857337 0.0005812476
## 3 RealEstate 282   0.282  0.46103496 0.0545882000
## 4    Unknown 154   0.154 -0.58608236 0.1126382624
## 
## $other_install
##   other_install   N Percent        WOE         IV
## 1          Bank 139   0.139 -0.4836299 0.03523589
## 2          None 814   0.814  0.1211786 0.04689212
## 3        Stores  47   0.047 -0.4595323 0.05761454
## 
## $Housing
##   Housing   N Percent        WOE         IV
## 1 ForFree 108   0.108 -0.4726044 0.02610577
## 2     Own 713   0.713  0.1941560 0.05190078
## 3    Rent 179   0.179 -0.4044452 0.08329343
## 
## $Job
##                                  Job   N Percent         WOE          IV
## 1 Management.SelfEmp.HighlyQualified 148   0.148 -0.20441251 0.006424393
## 2                    SkilledEmployee 630   0.630  0.02278003 0.006749822
## 3                UnemployedUnskilled  22   0.022 -0.08515781 0.006912028
## 4                  UnskilledResident 200   0.200  0.09716375 0.008762766</code></pre>
<pre class="r"><code>#get summary of the IV statistic
IV$Summary</code></pre>
<pre class="bg-primary"><code>           Variable    IV
10       check_acct 66.60
11      credit_hist 29.32
1          Duration 27.79
13     savings_acct 19.60
12          Purpose 16.92
5               Age 12.12
17         Property 11.26
2            Amount 11.18
14      present_emp  8.64
19          Housing  8.33
18    other_install  5.76
15       status_sex  4.47
9     ForeignWorker  4.39
16       other_debt  3.20
3  installment_rate  2.63
6         n_credits  1.01
20              Job  0.88
8         Telephone  0.64
4     present_resid  0.36
7          n_people  0.00</code></pre>
<p>We observed that following variables do not have prediction power - very very weak predictor (IV&lt; 2%), hence we shall exclude them from modeling:</p>
<pre class="r"><code>kable(IV$Summary %&gt;%
        filter(IV &lt; 2))</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:right;">
IV
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
n_credits
</td>
<td style="text-align:right;">
1.01
</td>
</tr>
<tr>
<td style="text-align:left;">
Job
</td>
<td style="text-align:right;">
0.88
</td>
</tr>
<tr>
<td style="text-align:left;">
Telephone
</td>
<td style="text-align:right;">
0.64
</td>
</tr>
<tr>
<td style="text-align:left;">
present_resid
</td>
<td style="text-align:right;">
0.36
</td>
</tr>
<tr>
<td style="text-align:left;">
n_people
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Second group of variables are very weak predictors (2%&lt;=IV&lt; 10%), hence we may or may not include them while modeling</p>
<pre class="r"><code>kable(IV$Summary %&gt;%
        filter(IV &gt;= 2 &amp; IV &lt; 10 ))</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:right;">
IV
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
present_emp
</td>
<td style="text-align:right;">
8.64
</td>
</tr>
<tr>
<td style="text-align:left;">
Housing
</td>
<td style="text-align:right;">
8.33
</td>
</tr>
<tr>
<td style="text-align:left;">
other_install
</td>
<td style="text-align:right;">
5.76
</td>
</tr>
<tr>
<td style="text-align:left;">
status_sex
</td>
<td style="text-align:right;">
4.47
</td>
</tr>
<tr>
<td style="text-align:left;">
ForeignWorker
</td>
<td style="text-align:right;">
4.39
</td>
</tr>
<tr>
<td style="text-align:left;">
other_debt
</td>
<td style="text-align:right;">
3.20
</td>
</tr>
<tr>
<td style="text-align:left;">
installment_rate
</td>
<td style="text-align:right;">
2.63
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Third group of variables have medium prediction power (10%&lt;=IV&lt; 30%), hence we will include them in modeling as we have less number of variables</p>
<pre class="r"><code>kable(IV$Summary %&gt;%
        filter(IV &gt;= 10 &amp; IV &lt; 30 ))</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:right;">
IV
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
credit_hist
</td>
<td style="text-align:right;">
29.32
</td>
</tr>
<tr>
<td style="text-align:left;">
Duration
</td>
<td style="text-align:right;">
27.79
</td>
</tr>
<tr>
<td style="text-align:left;">
savings_acct
</td>
<td style="text-align:right;">
19.60
</td>
</tr>
<tr>
<td style="text-align:left;">
Purpose
</td>
<td style="text-align:right;">
16.92
</td>
</tr>
<tr>
<td style="text-align:left;">
Age
</td>
<td style="text-align:right;">
12.12
</td>
</tr>
<tr>
<td style="text-align:left;">
Property
</td>
<td style="text-align:right;">
11.26
</td>
</tr>
<tr>
<td style="text-align:left;">
Amount
</td>
<td style="text-align:right;">
11.18
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>There is no strong predictor with IV between 30% to 50%</p>
<pre class="r"><code>kable(IV$Summary %&gt;%
        filter(IV &gt;= 30 &amp; IV &lt; 50 ))</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:right;">
IV
</th>
</tr>
</thead>
<tbody>
<tr>
</tr>
</tbody>
</table>
<p><br></p>
<p>check_acct has a very high prediction power (IV &gt; 50%), it could be suspicious and require further investigation.</p>
<pre class="r"><code>kable(IV$Summary %&gt;%
        filter( IV &gt; 50 ))</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:right;">
IV
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
check_acct
</td>
<td style="text-align:right;">
66.6
</td>
</tr>
</tbody>
</table>
<p><br></p>
<blockquote>
<p><strong>3.2.2. <code>wrapper methods</code></strong></p>
</blockquote>
<p>Wrapper methods consider the selection of a set of features as a search problem, where different combinations are prepared, evaluated and compared to other combinations. A predictive model us used to evaluate a combination of features and assign a score based on model accuracy. The search process may be methodical such as a best-first search, it may stochastic such as a random hill-climbing algorithm, or it may use heuristics, like forward and backward passes to add and remove features. One disadvantage of the wrapper approach is highly computational cost.</p>
<p>An example of a wrapper method is the recursive feature elimination algorithm. Another example is the boruta algorithm.</p>
<ul>
<li><strong>rfe (recursive feature elimination, caret package):</strong></li>
</ul>
<p>Recursive feature elimination via the caret package, is a wrapper method which is explained by the algorithm below. For further details follow <a href="https://topepo.github.io/caret/recursive-feature-elimination.html#rfe">Recursive Feature Elimination via caret</a></p>
<div class="figure" style="text-align: center">
<img src="rfe_algo.PNG" alt="recursive feature elimitation algorithm" width="70%" />
<p class="caption">
recursive feature elimitation algorithm
</p>
</div>
<p><br></p>
<p>We created a function called “<strong>recur.feature.selection</strong>” which internally defined : x, the data frame of predictor variables ; y, the vector (numeric or factor) of outcome (y) ; sizes, an integer vector for the specific subset sizes that should be tested, and a list of options that can be used to specify the model and the methods for prediction(using rfecontrol). Then we applied the algorithm using the rfe function.</p>
<pre class="r"><code>recur.feature.selection &lt;- function(num.iters=20, features.var, outcome.var){
set.seed(10)
sizes.var &lt;- 1:20
control &lt;- rfeControl(functions = rfFuncs, #pre-defined sets of functions,randomForest(rffuncs)
                        method = &quot;cv&quot;,
                        number = num.iters,
                        returnResamp = &quot;all&quot;,
                        verbose = FALSE
                        )
results.rfe &lt;- rfe(x = features.var, 
                   y = outcome.var,
                   sizes = sizes.var,
                   rfeControl = control)
return(results.rfe)
}</code></pre>
<pre class="r"><code>#before to apply the rfe algorithm, i clear unusued memory
invisible(gc())</code></pre>
<pre class="r"><code>#To resolve the summary.connection(connection) : invalid connection, i install the doSnow-parallel-DeLuxe R script performed by Tobias Kind (2015); see more here : https://github.com/tobigithub/R-parallel/wiki/R-parallel-Errors

source(&quot;Install-doSNOW-parallel-DeLuxe.R&quot;) </code></pre>
<pre class="bg-primary"><code>## 2  cores detected.4  threads detected.[1] &quot;Cluster stopped.&quot;</code></pre>
<pre class="r"><code>#i remove in the features.var (both Risk (21) and risk_bin (22))  /  i keep only Risk (factor) as outcome var.

rfe.results &lt;- recur.feature.selection(features.var = german.copy[,c(-21,-22)],   
                                       outcome.var = german.copy[,21])    

# view results
rfe.results</code></pre>
<pre class="bg-primary"><code>## 
## Recursive feature selection
## 
## Outer resampling method: Cross-Validated (20 fold) 
## 
## Resampling performance over subset size:
## 
##  Variables Accuracy   Kappa AccuracySD KappaSD Selected
##          1    0.687 0.01115    0.03197 0.03603         
##          2    0.727 0.26590    0.04169 0.13144         
##          3    0.737 0.28146    0.04269 0.11063         
##          4    0.729 0.30158    0.05524 0.15665         
##          5    0.746 0.34942    0.05236 0.14191         
##          6    0.772 0.40465    0.05085 0.14150         
##          7    0.770 0.39423    0.04026 0.12075         
##          8    0.766 0.38039    0.05586 0.16309         
##          9    0.770 0.39346    0.05712 0.16442         
##         10    0.776 0.40547    0.05295 0.15160         
##         11    0.778 0.40704    0.05386 0.15556        *
##         12    0.773 0.39260    0.04953 0.14876         
##         13    0.772 0.38039    0.06031 0.17823         
##         14    0.772 0.38123    0.05288 0.15897         
##         15    0.760 0.34651    0.05351 0.15822         
##         16    0.772 0.37718    0.05167 0.15584         
##         17    0.769 0.37059    0.05004 0.15479         
##         18    0.761 0.35214    0.04564 0.14335         
##         19    0.773 0.37491    0.04366 0.13925         
##         20    0.771 0.37221    0.04745 0.14784         
## 
## The top 5 variables (out of 11):
##    check_acct, Duration, credit_hist, Amount, savings_acct</code></pre>
<p>The recursive feature selection output (Outer resampling method: Cross-Validated (20 fold) ) shows that the top 5 variables are: check_acct, Duration, credit_hist, Amount and savings_acct. These findings are somehow in line with those of WOE and IV statistics. ( check_acct has the highest power prediction, and features such as Amount,Duration, savings_acct have medium prediction power)</p>
<p><br></p>
<ul>
<li><strong>Boruta algorithm : </strong></li>
</ul>
<p>Boruta algorithm is a wrapper built around the random forest classification algorithm implemented in the R package randomForest (Liaw and Wiener, 2002). It tries to capture all the important, interesting features you might have in your dataset with respect to an outcome variable. As explained in Kursa &amp; Rudnicki (2010), the steps of the boruta algorithm can be resume as follow:</p>
<ul>
<li>First, it duplicates the dataset, and shuffle the values in each column. These values are called shadow features. Then, it trains a classifier, such as a Random Forest Classifier, on the dataset. By doing this, you ensure that you can an idea of the importance -via the Mean Decrease Accuracy or Mean Decrease Impurity- for each of the features of your data set. The higher the score, the better or more important.</li>
<li>Then, the algorithm checks for each of your real features if they have higher importance. That is, whether the feature has a higher Z-score than the maximum Z-score of its shadow features than the best of the shadow features. If they do, it records this in a vector. These are called a hits. Next,it will continue with another iteration. After a predefined set of iterations, you will end up with a table of these hits.</li>
<li>At every iteration, the algorithm compares the Z-scores of the shuffled copies of the features and the original features to see if the latter performed better than the former. If it does, the algorithm will mark the feature as important. In essence, the algorithm is trying to validate the importance of the feature by comparing with random shuffled copies, which increases the robustness. This is done by simply comparing the number of times a feature did better with the shadow features using a binomial distribution.</li>
<li>If a feature hasn’t been recorded as a hit in say 15 iterations, you reject it and also remove it from the original matrix. After a set number of iterations -or if all the features have been either confirmed or rejected- you stop.</li>
</ul>
<pre class="r"><code>set.seed(123)
Boruta.german &lt;- Boruta(Risk ~ . , data = german.copy[,-22], doTrace = 0, ntree = 500)
Boruta.german</code></pre>
<pre class="bg-primary"><code>Boruta performed 99 iterations in 1.026238 mins.
 11 attributes confirmed important: Age, Amount, check_acct,
credit_hist, Duration and 6 more;
 4 attributes confirmed unimportant: ForeignWorker, n_people,
status_sex, Telephone;
 5 tentative attributes left: Housing, installment_rate, Job,
n_credits, present_resid;</code></pre>
<pre class="r"><code>#Functions which convert the Boruta selection into a formula which returns only Confirmed attributes.
getConfirmedFormula(Boruta.german)</code></pre>
<pre class="bg-primary"><code>Risk ~ Duration + Amount + Age + check_acct + credit_hist + Purpose + 
    savings_acct + present_emp + other_debt + Property + other_install
&lt;environment: 0x00000000234f9f30&gt;</code></pre>
<p>Boruta function uses y the response vector as factor . Then in the formula, we should consider Risk and not risk_bin. We observed that Boruta performed 99 iterations in 2.055356 mins, and the confirmed important attributes are 11 : Duration , Amount , Age , check_acct , credit_hist , Purpose , savings_acct , present_emp , other_debt , Property and other_install (results that go in accordance with WOE and IV statistics, from weak to highest predictors) . See the plot below, where Blue boxplots correspond to minimal, average and maximum Z score of a shadow attribute. Red and green boxplots represent Z scores of respectively rejected and confirmed attributes. Yellow boxplots represent Z scores of 5 tentative attributes left.</p>
<pre class="r"><code>#plot boruta object
plot(Boruta.german,las=2, main=&quot;Boruta result plot for german data&quot;)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-47-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br></p>
<blockquote>
<p><strong>3.2.3. <code>Embedded methods</code></strong></p>
</blockquote>
<p>A third feature selection method, <em>embedded methods</em> , is detailed in Aggarwal (2014). This class of methods embedding feature selection with classifier construction, have the advantages of wrapper models â€” they include the interaction with the classification model and filter modelsâ€”and they are far less computationally intensive than wrapper methods. There are of 3 types : The first are pruning techniques that first utilize all features to train a model and then attempt to eliminate some features by setting the corresponding coefficients to 0 , while maintaining model performance such as recursive feature elimination using a support vector machine . The second are models with a built-in mechanism for feature selection such as C4.5 algorithm. The third are regularization models with objective functions that minimize fitting errors and in the meantime force the coefficients to be small or to be exactly zero ( Elastic Net or Ridge Regression)</p>
<p>However in our study, we are not going to developp these models as features selectors . Here, we just give an overview of this third feature selection approach.</p>
<p><br></p>
<p>At the end, Based on the Weight of Evidence and Information Value statistics results, we will keep attributes which <span class="math inline">\(IV &gt; 2\)</span>. More over, the wrapper methods , recursive feature elimination and Boruta algorithm confirm this choice since they helped to investigate better on the suspicious character of the highest power predictor, check_acct. The important attributes validated by these algorithms corroborate with our choice.</p>
<pre class="r"><code>#attributes to keep (IV&gt;2)
keep &lt;- IV$Summary %&gt;%
            filter( IV &gt; 2)

#german.copy data with attributes(IV&gt;2) and response variable
german.copy2 &lt;- german.copy[,c(keep$Variable,&quot;Risk&quot;)]

#for convenience, we change the levels  Good = 1,  Bad = 0
german.copy2$Risk &lt;- as.factor(ifelse(german.copy2$Risk == &quot;Bad&quot;, &#39;0&#39;, &#39;1&#39;))

#get a glimpse of german copies , see the differences./ german.copy2 is our subsetted data after pre-processing

glimpse(german.copy2)</code></pre>
<pre class="bg-primary"><code>Observations: 1,000
Variables: 16
$ check_acct       &lt;fct&gt; lt.0, 0.to.200, none, lt.0, lt.0, none, none,...
$ credit_hist      &lt;fct&gt; Critical, PaidDuly, Critical, PaidDuly, Delay...
$ Duration         &lt;dbl&gt; 6, 48, 12, 42, 24, 36, 24, 36, 12, 30, 12, 48...
$ savings_acct     &lt;fct&gt; Unknown, lt.100, lt.100, lt.100, lt.100, Unkn...
$ Purpose          &lt;fct&gt; Radio.Television, Radio.Television, Education...
$ Age              &lt;dbl&gt; 67, 22, 49, 45, 53, 35, 53, 35, 61, 28, 25, 2...
$ Property         &lt;fct&gt; RealEstate, RealEstate, RealEstate, Insurance...
$ Amount           &lt;dbl&gt; 1169, 5951, 2096, 7882, 4870, 9055, 2835, 694...
$ present_emp      &lt;fct&gt; gt.7, 1.to.4, 4.to.7, 4.to.7, 1.to.4, 1.to.4,...
$ Housing          &lt;fct&gt; Own, Own, Own, ForFree, ForFree, ForFree, Own...
$ other_install    &lt;fct&gt; None, None, None, None, None, None, None, Non...
$ status_sex       &lt;fct&gt; Male.Single, Female.NotSingle, Male.Single, M...
$ ForeignWorker    &lt;fct&gt; yes, yes, yes, yes, yes, yes, yes, yes, yes, ...
$ other_debt       &lt;fct&gt; None, None, None, Guarantor, None, None, None...
$ installment_rate &lt;dbl&gt; 4, 2, 2, 2, 3, 2, 3, 2, 2, 4, 3, 3, 1, 4, 2, ...
$ Risk             &lt;fct&gt; 1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, ...</code></pre>
<p><br></p>
</div>
<div id="data-partitioning" class="section level4">
<h4><span style="color:red">3.3. Data partitioning</span></h4>
<p>Stratified random sampling is a method of sampling that involves the division of a population into smaller groups known as strata. This is useful for imbalanced datasets, and can be used to give more weight to a minority class. In stratified random sampling, the strata are formed based on membersâ€™ shared attributes or characteristics. See more <a href="https://en.wikipedia.org/wiki/Stratified_sampling">here</a> or read <a href="https://www.researchgate.net/publication/233399251_Improving_Risk_Predictions_by_Preprocessing_Imbalanced_Credit_Data">Garcia et al(2012)</a> that is already mentioned at the introduction of Data pre-processing paragraph.</p>
<p>In our case we will use Good/Bad as strata and partition data into 70%-30% as train and test sets. The caret function <strong>createDataPartition()</strong> can be used to create balanced splits of the data</p>
<pre class="r"><code>index &lt;- createDataPartition(y = german.copy2$Risk, p = 0.7, list = F)

# i create a function to calculate percent distribution for factors
pct &lt;- function(x){
  tbl &lt;- table(x)
  tbl_pct &lt;- cbind(tbl,round(prop.table(tbl)*100,2))
  colnames(tbl_pct) &lt;- c(&#39;Count&#39;,&#39;Percentage&#39;)
  kable(tbl_pct)
}

#training set and test set
train &lt;- german.copy2[index,]
pct(train$Risk)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Count
</th>
<th style="text-align:right;">
Percentage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
0
</td>
<td style="text-align:right;">
210
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
490
</td>
<td style="text-align:right;">
70
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>test &lt;- german.copy2[-index,]
pct(test$Risk)</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Count
</th>
<th style="text-align:right;">
Percentage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
0
</td>
<td style="text-align:right;">
90
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
210
</td>
<td style="text-align:right;">
70
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>The data preprocessing phase is usually not definitive because it requires a lot of attention and subsequent various explorations on the variables. It must be aimed at obtaining better predictive results and in this sense, the further phases of model evaluations can help us to understand which particular preprocessing approaches are actually indispensable or useful for a specific model purpose.</p>
<p><br> <br></p>
</div>
</div>
<div id="iv.-methods-and-analysis" class="section level3">
<h3>IV. Methods and Analysis</h3>
<p><br> In machine learning, classification is considered an instance of the supervised learning methods,i.e., inferring a function from labeled training data. The training data consist of a set of training examples, where each example is a pair consisting of an input object (typically a vector of features) <span class="math inline">\(x =(x_1,x_2, ...,x_d)\)</span> and a desired output value (typically a class label) <span class="math inline">\(y âˆˆ \{ C_1,C_2, ...,C_K \}\)</span> . Given such a set of training data, the task of a classification algorithm is to analyze the training data and produce an inferred function, which can be used to classify new (so far unseen) examples by assigning a correct class label to each of them. An example would be assigning an applicant credit scoring into â€œgoodâ€ or â€œbadâ€ classes(then consider the outcome Y as a boolean variable, as in our study). A general process of data classification usually consists of two phasesâ€” the training phase and the prediction phase.</p>
<p>There are many classification methods in the literature. These methods can be categorized broadly into probabilistic classification algorithms or linear classifiers (Naive bayes classifiers, logistic regression, Hidden markov models, etc ), support vector machines, decision trees, and Neural networks. (Aggarwal, 2014).</p>
<p>In this section, we are going to explain the methodology over differents Machine Learning algorithms we used taking our principal references from Aggarwal(2014), and to present the metrics for the model performance evaluation.</p>
<p><br></p>
<div id="evaluated-algorithms" class="section level4">
<h4><span style="color:red">4.1. Evaluated Algorithms</span></h4>
<blockquote>
<p><strong>4.1.1. <code>Logistic regression</code></strong></p>
</blockquote>
<p>Logistic regression is an approach for predicting the outcome of a categorialdependent variable based on one or more observed features. The probabilities describing the possible outcomes are modeled as a function of the observed variables using a logistic function.</p>
<p>The goal of logistic regression is to directly estimate the distribution P(Y|X) from the training data. Formally, the logistic regression model is defined as <span class="math display">\[p(Y = 1|X) = g(Î¸^TX) = \frac{1}{\ 1 + e^âˆ’Î¸^T X} \tag{1} ,\]</span> where <span class="math inline">\(g(z) = \frac{1}{\ 1 + eâˆ’z}\)</span> is called the logistic function or the sigmoid function, and <span class="math inline">\(Î¸^TX = Î¸_0 + \sum_{i=1}^{d} Î¸iXi\)</span>. As the sum of the probabilities must equal 1, p(Y = 0|X) can be estimated using the following equation <span class="math display">\[p(Y = 0|X) = 1âˆ’g(Î¸^TX) = \frac{eâˆ’Î¸^TX}{\ 1 + eâˆ’Î¸^TX}. \tag{2}\]</span></p>
<p>Because logistic regression predicts probabilities, rather than just classes, we can fit it using likelihood. For each training data point, we have a vector of features, <span class="math inline">\(X =(X_0,X_1,...,X_d) (X_0 = 1)\)</span>*, and an observed class, <span class="math inline">\(Y = y_k\)</span>. The probability of that class was either <span class="math inline">\(g(Î¸^TX)\)</span> if <span class="math inline">\(yk = 1\)</span>, or <span class="math inline">\(1âˆ’g(Î¸^TX)\)</span> if <span class="math inline">\(y_k = 0\)</span> . Note that we can combine both Equation (1) and Equation (2) as a more compact form <span class="math display">\[ \begin{aligned}
p(Y = y_k|X;Î¸) &amp;= (p(Y = 1|X)) ^{y_k}  (p(Y = 0|X))^{1âˆ’y_k} \\
              &amp;= g(Î¸^TX)^{y_k} (1âˆ’g(Î¸TX))^{1âˆ’y_k}
\end{aligned}\]</span></p>
<p>Assuming that the N training examples were generated independently, the likelihood of the parameters can be written as</p>
<p><span class="math display">\[ \begin{aligned}
        L(Î¸) &amp;= p(\overline{Y} |X;Î¸) \\
             &amp;= \prod_{n = 1}^{N} p(Y^{(n)} = y_k|X^{(n)};Î¸) )  \\
             &amp;= \prod_{n = 1}^{N} \left( p(Y^{(n)} = 1|X^{(n)})\right)^{Y^{(n)}} \left( p(Y^{(n)} = 0|X^{(n)})\right)^{1-Y^{(n)}}    \\
             &amp;= \prod_{n = 1}^{N} \left( g( Î¸^T X^{(n)} )\right)^{Y^{(n)}} \left( 1 - g( Î¸^T X^{(n)} )\right)^{1-Y^{(n)}} 
\end{aligned}  \tag{3}\]</span></p>
<p>where Î¸ is the vector of parameters to be estimated, <span class="math inline">\(Y(n)\)</span> denotes the observed value of Y in the nth training example, and <span class="math inline">\(X(n)\)</span> denotes the observed value of X in the nth training example. To classify any given X, we generally want to assign the value <span class="math inline">\(y_k\)</span> to Y that maximizes the likelihood. Maximizing the likelihood is equivalent to maximizing the log likelihood.</p>
<p>In our study, using the <strong>glm()</strong> function of the stats package, we fit our logistic regression model on the training set. Then, in the testing phase, we evaluated our fitted model on the test set with the <strong>predict()</strong> function of the same package.</p>
<p><br></p>
<blockquote>
<p><strong>4.1.2. <code>Decision trees</code></strong></p>
</blockquote>
<p>Decision trees create a hierarchical partitioning of the data, which relates the different partitions at the leaf level to the different classes. The hierarchical partitioning at each level is created with the use of a split criterion. The split criterion may either use a condition (or predicate) on a single attribute, or it may contain a condition on multiple attributes. The former is referred to as a univariate split, whereas the latter is referred to as a multivariate split. The overall approach is to try to recursively split the training data so as to maximize the discrimination among the different classes over different nodes. The discrimination among the different classes is maximized, when the level of skew among the different classes in a given node is maximized. A measure such as the gini-index or entropy is used in order to quantify this skew. For example, if <span class="math inline">\(p_1 . . . p_k\)</span> is the fraction of the records belonging to the <span class="math inline">\(k\)</span> different classes in a node <span class="math inline">\(N\)</span>, then the gini-index <span class="math inline">\(G(N)\)</span> of the node <span class="math inline">\(N\)</span> is defined as follows: <span class="math display">\[G(N) = 1âˆ’ \sum_{i=1}^k =p^2_i \tag{4}\]</span></p>
<p>The value of <span class="math inline">\(G(N)\)</span> lies between <span class="math inline">\(0\)</span> and <span class="math inline">\(1âˆ’1/k\)</span>. The smaller the value of G(N), the greater the skew. In the cases where the classes are evenly balanced, the value is <span class="math inline">\(1âˆ’1/k\)</span> . An alternative measure is the entropy <span class="math inline">\(E(N)\)</span>: <span class="math display">\[E(N) = - \sum_{i=1}^k pi Â· log(pi) \tag{5}\]</span></p>
<p>The value of the entropy lies between <span class="math inline">\(0\)</span> and <span class="math inline">\(log(k)\)</span>. The value is <span class="math inline">\(log(k)\)</span>, when the records are perfectly balanced among the different classes. This corresponds to the scenario with maximum entropy. The smaller the entropy, the greater the skew in the data. Thus, the gini-index and entropy provide an effective way to evaluate the quality of a node in terms of its level of discrimination between the different classes.</p>
<p>Note that with decision tree, we refer here to classification tree and not regression tree, since the outcome we want to predict is a categorical variable.</p>
<p>In our study, we built our classification tree model on the training set using the rpart function of the rpart package. By default, <strong>rpart()</strong> function uses the Gini impurity measure to split the node. The higher the Gini coefficient, the more different instances within the node. We predicted the fitted tree on the test set with the predict() function. Major explanations of Recursive Partitioning Using the rpart Routines are given in <a href="https://cran.r-project.org/web/packages/rpart/vignettes/longintro.pdf">Therneau &amp; Atkinson (2018)</a>.</p>
<p><br></p>
<blockquote>
<p><strong>4.1.3. <code>Random forests</code></strong></p>
</blockquote>
<p>Random Forest can be regarded as a variant of Bagging approach. It follows the major steps of Bagging and uses decision tree algorithm to build base classifiers. Besides Bootstrap sampling and majority voting used in Bagging, Random Forest further incorporates random feature space selection into training set construction to promote base classifiersâ€™ diversity.</p>
<p>Random Forest algorithm builds multiple decision trees following the summarized algorithm below and takes majority voting of the prediction results of these trees. To incorporate diversity into the trees, Random Forest approach differs from the traditional decision tree algorithm in the following aspects when building each tree: First, it infers the tree from a Bootstrap sample of the original training set. Second, when selecting the best feature at each node, Random Forest only considers a subset of the feature space. These two modifications of decision tree introduce randomness into the tree learning process, and thus increase the diversity of base classifiers. In practice, the dimensionality of the selected feature subspace <span class="math inline">\(n&#39;\)</span> controls the randomness. If we set <span class="math inline">\(n&#39; = n\)</span> where <span class="math inline">\(n\)</span> is the original dimensionality, then the constructed decision tree is the same as the traditional deterministic one. If we set <span class="math inline">\(n&#39; = 1\)</span>, at each node, only one feature will be randomly selected to split the data, which leads to a completely random decision tree.</p>
<p>Specifically, the following describes the general procedure of Random Forest algorithm:</p>
<div class="figure" style="text-align: center">
<img src="randomforest.png" alt="random forest algorithm" width="70%" />
<p class="caption">
random forest algorithm
</p>
</div>
<p>In our study, we used the <strong>randomForest()</strong> function of the randomForest package which implements <a href="https://www.stat.berkeley.edu/~breiman/randomforest2001.pdf">Breiman’s random forest algorithm</a> (based on Breiman and Cutler’s original Fortran code), to build our random forest models on training set . Then , we predicted the latter model on test set with the <strong>predict()</strong> function.</p>
<p><br></p>
<blockquote>
<p><strong>4.1.4. <code>Support Vector Machines</code></strong></p>
</blockquote>
<p>SVM methods use linear conditions in order to separate out the classes from one another. The idea is to use a linear condition that separates the two classes from each other as well as possible. SVMs were developed by Cortes &amp; Vapnik (1995) for binary classification. Their approach may be roughly sketched with the following tasks : Class separation, Overlapping classes, Nonlinearity and Problem solution which is a quadratic optimization problem.</p>
<p>The principal task, Class separation, lies in looking for the optimal separating hyperplane between the two classes by maximizing the margin between the classesâ€™ closest points (see Figure below)â€”the points lying on the boundaries are called support vectors, and the middle of the margin is our optimal separating hyperplane. For further details, follow <a href="https://cran.r-project.org/web/packages/e1071/vignettes/svmdoc.pdf">Meyer and Wien(2015)</a> or Karatzoglou et al (2005).</p>
<p>The package e1071 offers an interface to the award-winning C++- implementation by Chang &amp; Lin(2001), <a href="https://www.csie.ntu.edu.tw/~cjlin/libsvm/">libsvm</a></p>
<p>In our study, we used the <strong>svm()</strong> function of that package, which was designed to be as intuitive as possible (we also compared with results of <strong>ksvm()</strong> function of the kernlab package). Models are fitted on the training set and predicted on unseen data(test set) as usual.</p>
<div class="figure" style="text-align: center">
<img src="svmfig.PNG" alt="SVM Classification (linear separable case)" width="60%" />
<p class="caption">
SVM Classification (linear separable case)
</p>
</div>
<p><br></p>
<blockquote>
<p><strong>4.1.5. <code>Neural Networks</code></strong></p>
</blockquote>
<p>An artificial neural network (ANN) or neural net is a graph of connected units representing a mathematical model of biological neurons. Those units are sometimes referred to as processing units, nodes, or simply neurons. The units are connected through unidirectional or bidirectional arcs with weights representing the strength of the connections between units. This is inspired from the biological model in which the connection weights represent the strength of the synapses between the neurons, inhibiting or facilitating the passage of signals.</p>
<p>The artificial neuron, as illustrated in Figure x, is a computational engine that transforms a set of inputs <span class="math inline">\(x = (x_1, Â· Â· Â· ,x_d)\)</span> into a single output <span class="math inline">\(o\)</span> using a composition of two functions as follows:</p>
<ul>
<li><p>A <strong>net value function</strong> <span class="math inline">\(Î¾\)</span>, which utilizes the unitâ€™s parameters or weights <span class="math inline">\(w\)</span> to summarize input data into a net value, <span class="math inline">\(Î½\)</span>, as <span class="math inline">\(Î½ = Î¾(x,w)\)</span> . The net value function mimics the behavior of a biological neuron as it aggregates signals from linked neurons into an internal representation. Typically, it takes the form of a <em>weighted sum</em>, a <em>distance</em>, or a <em>kernel</em>.</p></li>
<li><p>An <strong>activation function</strong>, or squashing function, <span class="math inline">\(Ï†\)</span>, that transforms net value into the unitâ€™s output value <span class="math inline">\(o\)</span> as <span class="math inline">\(o = Ï†(Î½)\)</span>. The activation function simulates the behaviour of a biological neuron as it decides to fire or inhibit signals, depending on its internal logic. The output value is then dispatched to all receiving units as determined by the underlying topology. Various activations have been proposed.The most widely-used ones include the linear function, the step or threshold function, and the sigmoid and hyperbolic tangent function.</p></li>
</ul>
<div class="figure" style="text-align: center">
<img src="neuralnetw.PNG" alt="Mathematical model of an ANN unit" width="70%" />
<p class="caption">
Mathematical model of an ANN unit
</p>
</div>
<p>Generally we distinguish two types of neural networks : single and multilayer neural networks. The following figures are taken from Aggarwal(2014)</p>
<div class="figure" style="text-align: center">
<img src="neuralnet2.PNG" alt="Single and multilayer neural networks." width="70%" />
<p class="caption">
Single and multilayer neural networks.
</p>
</div>
<p>In our study, we principally used the nnet package by Ripley et al(2016) . We also took into account the NeuralNetTools(Visualization and Analysis Tools for Neural Networks) and neuralnet packages. For a more in-depth view on the exact workings of the neuralnet package, see <a href="https://journal.r-project.org/archive/2010-1/RJournal_2010-1_Guenther+Fritsch.pdf">neuralnet: Training of Neural Networks</a> by F. GÃ¼nther and S. Fritsch. For the methods in NeuralNetTools, see <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6262849/">here</a>. As in Soni &amp; Abdullahi(2015), we built our neural network model on training set; however using the <strong>nnet() function</strong> instead of <strong>neuralnet() function</strong> . We predicted the fitted model on test set with the <strong>predict()</strong> function.</p>
<p><br></p>
<blockquote>
<p><strong>4.1.6. <code>Lasso regression</code></strong></p>
</blockquote>
<p>Lasso, or Least Absolute Shrinkage and Selection Operator, is quite similar conceptually to ridge regression. It also adds a penalty for non-zero coefficients, but unlike ridge regression which penalizes sum of squared coefficients (the so-called L2 penalty), lasso penalizes the sum of their absolute values (L1 penalty). As a result, for high values of <span class="math inline">\(Î»\)</span>, many coefficients are exactly zeroed under lasso, which is never the case in ridge regression.</p>
<div class="figure" style="text-align: center">
<img src="lasso_reg.PNG" alt="lasso vs ridge regression" width="70%" />
<p class="caption">
lasso vs ridge regression
</p>
</div>
<p><br></p>
<p><em>Model specification:</em> The only difference in ridge and lasso loss functions is in the penalty terms. Under lasso, the loss is defined as: <span class="math display">\[L_{lasso}(\hat{\beta}) = \sum_{i=1}^n(y_{i} - x&#39;_{i}\hat{\beta} ) + \lambda \sum_{i=1}^n |\hat{\beta} | \tag{6}\]</span> Major details are given in the paper of <a href="https://rss.onlinelibrary.wiley.com/doi/abs/10.1111/j.2517-6161.1996.tb02080.x">Tibshirani(1996)</a> , or read more <a href="https://courses.cs.washington.edu/courses/cse599c1/13wi/slides/LARS-fusedlasso.pdf">here</a></p>
<p>In our study, we used the <strong>glmnet</strong> functions of the <a href="http://www.moseslab.csb.utoronto.ca/alan/glmnet_presentation.pdf">glmnet</a> package to fit our lasso regression model. Then , we predicted our fitted model on test set. <strong>glmnet</strong> solves the following problem <span class="math display">\[\min_{\beta_0,\beta} \frac{1}{N} \sum_{i=1}^{N} w_i l(y_i,\beta_0+\beta^T x_i) + \lambda\left[(1-\alpha)||\beta||_2^2/2 + \alpha ||\beta||_1\right]\]</span> , over a grid of values of <span class="math inline">\(Î»\)</span> covering the entire range. Here <span class="math inline">\(l(y,Î·)\)</span> is the negative log-likelihood contribution for observation i; e.g. for the Gaussian case it is <span class="math inline">\(\frac{1}{2}(yâˆ’Î·)^2\)</span>. The elastic-net penalty is controlled by <span class="math inline">\(Î±\)</span>, and bridges the gap between lasso (<span class="math inline">\(Î±=1\)</span>, the default) and ridge (<span class="math inline">\(Î±=0\)</span>). The tuning parameter <span class="math inline">\(Î»\)</span> controls the overall strength of the penalty.</p>
<p><br></p>
</div>
<div id="model-performance-evaluation" class="section level4">
<h4><span style="color:red">4.2. Model performance evaluation</span></h4>
<p>A classification model gives a predicted class for every case in the test data set, the actual class of each of them is known. The confusion matrix provides a convenient way to compare the frequencies of actual versus predicted class for the test data set. Two-class problem is the most common situation in credit scoring. The credit customers are usually classified into two classes: ‘good’ and ‘bad’ (or ‘accepted’ and’rejected’, ‘default’ and ‘non-default’)(Liu,2002). The format of confusion matrix for two-class problem is shown in the following table from Wang et al (2011).</p>
<p><img src="matrixconf.PNG" width="70%" style="display: block; margin: auto;" /></p>
<p>where <span class="math display">\[ Accuracy = \frac{TP +TN}{\ TP + FP + FN + TN} \tag{7}\]</span> <span class="math display">\[TPR (sensitivy\ , or \ true \ positive \ rate ) = \frac{TP}{\ TP + FN} = 1 - FNR \tag{8} \]</span> where FNR(false negative rate is Type I error ) , <span class="math inline">\(FNR = \frac{FN}{\ FN + TP}\)</span> <span class="math display">\[TNR (specificity\, or \ true \ negative \ rate ) = \frac{TN}{\ TN + FP} = 1 - FPR \tag{9}\]</span> where FPR(false positive rate is Type II error) , <span class="math inline">\(FPR = \frac{FP}{\ FP + TN}\)</span> <span class="math display">\[Precision = \frac{TP}{\ TP + FP} \tag{10}\]</span> <span class="math display">\[Recall = \frac{TP}{\ TP + FN} \tag{11}\]</span></p>
<p>Moreover, always following Liu(2002), we defined another evaluation criteria: <strong>ROC curve</strong>. In statistics, a receiver operating characteristic (ROC), or ROC curve, is a graphical plot that illustrates the performance of a binary classifier system as its discrimination threshold is varied. The curve is created by plotting the true positive rate (TPR) against the false positive rate (FPR) at various threshold settings. A measure is given by the area under the ROC curve (denoted as <strong>AUC</strong>). The curve that has a larger AUC is better than the one that has a smaller AUC (Bock,2001). As in Hand &amp; Till (2001) ,it can be show that the AUC is related to the Gini coefficient <span class="math inline">\(({\displaystyle G_{1}})\)</span> by the formula <span class="math inline">\({\displaystyle G_{1}=2{\mbox{AUC}}-1} G_{1}=2{\mbox{AUC}}-1\)</span> , where: <span class="math display">\[{\displaystyle G_{1}=1-\sum _{k=1}^{n}(X_{k}-X_{k-1})(Y_{k}+Y_{k-1})} \tag{12}\]</span> In our study, for each predicted model on test set,we used the <strong>confusionMatrix() function</strong> of the caret package to get values of Accuracy, sensitivity and specicifity and other metrics . We plotted ROC curves and Recall/precision curves using the ROCR package.</p>
<p><br> <br></p>
</div>
</div>
<div id="v.-results" class="section level3">
<h3>V. Results</h3>
<p><br></p>
<div id="identifying-the-best-model" class="section level4">
<h4><span style="color:red">5.1. Identifying the best model</span></h4>
<blockquote>
<p><strong>5.1.1. <code>Logistic Regression Models</code></strong></p>
</blockquote>
<pre class="r"><code>#fit glm model on training set
set.seed(1)                               
reg_model &lt;- glm(formula= Risk ~ . , data=train, family=&quot;binomial&quot;)

#summary of the results of fitted logistic regression model 
summary(reg_model)</code></pre>
<pre class="bg-primary"><code>
Call:
glm(formula = Risk ~ ., family = &quot;binomial&quot;, data = train)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-2.6584  -0.6519   0.3478   0.6902   2.2646  

Coefficients:
                                 Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)                    -2.117e-01  1.091e+00  -0.194 0.846121    
check_acct0.to.200              3.815e-01  2.708e-01   1.409 0.158861    
check_acctgt.200                8.285e-01  4.153e-01   1.995 0.046079 *  
check_acctnone                  1.885e+00  2.880e-01   6.543 6.03e-11 ***
credit_histThisBank.AllPaid    -2.089e-01  6.264e-01  -0.334 0.738718    
credit_histPaidDuly             8.487e-01  4.681e-01   1.813 0.069833 .  
credit_histDelay                1.861e+00  5.900e-01   3.154 0.001609 ** 
credit_histCritical             1.465e+00  4.971e-01   2.946 0.003220 ** 
Duration                       -2.286e-02  1.096e-02  -2.085 0.037098 *  
savings_acct100.to.500         -1.165e-01  3.600e-01  -0.324 0.746155    
savings_acct500.to.1000         5.297e-01  5.111e-01   1.036 0.299982    
savings_acctgt.1000             1.307e+00  6.388e-01   2.047 0.040677 *  
savings_acctUnknown             6.274e-01  3.116e-01   2.014 0.044045 *  
PurposeUsedCar                  2.087e+00  4.611e-01   4.527 5.99e-06 ***
PurposeFurniture.Equipment      1.124e+00  3.234e-01   3.476 0.000508 ***
PurposeRadio.Television         8.793e-01  3.025e-01   2.907 0.003653 ** 
PurposeDomesticAppliance        6.807e-01  9.890e-01   0.688 0.491295    
PurposeRepairs                 -4.738e-01  6.437e-01  -0.736 0.461716    
PurposeEducation                1.398e-01  4.636e-01   0.302 0.763003    
PurposeRetraining               2.168e+00  1.229e+00   1.764 0.077771 .  
PurposeBusiness                 1.162e+00  4.244e-01   2.738 0.006186 ** 
PurposeOther                    1.441e+00  8.382e-01   1.720 0.085511 .  
Age                             1.764e-02  1.107e-02   1.594 0.110991    
PropertyInsurance              -3.013e-01  3.070e-01  -0.982 0.326234    
PropertyCarOther                1.288e-02  2.795e-01   0.046 0.963260    
PropertyUnknown                -5.114e-01  5.442e-01  -0.940 0.347397    
Amount                         -1.540e-04  5.046e-05  -3.052 0.002271 ** 
present_emp1.to.4               1.087e-01  2.969e-01   0.366 0.714383    
present_emp4.to.7               1.177e+00  3.887e-01   3.029 0.002453 ** 
present_empgt.7                 3.926e-01  3.588e-01   1.094 0.273852    
present_empUnemployed           1.227e-01  4.705e-01   0.261 0.794345    
HousingOwn                      4.664e-01  2.728e-01   1.710 0.087323 .  
HousingForFree                  5.462e-01  5.989e-01   0.912 0.361745    
other_installStores             2.697e-01  4.940e-01   0.546 0.585065    
other_installNone               6.898e-01  2.931e-01   2.354 0.018589 *  
status_sexFemale.NotSingle      4.855e-01  4.502e-01   1.078 0.280838    
status_sexMale.Single           8.701e-01  4.394e-01   1.980 0.047690 *  
status_sexMale.Married.Widowed  4.273e-01  5.258e-01   0.813 0.416434    
ForeignWorkeryes               -2.082e+00  7.551e-01  -2.758 0.005821 ** 
other_debtCoApplicant          -7.713e-01  5.125e-01  -1.505 0.132291    
other_debtGuarantor             1.213e+00  5.359e-01   2.263 0.023606 *  
installment_rate               -3.064e-01  1.067e-01  -2.872 0.004085 ** 
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 855.21  on 699  degrees of freedom
Residual deviance: 609.24  on 658  degrees of freedom
AIC: 693.24

Number of Fisher Scoring iterations: 5</code></pre>
<p>The summary output of fitted <strong>reg_model</strong> shows that attributes such as check_acct, credit_hist, Purpose , Amount, ForeignWorkers, present_emp or installment_rate are strongly statistically significant with a p-value not only less than 0.05, but also 0.01. The Akaike information criterion (AIC), that is negative log likelihood penalized for a number of parameters, indicates a value equals to 693.24. Lower value of AIC suggests “better” model, but it is a relative measure of model fit. It is used for model selection, i.e. it lets you to compare different models estimated on the same dataset. AIC is useful for comparing models, but it does not tell you anything about the goodness of fit of a single, isolated model. Read more <a href="https://www.researchgate.net/publication/267201163_Akaike_Information_Criterion">here</a></p>
<pre class="r"><code>#Calculation of variable importance for  glm model  with repeated 10 folds cross-validation ,
control &lt;- trainControl(method=&quot;repeatedcv&quot;, number=10, repeats=2)
model_reg &lt;- train(Risk ~ ., data=train, method=&quot;glm&quot;,
               trControl=control)

importance &lt;- varImp(model_reg, scale=FALSE)
plot(importance)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-57-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>The top 5 important predictors according to the glm model are: check_acct ,Purpose , credit_hist , Amount and present_emp. We also noticed how these predictors are part of the list of statistically significant attributes ( see summary(reg_model)) . We used them to fit a new logistic regression model based on the same training set.</p>
<pre class="r"><code>#fit new glm model on training set
set.seed(1)

reg_model.new &lt;- glm(formula= Risk ~ check_acct + Purpose + credit_hist + Amount + present_emp, data=train, family=&quot;binomial&quot;)

summary(reg_model.new)</code></pre>
<pre class="bg-primary"><code>
Call:
glm(formula = Risk ~ check_acct + Purpose + credit_hist + Amount + 
    present_emp, family = &quot;binomial&quot;, data = train)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-2.5463  -0.8206   0.4263   0.7722   2.1471  

Coefficients:
                              Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)                 -1.400e+00  5.356e-01  -2.615 0.008930 ** 
check_acct0.to.200           4.876e-01  2.385e-01   2.045 0.040898 *  
check_acctgt.200             1.091e+00  3.862e-01   2.825 0.004733 ** 
check_acctnone               1.919e+00  2.615e-01   7.341 2.13e-13 ***
PurposeUsedCar               1.841e+00  4.321e-01   4.260 2.04e-05 ***
PurposeFurniture.Equipment   7.747e-01  2.907e-01   2.664 0.007712 ** 
PurposeRadio.Television      5.425e-01  2.683e-01   2.022 0.043173 *  
PurposeDomesticAppliance     5.961e-01  9.202e-01   0.648 0.517100    
PurposeRepairs              -4.907e-01  5.981e-01  -0.820 0.411946    
PurposeEducation            -3.794e-01  4.239e-01  -0.895 0.370829    
PurposeRetraining            1.784e+00  1.155e+00   1.545 0.122401    
PurposeBusiness              5.662e-01  3.797e-01   1.491 0.135962    
PurposeOther                 8.496e-01  7.965e-01   1.067 0.286097    
credit_histThisBank.AllPaid -2.097e-01  5.697e-01  -0.368 0.712751    
credit_histPaidDuly          9.276e-01  4.444e-01   2.087 0.036856 *  
credit_histDelay             1.746e+00  5.597e-01   3.119 0.001813 ** 
credit_histCritical          1.632e+00  4.752e-01   3.434 0.000594 ***
Amount                      -1.692e-04  3.803e-05  -4.449 8.61e-06 ***
present_emp1.to.4            4.144e-01  2.633e-01   1.574 0.115578    
present_emp4.to.7            1.250e+00  3.524e-01   3.547 0.000389 ***
present_empgt.7              6.436e-01  2.971e-01   2.167 0.030271 *  
present_empUnemployed        2.192e-01  4.314e-01   0.508 0.611309    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 855.21  on 699  degrees of freedom
Residual deviance: 675.98  on 678  degrees of freedom
AIC: 719.98

Number of Fisher Scoring iterations: 5</code></pre>
<p>reg_model seems to be a better model than reg_model.new , since this latter shows a AIC value equals to 719.98 . Now, we are going to predict our fitted models on test set , and calculate the confusion matrix for each of them.</p>
<pre class="r"><code>#reg_model: predict on test set
reg_predictions &lt;- predict(reg_model, test, type=&quot;response&quot;)
reg_predictions &lt;- round(reg_predictions) %&gt;% factor()
cm_logreg.m1&lt;-confusionMatrix(data= reg_predictions, reference=test$Risk, positive=&#39;0&#39;)
cm_logreg.m1</code></pre>
<pre class="bg-primary"><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0  44  27
         1  46 183
                                         
               Accuracy : 0.7567         
                 95% CI : (0.704, 0.8041)
    No Information Rate : 0.7            
    P-Value [Acc &gt; NIR] : 0.01741        
                                         
                  Kappa : 0.3834         
 Mcnemar&#39;s Test P-Value : 0.03514        
                                         
            Sensitivity : 0.4889         
            Specificity : 0.8714         
         Pos Pred Value : 0.6197         
         Neg Pred Value : 0.7991         
             Prevalence : 0.3000         
         Detection Rate : 0.1467         
   Detection Prevalence : 0.2367         
      Balanced Accuracy : 0.6802         
                                         
       &#39;Positive&#39; Class : 0              
                                         </code></pre>
<pre class="r"><code>#reg_model.new: predict on test set
reg_predictions.new &lt;- predict(reg_model.new, test, type=&quot;response&quot;)
reg_predictions.new &lt;- round(reg_predictions.new) %&gt;% factor()
cm_logreg.m1_1 &lt;- confusionMatrix(data=reg_predictions.new, reference=test$Risk, positive=&#39;0&#39;)
cm_logreg.m1_1</code></pre>
<pre class="bg-primary"><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0  30  25
         1  60 185
                                        
               Accuracy : 0.7167        
                 95% CI : (0.662, 0.767)
    No Information Rate : 0.7           
    P-Value [Acc &gt; NIR] : 0.2873596     
                                        
                  Kappa : 0.2411        
 Mcnemar&#39;s Test P-Value : 0.0002262     
                                        
            Sensitivity : 0.3333        
            Specificity : 0.8810        
         Pos Pred Value : 0.5455        
         Neg Pred Value : 0.7551        
             Prevalence : 0.3000        
         Detection Rate : 0.1000        
   Detection Prevalence : 0.1833        
      Balanced Accuracy : 0.6071        
                                        
       &#39;Positive&#39; Class : 0             
                                        </code></pre>
<p>Based on the overall accuracy values, reg_model (0.7567) is a more precise model than reg_model.new (0.7167). Let’s define their performance to plot ROC curves , and calculate AUC values.</p>
<pre class="r"><code>#Model performance plot

#define performance

reg_prediction.values &lt;- predict(reg_model, test[,-16], type=&quot;response&quot;)
prediction_reg.model &lt;- prediction(reg_prediction.values, test[,16])
reg_model.perf &lt;- performance(prediction_reg.model,&quot;tpr&quot;,&quot;fpr&quot;)

reg2_prediction.values &lt;- predict(reg_model.new, test[,-16], type=&quot;response&quot;)
prediction_reg.modelnew &lt;- prediction(reg2_prediction.values, test[,16])
reg2_model.perf &lt;- performance(prediction_reg.modelnew,&quot;tpr&quot;,&quot;fpr&quot;)</code></pre>
<pre class="r"><code>#plot Roc curve

plot(reg_model.perf, lwd=2, colorize=TRUE, main=&quot;ROC curve, m1: Logistic Regression Performance&quot;)
lines(x=c(0, 1), y=c(0, 1), col=&quot;red&quot;, lwd=1, lty=3);
lines(x=c(1, 0), y=c(0, 1), col=&quot;green&quot;, lwd=1, lty=4)

plot(reg2_model.perf, lwd=2, colorize=TRUE, main=&quot;ROC curve, m1.1: Logistic Regression with selected variables&quot;)
lines(x=c(0, 1), y=c(0, 1), col=&quot;red&quot;, lwd=1, lty=3);
lines(x=c(1, 0), y=c(0, 1), col=&quot;green&quot;, lwd=1, lty=4)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-61-1.png" width="50%" /><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-61-2.png" width="50%" /></p>
<pre class="r"><code># Plot precision/recall curve
reg_model.precision &lt;- performance(prediction_reg.model, measure = &quot;prec&quot;, x.measure = &quot;rec&quot;)
plot(reg_model.precision, main=&quot;m1 :Precision/recall curve&quot;)
reg2_model.precision &lt;- performance(prediction_reg.modelnew , measure = &quot;prec&quot;, x.measure = &quot;rec&quot;)
plot(reg2_model.precision, main=&quot;m1.1 :Precision/recall curve&quot;)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-62-1.png" width="50%" /><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-62-2.png" width="50%" /></p>
<p>In addition, we see that “reg_model” points out an AUC value greater than the “reg_model.new” one.</p>
<pre class="r"><code>#AUC : logistic regression model
reg_model.AUROC &lt;- round(performance(prediction_reg.model, measure = &quot;auc&quot;)@y.values[[1]], 4)
reg_model.AUROC</code></pre>
<pre class="bg-primary"><code> 0.7741</code></pre>
<pre class="r"><code>reg2_model.AUROC &lt;- round(performance(prediction_reg.modelnew, measure = &quot;auc&quot;)@y.values[[1]], 4)
reg2_model.AUROC</code></pre>
<pre class="bg-primary"><code> 0.7408</code></pre>
<p><br></p>
<blockquote>
<p><strong>5.1.2. <code>Decision trees</code></strong></p>
</blockquote>
<pre class="r"><code>#fit decision tree model on training set using the rpart function
set.seed(1)
dt_model &lt;- rpart(Risk~. , data=train, method =&quot;class&quot;)

#we display CP table for Fitted Rpart Object
printcp(dt_model)</code></pre>
<pre class="bg-primary"><code> Age          Amount       check_acct   credit_hist  Duration    
[6] other_debt   present_emp  Purpose      savings_acct

Root node error: 210/700 = 0.3

n= 700 

        CP nsplit rel error  xerror     xstd
1 0.050794      0   1.00000 1.00000 0.057735
2 0.014286      4   0.78095 0.93333 0.056569
3 0.012698      8   0.71905 0.94286 0.056744
4 0.010000     14   0.63333 0.93810 0.056656</code></pre>
<pre class="r"><code># Plot the rpart dt_model
prp(dt_model,type=2,extra=1, main=&quot;Tree:Recursive Partitioning&quot;)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-65-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>#A wrapper for plotting rpart trees using prp
fancyRpartPlot(dt_model)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-65-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>We observed that the tree fitted on the training set has has a root node, 13 splits and 14 leaves ( terminal nodes). We can also see values of CP: Internally, rpart keeps track of something called the complexity of a tree. The complexity measure is a combination of the size of a tree and the ability of the tree to separate the classes of the target variable. If the next best split in growing a tree does not reduce the treeâ€™s overall complexity by a certain amount, rpart will terminate the growing process.</p>
<p>The rel error of each iteration of the tree is the fraction of mislabeled elements in the iteration relative to the fraction of mislabeled elements in the root. In this example, 30% of training cases have bad credit risk (see root node error). The cross validation error rates and standard deviations are displayed in the columns xerror and xstd respectively. According to our rpart plots, Our fitted model suggests that Check_acct is the best attribute to classify credit worthiness of applicants.</p>
<pre class="r"><code>#predict on test set
set.seed(1)
dt_predictions &lt;- predict(dt_model, test[,-16], type=&quot;class&quot;)
cm_dtree.m2 &lt;- confusionMatrix(data=dt_predictions, reference=test[,16], positive=&quot;0&quot;)
cm_dtree.m2</code></pre>
<pre class="bg-primary"><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0  43  36
         1  47 174
                                         
               Accuracy : 0.7233         
                 95% CI : (0.669, 0.7732)
    No Information Rate : 0.7            
    P-Value [Acc &gt; NIR] : 0.2072         
                                         
                  Kappa : 0.3174         
 Mcnemar&#39;s Test P-Value : 0.2724         
                                         
            Sensitivity : 0.4778         
            Specificity : 0.8286         
         Pos Pred Value : 0.5443         
         Neg Pred Value : 0.7873         
             Prevalence : 0.3000         
         Detection Rate : 0.1433         
   Detection Prevalence : 0.2633         
      Balanced Accuracy : 0.6532         
                                         
       &#39;Positive&#39; Class : 0              
                                         </code></pre>
<p>Prediction on unseen data performed enough well with an overall accuracy of about 0.72 . However, itâ€™s usually a good idea to prune a decision tree. Fully grown trees donâ€™t perform well against data not in the training set because they tend to be over-fitted so pruning is used to reduce their complexity by keeping only the most important splits.</p>
<pre class="r"><code>set.seed(1)

# prune by lowest cp
pruned.tree &lt;- prune(dt_model, 
                   cp = dt_model$cptable[which.min(dt_model$cptable[,&quot;xerror&quot;]),&quot;CP&quot;])
length(pruned.tree$frame$var[pruned.tree$frame$var == &quot;&lt;leaf&gt;&quot;])</code></pre>
<pre class="bg-primary"><code> 5</code></pre>
<pre class="r"><code>#Displays CP table for Fitted pruned tree
printcp(pruned.tree)</code></pre>
<pre class="bg-primary"><code> check_acct  credit_hist Duration    Purpose    

Root node error: 210/700 = 0.3

n= 700 

        CP nsplit rel error  xerror     xstd
1 0.050794      0   1.00000 1.00000 0.057735
2 0.014286      4   0.78095 0.93333 0.056569</code></pre>
<pre class="r"><code>#count the number of splits
length(grep(&quot;^&lt;leaf&gt;$&quot; , as.character(pruned.tree$frame$var))) - 1</code></pre>
<pre class="bg-primary"><code> 4</code></pre>
<p>From the rpart documentation, â€œAn overall measure of variable importance is the sum of the goodness of split measures for each split for which it was the primary variableâ€ .When rpart grows a tree it performs 10-fold cross validation on the data. The output of <strong>printcp(dt_model)</strong> show us a list of cp values. We selected the one having the least cross-validated error and used it to prune the tree, since the value of cp should be least, so that the cross-validated error rate is minimum. This corresponds to <strong>dt_model<span class="math inline">\(cptable[which.min(dt_model\)</span>cptable[,“xerror”]),“CP”]</strong> , equals to 0.01. As we can observe, the pruned tree only keeps the 4 most important splits.</p>
<pre class="r"><code># Plot the rpart pruned.tree
prp(pruned.tree, type = 1, extra = 3, split.font = 2, varlen = -10)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-68-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>#A wrapper for plotting rpart trees using prp
fancyRpartPlot(pruned.tree)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-68-2.png" width="672" style="display: block; margin: auto;" /> <br></p>
<p>This is the situation after pruning : We observe how the tree keeps the important splits : a root node, 4 splits, and 5 terminal nodes. The first splitting criteria is â€œ check_acct = lt.0, 0.to.200â€, which separates the data into a set of 45 cases (which 39 have good credit worthiness and 6 , a bad one) and a set of 55 cases ( which 31 have a good credit risk and 24 a bad credit risk) . The latter have a further split based on criteria “Credit_hist : Notcredit.Allpaid, ThisBank.Allpaid, PaidDuly” &quot; into two sets :a set of 16 cases (which 11 have a good credit risk, and 5 not ) , and a set of 38 cases (which 18 have a good credit risk, and almost 20 a bad one) . Again, this latter have a further split based on criteria “Purpose: NewCar, Domesticappliance,Repairs,Education,Other” where the 38 cases are separated into 26 (which 15 have a good credit profile and 11 a bad one ) cases and 12 cases( which 4 have a good credit risk and 8 a bad credit risk). The last splitting criteria based on “Duration &gt; 33” separates these 26 cases (label9) into labels 18 and 19.</p>
<p><br></p>
<pre class="r"><code>#prediction on test set
pruned_predictions &lt;- predict(pruned.tree, test[,-16], type=&quot;class&quot;)
cm_dtree.m2_1 &lt;- confusionMatrix(data=pruned_predictions, reference=test[,16], positive=&quot;0&quot;)
cm_dtree.m2_1</code></pre>
<pre class="bg-primary"><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0  33  26
         1  57 184
                                         
               Accuracy : 0.7233         
                 95% CI : (0.669, 0.7732)
    No Information Rate : 0.7            
    P-Value [Acc &gt; NIR] : 0.2072197      
                                         
                  Kappa : 0.2694         
 Mcnemar&#39;s Test P-Value : 0.0009915      
                                         
            Sensitivity : 0.3667         
            Specificity : 0.8762         
         Pos Pred Value : 0.5593         
         Neg Pred Value : 0.7635         
             Prevalence : 0.3000         
         Detection Rate : 0.1100         
   Detection Prevalence : 0.1967         
      Balanced Accuracy : 0.6214         
                                         
       &#39;Positive&#39; Class : 0              
                                         </code></pre>
<pre class="r"><code>#Model performance plot

#define performance

# score test data/model scoring for ROc curve - dt_model
dt_predictions.values &lt;- predict(dt_model,test,type=&quot;prob&quot;)
dt_pred &lt;- prediction(dt_predictions.values[,2],test$Risk)
dt_perf &lt;- performance(dt_pred,&quot;tpr&quot;,&quot;fpr&quot;)

# score test data/model scoring for ROc curve - pruned.tree
dt2_predictions.values &lt;- predict(pruned.tree,test,type=&quot;prob&quot;)
dt2_pred &lt;- prediction(dt2_predictions.values[,2],test$Risk)
dt2_perf &lt;- performance(dt2_pred,&quot;tpr&quot;,&quot;fpr&quot;)</code></pre>
<pre class="r"><code>#plot Roc curve

plot(dt_perf, lwd=2, colorize=TRUE, main=&quot; ROC curve : Decision tree performance&quot;)
lines(x=c(0, 1), y=c(0, 1), col=&quot;red&quot;, lwd=1, lty=3);
lines(x=c(1, 0), y=c(0, 1), col=&quot;green&quot;, lwd=1, lty=4)

plot(dt2_perf, lwd=2, colorize=TRUE, main=&quot;ROC curve : pruned tree performance&quot;)
lines(x=c(0, 1), y=c(0, 1), col=&quot;red&quot;, lwd=1, lty=3);
lines(x=c(1, 0), y=c(0, 1), col=&quot;green&quot;, lwd=1, lty=4)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-71-1.png" width="50%" /><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-71-2.png" width="50%" /></p>
<pre class="r"><code># Plot precision/recall curve
dt_perf_precision &lt;- performance(dt_pred, measure = &quot;prec&quot;, x.measure = &quot;rec&quot;)
plot(dt_perf_precision, main=&quot;Decision tree :Precision/recall curve&quot;)
dt2_perf_precision &lt;- performance(dt2_pred, measure = &quot;prec&quot;, x.measure = &quot;rec&quot;)
plot(dt2_perf_precision, main=&quot;pruned tree :Precision/recall curve&quot;)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-72-1.png" width="50%" /><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-72-2.png" width="50%" /></p>
<pre class="r"><code>#AUC : Decision trees
dt_model.AUROC &lt;- round(performance(dt_pred, measure = &quot;auc&quot;)@y.values[[1]], 4)
dt_model.AUROC</code></pre>
<pre class="bg-primary"><code> 0.7477</code></pre>
<pre class="r"><code>dt2_model.AUROC &lt;- round(performance(dt2_pred, measure = &quot;auc&quot;)@y.values[[1]], 4)
dt2_model.AUROC</code></pre>
<pre class="bg-primary"><code> 0.7183</code></pre>
<p>The two decision tree models seem to be equally accurate, since they have the same overall accuracy value. The discrimination through the balanced accuracy and AUC values help us to point out that “dt_model” is better than “pruned.tree” .</p>
<p><br></p>
<blockquote>
<p><strong>5.1.3. <code>random forests</code></strong></p>
</blockquote>
<pre class="r"><code>#fit random forest model on training set using the randomForest function
set.seed(1)
rf_model &lt;- randomForest(Risk ~ ., data = train,importance=TRUE)
# print random forest model
print(rf_model)</code></pre>
<pre class="bg-primary"><code>
Call:
 randomForest(formula = Risk ~ ., data = train, importance = TRUE) 
               Type of random forest: classification
                     Number of trees: 500
No. of variables tried at each split: 3

        OOB estimate of  error rate: 25.14%
Confusion matrix:
   0   1 class.error
0 75 135  0.64285714
1 41 449  0.08367347</code></pre>
<p>Number of trees is 500 and number of variables tried at each split is 3 in this case. The nature of a random forest is it iteratively uses a different subset of the data (bootstrap aggregation) to make multiple decision trees. At each iteration, the tree created using the subset is tested with the data that is not used to create the tree. The average of errors of all these interactions is the Out of Bag Error or misclassification rate, in this case equals to 25.14% .</p>
<p>Let’s make prediction on test set.</p>
<pre class="r"><code>#prediction on test set
rf_predictions &lt;- predict(rf_model, test[,-16], type=&quot;class&quot;)
cm_rf.m3 &lt;- confusionMatrix(data=rf_predictions, reference=test[,16], positive=&quot;0&quot;)
cm_rf.m3</code></pre>
<pre class="bg-primary"><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0  37  13
         1  53 197
                                          
               Accuracy : 0.78            
                 95% CI : (0.7288, 0.8256)
    No Information Rate : 0.7             
    P-Value [Acc &gt; NIR] : 0.001189        
                                          
                  Kappa : 0.4             
 Mcnemar&#39;s Test P-Value : 1.582e-06       
                                          
            Sensitivity : 0.4111          
            Specificity : 0.9381          
         Pos Pred Value : 0.7400          
         Neg Pred Value : 0.7880          
             Prevalence : 0.3000          
         Detection Rate : 0.1233          
   Detection Prevalence : 0.1667          
      Balanced Accuracy : 0.6746          
                                          
       &#39;Positive&#39; Class : 0               
                                          </code></pre>
<p>We are going to try improving our random forest model with the important features through variable importance based on the MeanDecrease Gini.</p>
<pre class="r"><code>#plot variable importance
varImpPlot(rf_model, main=&quot;Random Forest: Variable Importance&quot;)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-76-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code># Get importance
importance &lt;- randomForest::importance(rf_model)
varImportance &lt;- data.frame(Variables = row.names(importance), 
                            Importance = round(importance[ ,&#39;MeanDecreaseGini&#39;],2))

# Create a rank variable based on importance
rankImportance &lt;- varImportance %&gt;%
  mutate(Rank = paste0(&#39;#&#39;,dense_rank(desc(Importance))))

# Use ggplot2 to visualize the relative importance of variables

ggplot(rankImportance, aes(x = reorder(Variables, Importance), 
                           y = Importance, fill = Importance)) +
  geom_bar(stat=&#39;identity&#39;) + 
  geom_text(aes(x = Variables, y = 0.5, label = Rank),
            hjust=0, vjust=0.55, size = 4, colour = &#39;red&#39;) +
  labs(x = &#39;Variables&#39;, title=&quot;random forest variable importance: MeanDecreaseGini&quot;) +
  coord_flip() + 
  theme_few()</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-76-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p>we built a new rf model (rf_model.new) with the 5 top variables based on MeanDecrease Gini</p>
<pre class="r"><code>#fit new rf model
set.seed(1)
rf_model.new &lt;- randomForest(Risk ~ Amount + check_acct + Age + Purpose + Duration  ,
                             data = train,
                             importance=TRUE
                            )</code></pre>
<pre class="r"><code>#prediction on test set 
rf_predictions.new &lt;- predict(rf_model.new, test[,-16], type=&quot;class&quot;)
cm_rf.m3_1 &lt;- confusionMatrix(data=rf_predictions.new , reference=test[,16], positive=&quot;0&quot;)
cm_rf.m3_1</code></pre>
<pre class="bg-primary"><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0  41  23
         1  49 187
                                          
               Accuracy : 0.76            
                 95% CI : (0.7076, 0.8072)
    No Information Rate : 0.7             
    P-Value [Acc &gt; NIR] : 0.012488        
                                          
                  Kappa : 0.3772          
 Mcnemar&#39;s Test P-Value : 0.003216        
                                          
            Sensitivity : 0.4556          
            Specificity : 0.8905          
         Pos Pred Value : 0.6406          
         Neg Pred Value : 0.7924          
             Prevalence : 0.3000          
         Detection Rate : 0.1367          
   Detection Prevalence : 0.2133          
      Balanced Accuracy : 0.6730          
                                          
       &#39;Positive&#39; Class : 0               
                                          </code></pre>
<p>Now we are going to tune/find the best parameters with 10-fold cross validation to build optimal random forest model</p>
<pre class="r"><code>#tuning parameters with 10-fold cross validation  - build optimal random forest model
set.seed(1)
nodesize.vals &lt;- c(2, 3, 4, 5)
ntree.vals &lt;- c(200, 500, 1000, 2000)
tuning.results &lt;- tune.randomForest(Risk ~ ., data = train, mtry=3, nodesize=nodesize.vals, ntree=ntree.vals)
print(tuning.results)</code></pre>
<pre class="bg-primary"><code>
Parameter tuning of &#39;randomForest&#39;:

- sampling method: 10-fold cross validation 

- best parameters:
 nodesize mtry ntree
        4    3   500

- best performance: 0.2357143 </code></pre>
<pre class="r"><code>#prediction on test set
rf_model.best &lt;- tuning.results$best.model
rf_predictions.best &lt;- predict(rf_model.best, test[,-16], type=&quot;class&quot;)
cm_rf.m3_2 &lt;-confusionMatrix(data=rf_predictions.best, reference=test[,16], positive=&quot;0&quot;)
cm_rf.m3_2</code></pre>
<pre class="bg-primary"><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0  38  13
         1  52 197
                                          
               Accuracy : 0.7833          
                 95% CI : (0.7324, 0.8286)
    No Information Rate : 0.7             
    P-Value [Acc &gt; NIR] : 0.0007553       
                                          
                  Kappa : 0.4112          
 Mcnemar&#39;s Test P-Value : 2.437e-06       
                                          
            Sensitivity : 0.4222          
            Specificity : 0.9381          
         Pos Pred Value : 0.7451          
         Neg Pred Value : 0.7912          
             Prevalence : 0.3000          
         Detection Rate : 0.1267          
   Detection Prevalence : 0.1700          
      Balanced Accuracy : 0.6802          
                                          
       &#39;Positive&#39; Class : 0               
                                          </code></pre>
<pre class="r"><code>#Model performance plot

#define performance

# score test data/model scoring for ROc curve - rf_model
rf_predictions.values &lt;- predict(rf_model,test,type=&quot;prob&quot;)
rf_pred &lt;- prediction(rf_predictions.values[,2],test$Risk)
rf_perf &lt;- performance(rf_pred,&quot;tpr&quot;,&quot;fpr&quot;) 


# score test data/model scoring for ROc curve - rf_model.new
model.new_predictions.values &lt;- predict(rf_model.new,test,type=&quot;prob&quot;)
model.new_pred &lt;- prediction(model.new_predictions.values[,2],test$Risk)
rf.new_perf &lt;- performance(model.new_pred,&quot;tpr&quot;,&quot;fpr&quot;) 


# score test data/model scoring for ROc curve - rf_model.best
model.best_predictions.values &lt;- predict(rf_model.best,test,type=&quot;prob&quot;)
model.best_pred &lt;- prediction(model.best_predictions.values[,2],test$Risk)
rf.best_perf &lt;- performance(model.best_pred,&quot;tpr&quot;,&quot;fpr&quot;) </code></pre>
<p>Based on their overall accuracy values, we plot the ROC curves of potential best two models. (rf_model &amp; rf_model.best)</p>
<pre class="r"><code>#plot roc curves

#rf_model
plot(rf_perf, lwd=2, colorize=TRUE, main=&quot; ROC curve : random forest performance &quot;)
lines(x=c(0, 1), y=c(0, 1), col=&quot;red&quot;, lwd=1, lty=3);
lines(x=c(1, 0), y=c(0, 1), col=&quot;green&quot;, lwd=1, lty=4) 

#rf_model.best
plot(rf.best_perf, lwd=2, colorize=TRUE, main=&quot;ROC curve: random forest - tuning parameters&quot;)
lines(x=c(0, 1), y=c(0, 1), col=&quot;red&quot;, lwd=1, lty=3);
lines(x=c(1, 0), y=c(0, 1), col=&quot;green&quot;, lwd=1, lty=4) </code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-82-1.png" width="50%" /><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-82-2.png" width="50%" /></p>
<pre class="r"><code># Plot precision/recall curve

rf_perf_precision &lt;- performance(rf_pred, measure = &quot;prec&quot;, x.measure = &quot;rec&quot;)
plot(rf_perf_precision , main=&quot;rf_model: Plot Precision/recall curve&quot;)

rf.best_perf_precision &lt;- performance(model.best_pred, measure = &quot;prec&quot;, x.measure = &quot;rec&quot;)
plot(rf.best_perf_precision, main=&quot;rf_model.best: Plot Precision/recall curve&quot;)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-83-1.png" width="50%" /><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-83-2.png" width="50%" /></p>
<pre class="r"><code>#AUC : random forests models
rf_model.AUROC &lt;- round(performance(rf_pred, measure = &quot;auc&quot;)@y.values[[1]], 4)
rf_model.AUROC</code></pre>
<pre class="bg-primary"><code> 0.7805</code></pre>
<pre class="r"><code>rf_newmodel.AUROC &lt;- round(performance(model.new_pred, measure = &quot;auc&quot;)@y.values[[1]], 4)
rf_newmodel.AUROC</code></pre>
<pre class="bg-primary"><code> 0.749</code></pre>
<pre class="r"><code>rf_bestmodel.AUROC &lt;- round(performance(model.best_pred, measure = &quot;auc&quot;)@y.values[[1]], 4)
rf_bestmodel.AUROC</code></pre>
<pre class="bg-primary"><code> 0.7813</code></pre>
<p>The optimized random forest model which shows that best parameters are nodesize = 4 , mtry = 3 , ntree = 500 not only indicates a higher overall accuracy than other random forest models, but also a greater AUC value.</p>
<p>Decision tree is encountered with over-fitting problem and ignorance of a variable in case of small sample size and large p-value. Whereas, random forests are a type of recursive partitioning method particularly well-suited to small sample size and large p-value problems.Random forest comes at the expense of a some loss of interpretability, but generally greatly boosts the performance of the final model.</p>
<p><br></p>
<blockquote>
<p><strong>5.1.4. <code>Support Vector Machines</code></strong></p>
</blockquote>
<pre class="r"><code>#we fit a SVM model with radial basis kernel and cost as 100
svm_model &lt;- svm(Risk ~. , data = train, kernel = &quot;radial&quot;, gamma = 1, cost = 100)
print(svm_model)</code></pre>
<pre class="bg-primary"><code>
Call:
svm(formula = Risk ~ ., data = train, kernel = &quot;radial&quot;, gamma = 1, 
    cost = 100)


Parameters:
   SVM-Type:  C-classification 
 SVM-Kernel:  radial 
       cost:  100 
      gamma:  1 

Number of Support Vectors:  699</code></pre>
<pre class="r"><code>#prediction on test set
set.seed(1)
svm_predictions &lt;- predict(svm_model, test[,-16], type=&quot;class&quot;)
cm_svm.m4 &lt;- confusionMatrix(data=svm_predictions, reference=test[,16], positive=&quot;0&quot;)
cm_svm.m4</code></pre>
<pre class="bg-primary"><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0   1   2
         1  89 208
                                          
               Accuracy : 0.6967          
                 95% CI : (0.6412, 0.7482)
    No Information Rate : 0.7             
    P-Value [Acc &gt; NIR] : 0.5781          
                                          
                  Kappa : 0.0022          
 Mcnemar&#39;s Test P-Value : &lt;2e-16          
                                          
            Sensitivity : 0.011111        
            Specificity : 0.990476        
         Pos Pred Value : 0.333333        
         Neg Pred Value : 0.700337        
             Prevalence : 0.300000        
         Detection Rate : 0.003333        
   Detection Prevalence : 0.010000        
      Balanced Accuracy : 0.500794        
                                          
       &#39;Positive&#39; Class : 0               
                                          </code></pre>
<p>C controls the cost of misclassification on the training data. Small C makes the cost of misclassificaiton low (“soft margin”), thus allowing more of them for the sake of wider “cushion”. Large C makes the cost of misclassification high (’hard margin“), thus forcing the algorithm to explain the input data stricter and potentially overfit. Usually a very high number of support vectors like the one we obtained, 699, indicates you are overfitting. This presumably caused by the big value of C (C=100) we used.</p>
<p>We are going to improve our first svm model by finding the top 5 important variables and then adding effects of best tuning parameters of cost and gamma. Then , we are going to use the ksvm function of kernlab package to build a svm model based on vanilladot Linear kernel function.</p>
<pre class="r"><code>#important features - selected by 10 fold cv , method = svmRadial
set.seed(1)
control &lt;- trainControl(method=&quot;repeatedcv&quot;, number=10, repeats=2)
model_svm &lt;- train(Risk ~ ., data=train, method=&quot;svmRadial&quot;,
                   trControl=control)

importance_svm &lt;- varImp(model_svm,scale=FALSE) 
plot(importance_svm,cex.lab=0.5)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-87-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>#tuning parameters svm model

set.seed(1)
cost.weights&lt;- c(0.1,10,100)
gamma.weights &lt;- c(0.01,0.25,0.5,1)

tuning.results &lt;- tune(svm,Risk ~ check_acct + credit_hist +  Duration + savings_acct + Age, data =train, kernel =&quot;radial&quot;,  ranges = list(cost=cost.weights, gamma = gamma.weights))

print(tuning.results)</code></pre>
<pre class="bg-primary"><code>
Parameter tuning of &#39;svm&#39;:

- sampling method: 10-fold cross validation 

- best parameters:
 cost gamma
  100  0.01

- best performance: 0.2685714 </code></pre>
<pre class="r"><code>plot(tuning.results)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-88-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>#prediction on unseen data , test set
svm_model.best &lt;- tuning.results$best.model
svm_predictions.best &lt;- predict(svm_model.best, test[,-16])
cm_svm.m4_1 &lt;- confusionMatrix(data=svm_predictions.best, reference=test[,16], positive=&quot;0&quot;)
cm_svm.m4_1</code></pre>
<pre class="bg-primary"><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0  26  12
         1  64 198
                                          
               Accuracy : 0.7467          
                 95% CI : (0.6935, 0.7949)
    No Information Rate : 0.7             
    P-Value [Acc &gt; NIR] : 0.04285         
                                          
                  Kappa : 0.2776          
 Mcnemar&#39;s Test P-Value : 4.913e-09       
                                          
            Sensitivity : 0.28889         
            Specificity : 0.94286         
         Pos Pred Value : 0.68421         
         Neg Pred Value : 0.75573         
             Prevalence : 0.30000         
         Detection Rate : 0.08667         
   Detection Prevalence : 0.12667         
      Balanced Accuracy : 0.61587         
                                          
       &#39;Positive&#39; Class : 0               
                                          </code></pre>
<p>“svm_model.best” shows a great improvement of overall accuracy value with respect to “svm_model”</p>
<pre class="r"><code>#fitted svm model based on vanilladot Linear kernel function
set.seed(1)
svm_model.vanilla &lt;- ksvm(Risk ~., data = train, kernel = &quot;vanilladot&quot;)</code></pre>
<pre class="bg-primary"><code> Setting default kernel parameters  </code></pre>
<pre class="r"><code>print(svm_model.vanilla)</code></pre>
<pre class="bg-primary"><code>Support Vector Machine object of class &quot;ksvm&quot; 

SV type: C-svc  (classification) 
 parameter : cost C = 1 

Linear (vanilla) kernel function. 

Number of Support Vectors : 374 

Objective Function Value : -346.6312 
Training error : 0.208571 </code></pre>
<pre class="r"><code>#prediction on test set
svm_predictions.vanilla &lt;- predict(svm_model.vanilla, test[,-16])
cm_svm.m4_2 &lt;- confusionMatrix(data=svm_predictions.vanilla, reference=test[,16], positive=&quot;0&quot;)
cm_svm.m4_2</code></pre>
<pre class="bg-primary"><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0  46  29
         1  44 181
                                         
               Accuracy : 0.7567         
                 95% CI : (0.704, 0.8041)
    No Information Rate : 0.7            
    P-Value [Acc &gt; NIR] : 0.01741        
                                         
                  Kappa : 0.3917         
 Mcnemar&#39;s Test P-Value : 0.10130        
                                         
            Sensitivity : 0.5111         
            Specificity : 0.8619         
         Pos Pred Value : 0.6133         
         Neg Pred Value : 0.8044         
             Prevalence : 0.3000         
         Detection Rate : 0.1533         
   Detection Prevalence : 0.2500         
      Balanced Accuracy : 0.6865         
                                         
       &#39;Positive&#39; Class : 0              
                                         </code></pre>
<pre class="r"><code>#Model performance plot

#define performance

# score test data/model scoring for ROc curve - svm_model
svm_predictions.values &lt;- predict(svm_model,test,type=&quot;decision&quot;, decision.values =TRUE)
svm_pred &lt;- prediction(attributes(svm_predictions.values)$decision.values,test$Risk)
svm_perf &lt;- performance(svm_pred,&quot;tpr&quot;,&quot;fpr&quot;) 

# score test data/model scoring for ROc curve - svm_model.best
svm.best_predictions.values &lt;- predict(svm_model.best,test,type=&quot;decision&quot;, decision.values =TRUE)
svm.best_pred &lt;- prediction(attributes(svm.best_predictions.values)$decision.values,test$Risk)
svm.best_perf &lt;- performance(svm.best_pred,&quot;tpr&quot;,&quot;fpr&quot;)


# score test data/model scoring for ROc curve - svm_model.vanilla
svm.van_predictions.values &lt;- predict(svm_model.vanilla,test,type=&quot;decision&quot;)
svm.van_pred &lt;- prediction(svm.van_predictions.values,test$Risk)
svm.van_perf &lt;- performance(svm.van_pred,&quot;tpr&quot;,&quot;fpr&quot;)</code></pre>
<p>Based on their overall accuracy values, we plot the ROC curves of potential best two models. (svm.best_model &amp; svm_model.vanilla) .</p>
<pre class="r"><code>#plot roc curves

#svm_model.best
plot(svm.best_perf, lwd=2, colorize=TRUE, main=&quot;SVM: ROC curve - radial basis,important features&quot;)
lines(x=c(0, 1), y=c(0, 1), col=&quot;red&quot;, lwd=1, lty=3);
lines(x=c(1, 0), y=c(0, 1), col=&quot;green&quot;, lwd=1, lty=4) 

#svm_model.vanilla
plot(svm.van_perf , lwd=2, colorize=TRUE, main=&quot;SVM: ROC curve - vanilladot&quot;)
lines(x=c(0, 1), y=c(0, 1), col=&quot;red&quot;, lwd=1, lty=3);
lines(x=c(1, 0), y=c(0, 1), col=&quot;green&quot;, lwd=1, lty=4) </code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-92-1.png" width="50%" /><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-92-2.png" width="50%" /></p>
<pre class="r"><code># Plot precision/recall curve

svm.best_perf_precision &lt;- performance(svm.best_pred, measure = &quot;prec&quot;, x.measure = &quot;rec&quot;)
plot(svm.best_perf_precision, main=&quot;svm_model.best: Plot Precision/recall curve&quot;)

svm.van_perf_precision &lt;- performance(svm.van_pred, measure = &quot;prec&quot;, x.measure = &quot;rec&quot;)
plot(svm.van_perf_precision, main=&quot;svm_model.van: Plot Precision/recall curve&quot;)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-93-1.png" width="50%" /><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-93-2.png" width="50%" /></p>
<pre class="r"><code>#AUC : svm models
svm_model.AUROC &lt;- round(performance(svm_pred, measure = &quot;auc&quot;)@y.values[[1]], 4)
svm_model.AUROC</code></pre>
<pre class="bg-primary"><code> 0.7313</code></pre>
<pre class="r"><code>svm.best_model.AUROC &lt;- round(performance(svm.best_pred, measure = &quot;auc&quot;)@y.values[[1]], 4)
svm.best_model.AUROC</code></pre>
<pre class="bg-primary"><code> 0.7692</code></pre>
<pre class="r"><code>svm.van_model.AUROC &lt;- round(performance(svm.van_pred, measure = &quot;auc&quot;)@y.values[[1]], 4)
svm.van_model.AUROC</code></pre>
<pre class="bg-primary"><code> 0.7794</code></pre>
<p>SVMs are great classifiers for specific situations when the groups are clearly separated. They also do a great job when your data is non-linearly separated. You could transform data to linearly separate it, or you can have SVMs convert the data and linearly separate the two classes right out of the box. This is one of the main reasons to use SVMs. You donâ€™t have to transform non-linear data yourself. One downside to SVMs is the black box nature of these functions. The use of kernels to separate non-linear data makes them difficult (if not impossible) to interpret. Understanding them will give you an alternative to GLMs and decision trees for classification.</p>
<p><br></p>
<blockquote>
<p><strong>5.1.5. <code>Neural Networks</code></strong></p>
</blockquote>
<p>To perform neural network models we need numeric data .Normally, a neural network doesnâ€™t fit well with low number of observations. First avoid, we are going to perform a specific Data pre-processing using the original data copy “german.copy” instead of “german.copy2” . Then, we’ll fit the neural network model with the nnet function.</p>
<p>Why neural network needs normalization/standardization ? : If the input variables are combined linearly, as in an MLP, then it is rarely strictly necessary to standardize the inputs, at least in theory. The reason is that any rescaling of an input vector can be effectively undone by changing the corresponding weights and biases, leaving you with the exact same outputs as you had before. However, there are a variety of practical reasons why standardizing the inputs can make training faster and reduce the chances of getting stuck in local optima. Also, weight decay and Bayesian estimation can be done more conveniently with standardized inputs. Standardizing inputs variables tends to make the training process better behaved by improving the numerical condition (see <a href="ftp://ftp.sas.com/pub/neural/illcond/illcond.html" class="uri">ftp://ftp.sas.com/pub/neural/illcond/illcond.html</a>) of the optimization problem and ensuring that various default values involved in initialization and termination are appropriate.</p>
<p>read more <a href="https://arxiv.org/pdf/1502.03167.pdf%E7%9A%84paper%E9%80%82%E5%90%88%E6%83%B3%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3%E5%8E%9F%E7%90%86%EF%BC%8C%E8%BF%99%E4%B8%AA%E8%A7%86%E9%A2%91%E5%BE%88%E6%B8%85%E6%A5%9A%E7%9A%84%E8%AE%B2%E4%BA%86bn%E8%B5%B7%E5%88%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E3%80%82">here</a> or at this <a href="http://www.faqs.org/faqs/ai-faq/neural-nets/part2/">link</a></p>
<pre class="r"><code># Data pre-processing for Neural network models


#retain from the german.copy data only the numerical target &quot;risk_bin&quot; and &quot;keep$Variables&quot; from the IV statistic.

# german.copy3 &lt;- german.copy %&gt;%
#                     select(-c(Risk))

german.copy3 &lt;- german.copy[,c(keep$Variable,&quot;risk_bin&quot;)]


# Read a numeric copy: Numeric data for Neural network 
german.copy3 &lt;- as.data.frame(sapply(german.copy3, as.numeric ))


# For neural network we would need continuous data
# Sampling for Neural Network - It can be used for Lasso regression too
set.seed(1)
idx &lt;- createDataPartition(y = german.copy3[,16], p = 0.7, list = F)

# Training Sample for Neural Network
train_num &lt;- german.copy3[idx,] # 70% here

# Test Sample for Neural Network
test_num &lt;- german.copy3[-idx,] # rest of the 30% data goes here


#structures of new train/test sets

str(train_num)</code></pre>
<pre class="bg-primary"><code>&#39;data.frame&#39;:   700 obs. of  16 variables:
 $ check_acct      : num  1 2 1 1 4 2 1 1 1 4 ...
 $ credit_hist     : num  5 3 3 4 3 3 3 5 3 3 ...
 $ Duration        : num  6 48 42 24 24 12 48 24 15 24 ...
 $ savings_acct    : num  5 1 1 1 3 1 1 1 1 3 ...
 $ Purpose         : num  4 4 3 1 3 1 10 1 1 4 ...
 $ Age             : num  67 22 45 53 53 25 24 60 28 31 ...
 $ Property        : num  1 1 2 4 2 3 2 3 3 3 ...
 $ Amount          : num  1169 5951 7882 4870 2835 ...
 $ present_emp     : num  4 2 3 2 4 1 1 4 2 4 ...
 $ Housing         : num  2 2 3 3 2 1 1 2 1 2 ...
 $ other_install   : num  3 3 3 3 3 3 3 3 3 3 ...
 $ status_sex      : num  3 2 3 3 3 2 2 3 2 3 ...
 $ ForeignWorker   : num  2 2 2 2 2 2 2 2 2 2 ...
 $ other_debt      : num  1 1 3 1 1 1 1 1 1 1 ...
 $ installment_rate: num  4 2 2 3 3 3 3 4 2 3 ...
 $ risk_bin        : num  1 0 1 0 1 0 0 0 1 1 ...</code></pre>
<pre class="r"><code>str(test_num)</code></pre>
<pre class="bg-primary"><code>&#39;data.frame&#39;:   300 obs. of  16 variables:
 $ check_acct      : num  4 4 2 4 2 2 1 4 1 2 ...
 $ credit_hist     : num  5 3 3 3 5 3 3 5 1 3 ...
 $ Duration        : num  12 36 36 12 30 12 24 24 30 24 ...
 $ savings_acct    : num  1 5 1 4 1 1 2 5 5 1 ...
 $ Purpose         : num  7 7 2 4 1 4 4 4 10 2 ...
 $ Age             : num  49 35 35 61 28 22 32 53 25 44 ...
 $ Property        : num  1 4 3 1 3 3 3 2 3 4 ...
 $ Amount          : num  2096 9055 6948 3059 5234 ...
 $ present_emp     : num  3 2 2 3 5 2 2 4 1 4 ...
 $ Housing         : num  2 3 1 2 2 2 2 2 2 3 ...
 $ other_install   : num  3 3 3 3 3 3 3 3 1 3 ...
 $ status_sex      : num  3 3 3 1 4 2 2 3 3 2 ...
 $ ForeignWorker   : num  2 2 2 2 2 2 2 2 2 2 ...
 $ other_debt      : num  1 1 1 1 1 1 1 1 1 1 ...
 $ installment_rate: num  2 2 2 2 4 1 4 4 2 4 ...
 $ risk_bin        : num  1 1 1 1 0 1 0 1 1 0 ...</code></pre>
<pre class="r"><code># Normalization / scaling
train_num$risk_bin &lt;- as.factor(train_num$risk_bin)
test_num$risk_bin &lt;- as.factor(test_num$risk_bin)

# Function: Normalize using Range

normalize &lt;- function(x) {
  return((x - min(x)) / (max(x) - min(x)))
}

train_num_norm &lt;- as.data.frame(lapply(train_num[,1:15], normalize ))
test_num_norm &lt;- as.data.frame(lapply(test_num[,1:15], normalize ))


train_num_norm$risk_bin &lt;- as.factor(ifelse(train_num$risk_bin == 1, 1, 0))
test_num_norm$risk_bin &lt;- as.factor(ifelse(test_num$risk_bin == 1, 1, 0))


# train_num_norm &lt;- as.data.frame(lapply(train_num[,1:24], scale )) # use scale if normal
# test_num_norm &lt;- as.data.frame(lapply(test_num[,1:24], scale ))   # use scale if normal


# build the neural network (NN) formula
a &lt;- colnames(train_num[,1:15])
mformula &lt;- as.formula(paste(&#39;risk_bin ~ &#39; , paste(a,collapse=&#39;+&#39;)))

set.seed(1234567890)
train_nn &lt;- train_num_norm
test_nn &lt;- test_num_norm</code></pre>
<pre class="r"><code># Neural network modelling
set.seed(1)
neur.net &lt;- nnet(risk_bin~., data=train_nn,size=20,maxit=10000,decay=.001, linout=F, trace = F)
print(neur.net)</code></pre>
<pre class="bg-primary"><code>a 15-20-1 network with 341 weights
inputs: check_acct credit_hist Duration savings_acct Purpose Age Property Amount present_emp Housing other_install status_sex ForeignWorker other_debt installment_rate 
output(s): risk_bin 
options were - entropy fitting  decay=0.001</code></pre>
<pre class="r"><code>#prediction of neur.net on test set
neur.net_predictions &lt;- predict(neur.net,newdata=test_nn, type=&quot;class&quot;) %&gt;% factor()
cm_neuralnet.m5 &lt;- confusionMatrix(data=neur.net_predictions, reference=test_nn[,16], positive=&quot;0&quot;)
cm_neuralnet.m5</code></pre>
<pre class="bg-primary"><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0  41  57
         1  54 148
                                          
               Accuracy : 0.63            
                 95% CI : (0.5726, 0.6848)
    No Information Rate : 0.6833          
    P-Value [Acc &gt; NIR] : 0.9786          
                                          
                  Kappa : 0.1522          
 Mcnemar&#39;s Test P-Value : 0.8494          
                                          
            Sensitivity : 0.4316          
            Specificity : 0.7220          
         Pos Pred Value : 0.4184          
         Neg Pred Value : 0.7327          
             Prevalence : 0.3167          
         Detection Rate : 0.1367          
   Detection Prevalence : 0.3267          
      Balanced Accuracy : 0.5768          
                                          
       &#39;Positive&#39; Class : 0               
                                          </code></pre>
<pre class="r"><code># get the weights and structure in the right format
wts &lt;- neuralweights(neur.net)
struct &lt;- wts$struct
wts &lt;- unlist(wts$wts)

plotnet(wts, struct=struct)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-98-1.png" width="110%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>#Model performance plot

#define performance

# score test data/model scoring for ROc curve - neural network model
neur.net_pred &lt;- prediction(predict(neur.net, newdata=test_nn, type=&quot;raw&quot;),test_nn$risk_bin)
neur.net_perf &lt;- performance(neur.net_pred,&quot;tpr&quot;,&quot;fpr&quot;)</code></pre>
<pre class="r"><code>#plot roc curves
plot(neur.net_perf ,lwd=2, colorize=TRUE, main=&quot;ROC curve:  Neural Network performance&quot;)
lines(x=c(0, 1), y=c(0, 1), col=&quot;red&quot;, lwd=1, lty=3);
lines(x=c(1, 0), y=c(0, 1), col=&quot;green&quot;, lwd=1, lty=4)  </code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-100-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code># Plot precision/recall curve
neur.net_perf_precision &lt;- performance(neur.net_pred, measure = &quot;prec&quot;, x.measure = &quot;rec&quot;)
plot(neur.net_perf_precision, main=&quot;neural network: Plot Precision/recall curve&quot;)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-101-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>#AUC : neural network model
neur_model.AUROC &lt;- round(performance(neur.net_pred, measure = &quot;auc&quot;)@y.values[[1]], 4)
neur_model.AUROC</code></pre>
<pre class="bg-primary"><code> 0.6185</code></pre>
<p>Compared to the previous models, “neur.net” seems to be the less accurate model. It shows an overall accuracy of 0.63.</p>
<p><br></p>
<blockquote>
<p><strong>5.1.6. <code>Lasso regression</code></strong></p>
</blockquote>
<p>For the lasso regression model, we will use the same train_num and test_num we defined first for the neural network model. However, because the glmnet functions don’t need a regression formula , but input matrices of predictors, we will first construct <em>mat_train</em> and <em>mat_test</em> with the model.matrix function as follow.</p>
<pre class="r"><code>mat_train &lt;- model.matrix(risk_bin ~ . , data = train_num  ) # convert to numeric matrix
mat_test &lt;- model.matrix(risk_bin ~ . , data = test_num  )  # convert to numeric matrix</code></pre>
<p>We fitted a GLM with lasso regularization, performing cross validation to find the optimal lambda. alpha = 1 indicates that is LASSO and not elasticnet regression. We choose as loss measure to use for cross-validation “auc” , that is for two-class logistic regression only, and gives area under the ROC curve.</p>
<pre class="r"><code>#fit LASSO model
set.seed(1)
lasso_model &lt;- cv.glmnet(mat_train,as.numeric(train_num$risk_bin), alpha=1, nfolds=10, family=&quot;binomial&quot;, type.measure = &#39;auc&#39;)
print(lasso_model)</code></pre>
<pre class="bg-primary"><code> 0.1565350927 0.1426289465 0.1299581840 0.1184130571 0.1078935675
 [6] 0.0983086003 0.0895751352 0.0816175271 0.0743668509 0.0677603049
[11] 0.0617406662 0.0562557955 0.0512581857 0.0467045498 0.0425554463
[16] 0.0387749377 0.0353302791 0.0321916345 0.0293318184 0.0267260605
[21] 0.0243517910 0.0221884450 0.0202172847 0.0184212368 0.0167847449
[26] 0.0152936345 0.0139349901 0.0126970440 0.0115690736 0.0105413090
[31] 0.0096048482 0.0087515799 0.0079741137 0.0072657154 0.0066202493
[36] 0.0060321246 0.0054962473 0.0050079758 0.0045630810 0.0041577095
[41] 0.0037883500 0.0034518035 0.0031451548 0.0028657479 0.0026111627
[46] 0.0023791942 0.0021678332 0.0019752488 0.0017997732 0.0016398863
[51] 0.0014942033 0.0013614624 0.0012405138 0.0011303100 0.0010298964
[56] 0.0009384032 0.0008550381 0.0007790788 0.0007098676 0.0006468049
[61] 0.0005893446

$cvm
 [1] 0.5710319 0.6977412 0.7160305 0.7152162 0.7197872 0.7299857 0.7447013
 [8] 0.7495949 0.7557273 0.7600720 0.7626805 0.7652861 0.7677099 0.7699548
[15] 0.7700668 0.7709220 0.7732505 0.7759888 0.7791641 0.7817496 0.7840544
[22] 0.7874060 0.7895120 0.7906726 0.7917014 0.7922798 0.7936065 0.7952416
[29] 0.7952178 0.7944505 0.7936879 0.7932648 0.7932085 0.7935062 0.7941476
[36] 0.7948539 0.7947934 0.7948773 0.7947804 0.7950497 0.7948166 0.7948000
[43] 0.7943998 0.7944270 0.7943607 0.7945550 0.7946475 0.7947427 0.7944365
[50] 0.7947209 0.7948482 0.7946472 0.7946472 0.7944610 0.7942653 0.7942612
[57] 0.7939686 0.7936782 0.7932583 0.7934615 0.7935435

$cvsd
 [1] 0.04300289 0.01734456 0.01671123 0.01759359 0.02140464 0.01471195
 [7] 0.01614760 0.01703056 0.01809857 0.01837942 0.01912454 0.01964134
[13] 0.01981164 0.02102170 0.02187689 0.02203593 0.02176342 0.02166480
[19] 0.02176843 0.02133350 0.02214582 0.02183725 0.02218276 0.02221030
[25] 0.02216032 0.02253537 0.02294118 0.02286370 0.02300748 0.02333197
[31] 0.02346921 0.02321008 0.02335437 0.02349827 0.02331831 0.02338554
[37] 0.02339704 0.02320197 0.02338284 0.02309179 0.02329735 0.02320673
[43] 0.02320474 0.02322951 0.02335467 0.02334088 0.02328073 0.02320944
[49] 0.02324838 0.02325124 0.02317997 0.02318925 0.02318925 0.02311963
[55] 0.02318522 0.02316493 0.02309257 0.02313453 0.02311762 0.02308301
[61] 0.02311939

$cvup
 [1] 0.6140348 0.7150857 0.7327417 0.7328098 0.7411919 0.7446977 0.7608489
 [8] 0.7666255 0.7738259 0.7784514 0.7818050 0.7849274 0.7875215 0.7909765
[15] 0.7919437 0.7929579 0.7950139 0.7976536 0.8009325 0.8030831 0.8062002
[22] 0.8092432 0.8116947 0.8128829 0.8138618 0.8148152 0.8165477 0.8181053
[29] 0.8182252 0.8177825 0.8171571 0.8164749 0.8165629 0.8170044 0.8174659
[36] 0.8182395 0.8181905 0.8180793 0.8181632 0.8181415 0.8181139 0.8180068
[43] 0.8176046 0.8176565 0.8177154 0.8178959 0.8179282 0.8179521 0.8176849
[50] 0.8179721 0.8180281 0.8178365 0.8178365 0.8175806 0.8174505 0.8174261
[57] 0.8170612 0.8168127 0.8163759 0.8165445 0.8166629

$cvlo
 [1] 0.5280290 0.6803966 0.6993193 0.6976226 0.6983826 0.7152738 0.7285537
 [8] 0.7325643 0.7376287 0.7416925 0.7435559 0.7456447 0.7478983 0.7489331
[15] 0.7481899 0.7488860 0.7514871 0.7543239 0.7573956 0.7604161 0.7619085
[22] 0.7655687 0.7673292 0.7684623 0.7695411 0.7697445 0.7706653 0.7723779
[29] 0.7722103 0.7711185 0.7702187 0.7700548 0.7698541 0.7700079 0.7708293
[36] 0.7714684 0.7713964 0.7716754 0.7713975 0.7719579 0.7715192 0.7715933
[43] 0.7711951 0.7711975 0.7710060 0.7712141 0.7713668 0.7715333 0.7711881
[50] 0.7714696 0.7716682 0.7714580 0.7714580 0.7713414 0.7710801 0.7710962
[57] 0.7708760 0.7705436 0.7701407 0.7703785 0.7704241

$nzero
 s0  s1  s2  s3  s4  s5  s6  s7  s8  s9 s10 s11 s12 s13 s14 s15 s16 s17 
  0   1   1   1   1   2   3   3   3   3   4   4   5   6   6   7   9  10 
s18 s19 s20 s21 s22 s23 s24 s25 s26 s27 s28 s29 s30 s31 s32 s33 s34 s35 
 11  11  12  12  12  13  14  14  14  14  15  15  15  15  15  15  15  15 
s36 s37 s38 s39 s40 s41 s42 s43 s44 s45 s46 s47 s48 s49 s50 s51 s52 s53 
 15  15  15  15  15  15  15  15  15  15  15  15  15  15  15  15  15  15 
s54 s55 s56 s57 s58 s59 s60 
 15  15  15  15  15  15  15 

$name
  auc 
&quot;AUC&quot; 

$glmnet.fit

Call:  glmnet(x = mat_train, y = as.numeric(train_num$risk_bin), alpha = 1,      family = &quot;binomial&quot;) 

      Df       %Dev    Lambda
 [1,]  0 -1.616e-14 0.1565000
 [2,]  1  1.663e-02 0.1426000
 [3,]  1  3.048e-02 0.1300000
 [4,]  1  4.207e-02 0.1184000
 [5,]  1  5.177e-02 0.1079000
 [6,]  2  6.141e-02 0.0983100
 [7,]  3  7.580e-02 0.0895800
 [8,]  3  8.964e-02 0.0816200
 [9,]  3  1.013e-01 0.0743700
[10,]  3  1.111e-01 0.0677600
[11,]  4  1.200e-01 0.0617400
[12,]  4  1.290e-01 0.0562600
[13,]  5  1.379e-01 0.0512600
[14,]  6  1.459e-01 0.0467000
[15,]  6  1.533e-01 0.0425600
[16,]  7  1.598e-01 0.0387700
[17,]  9  1.677e-01 0.0353300
[18,] 10  1.753e-01 0.0321900
[19,] 11  1.831e-01 0.0293300
[20,] 11  1.898e-01 0.0267300
[21,] 12  1.962e-01 0.0243500
[22,] 12  2.018e-01 0.0221900
[23,] 12  2.065e-01 0.0202200
[24,] 13  2.106e-01 0.0184200
[25,] 14  2.144e-01 0.0167800
[26,] 14  2.178e-01 0.0152900
[27,] 14  2.206e-01 0.0139300
[28,] 14  2.230e-01 0.0127000
[29,] 15  2.252e-01 0.0115700
[30,] 15  2.272e-01 0.0105400
[31,] 15  2.289e-01 0.0096050
[32,] 15  2.303e-01 0.0087520
[33,] 15  2.315e-01 0.0079740
[34,] 15  2.326e-01 0.0072660
[35,] 15  2.334e-01 0.0066200
[36,] 15  2.342e-01 0.0060320
[37,] 15  2.348e-01 0.0054960
[38,] 15  2.353e-01 0.0050080
[39,] 15  2.358e-01 0.0045630
[40,] 15  2.362e-01 0.0041580
[41,] 15  2.365e-01 0.0037880
[42,] 15  2.367e-01 0.0034520
[43,] 15  2.370e-01 0.0031450
[44,] 15  2.371e-01 0.0028660
[45,] 15  2.373e-01 0.0026110
[46,] 15  2.374e-01 0.0023790
[47,] 15  2.375e-01 0.0021680
[48,] 15  2.376e-01 0.0019750
[49,] 15  2.377e-01 0.0018000
[50,] 15  2.378e-01 0.0016400
[51,] 15  2.378e-01 0.0014940
[52,] 15  2.379e-01 0.0013610
[53,] 15  2.379e-01 0.0012410
[54,] 15  2.379e-01 0.0011300
[55,] 15  2.380e-01 0.0010300
[56,] 15  2.380e-01 0.0009384
[57,] 15  2.380e-01 0.0008550
[58,] 15  2.380e-01 0.0007791
[59,] 15  2.380e-01 0.0007099
[60,] 15  2.380e-01 0.0006468
[61,] 15  2.380e-01 0.0005893

$lambda.min
[1] 0.01269704

$lambda.1se
[1] 0.03533028

attr(,&quot;class&quot;)
[1] &quot;cv.glmnet&quot;</code></pre>
<p>The following plot shows the models (with different lambda values) that glmnet fitted, along with the auc values for each of the models.</p>
<pre class="r"><code>plot(lasso_model)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-105-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>It includes the cross-validation curve (red dotted line), and upper and lower standard deviation curves along the <span class="math inline">\(Î»\)</span> sequence (error bars). Two selected <span class="math inline">\(Î»â€™s\)</span> are indicated by the vertical dotted lines (see below). We can view the selected <span class="math inline">\(Î»â€™s\)</span> and the corresponding coefficients. For example, the minimum value of lambda , i.e the one that minimises the auc value corresponds to <code>lasso_model$lambda.min</code> . <em>lambda.min or lambda.1se ? : </em> The <code>lambda.min</code> option refers to value of <span class="math inline">\(Î»\)</span> at the lowest CV error. The error at this value of <span class="math inline">\(Î»\)</span> is the average of the errors over the k folds and hence this estimate of the error is uncertain. The <code>lambda.1se</code> represents the value of <span class="math inline">\(Î»\)</span> in the search that was simpler than the best model (lambda.min), but which has error within 1 standard error of the best model. In other words, using the value of lambda.1se as the selected value for <span class="math inline">\(Î»\)</span> results in a model that is slightly simpler than the best model but which cannot be distinguished from the best model in terms of error given the uncertainty in the k-fold CV estimate of the error of the best model. Read more <a href="https://stats.stackexchange.com/questions/70249/feature-selection-model-with-glmnet-on-methylation-data-pn">here</a></p>
<p>In general though, the objective of regularization is to balance accuracy and simplicity. In the present context, this means a model with the smallest number of coefficients that also gives a good accuracy. To this end, the cv.glmnet function finds the value of lambda that gives the simplest model but also lies within one standard error of the optimal value of lambda. This value of lambda(<strong>lambda.1se</strong>) is what we’ll use to predict our fitted model on test set.</p>
<pre class="r"><code>#prediction on test set

lasso_predictions &lt;- predict(lasso_model, newx = mat_test, s = &quot;lambda.1se&quot;, type = &quot;response&quot;) 
lasso_predictions &lt;- as.factor(ifelse(lasso_predictions&gt;0.5,1,0))
cm_lasso.m6 &lt;- confusionMatrix(data=lasso_predictions, reference=test_num$risk_bin, positive=&#39;0&#39;)
cm_lasso.m6</code></pre>
<pre class="bg-primary"><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0  21   8
         1  74 197
                                          
               Accuracy : 0.7267          
                 95% CI : (0.6725, 0.7763)
    No Information Rate : 0.6833          
    P-Value [Acc &gt; NIR] : 0.059           
                                          
                  Kappa : 0.2237          
 Mcnemar&#39;s Test P-Value : 7.071e-13       
                                          
            Sensitivity : 0.22105         
            Specificity : 0.96098         
         Pos Pred Value : 0.72414         
         Neg Pred Value : 0.72694         
             Prevalence : 0.31667         
         Detection Rate : 0.07000         
   Detection Prevalence : 0.09667         
      Balanced Accuracy : 0.59101         
                                          
       &#39;Positive&#39; Class : 0               
                                          </code></pre>
<pre class="r"><code>#Model performance plot

#define performance

# score test data/model scoring for ROc curve - lasso_model
lasso.prob &lt;- predict(lasso_model,type=&quot;response&quot;, newx =mat_test, s = &#39;lambda.1se&#39;)
lasso_model_pred &lt;- prediction(lasso.prob,test_num$risk_bin)
lasso_model_perf &lt;- performance(lasso_model_pred,&quot;tpr&quot;,&quot;fpr&quot;)</code></pre>
<pre class="r"><code>#plot roc curves

#lasso_model
plot(lasso_model_perf,colorize=TRUE,  main=&quot;LASSO: ROC curve - type measure:auc&quot;) 
lines(x=c(0, 1), y=c(0, 1), col=&quot;red&quot;, lwd=1, lty=3);
lines(x=c(1, 0), y=c(0, 1), col=&quot;green&quot;, lwd=1, lty=4)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-108-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code># Plot precision/recall curve

lasso_perf_precision &lt;- performance(lasso_model_pred, measure = &quot;prec&quot;, x.measure = &quot;rec&quot;)
plot(lasso_perf_precision, main=&quot;lasso_model: Plot Precision/recall curve&quot;)</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-109-1.png" width="70%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>#AUC : Lasso model
lasso_model.AUROC &lt;- round(performance(lasso_model_pred, measure = &quot;auc&quot;)@y.values[[1]], 4)
lasso_model.AUROC</code></pre>
<pre class="bg-primary"><code> 0.7675</code></pre>
<p>As we can notice, Lasso regression model shows a good overall accuracy and good AUC performance.</p>
<p><br></p>
</div>
<div id="model-optimization" class="section level4">
<h4><span style="color:red">5.2. Model optimization</span></h4>
<p>Although we usually recommend studying both specificity and sensitivity, very often it is useful to have a one number summary, for example for optimization purposes. One metric that is preferred over overall accuracy is the average of specificity and sensitivity, referred to as balanced accuracy. Because specificity and sensitivity are rates, it is more appropriate to compute the harmonic average which give us the F1-score.Balanced accuracy is discussed in this <a href="http://ong-home.my/papers/brodersen10post-balacc.pdf">paper</a>, while further details for the F1-score are given <a href="https://rafalab.github.io/dsbook/introduction-to-machine-learning.html#balanced-accuracy-and-f_1-score">here</a>.</p>
<p><span class="math display">\[Balanced Accuracy \ (BACC) =  \frac{\mbox{sensitivity} + \mbox{specificity}}
{2}\]</span></p>
<p><span class="math display">\[F_1 \ score = 2 \times \frac{\mbox{precision} \cdot \mbox{recall}}
{\mbox{precision} + \mbox{recall}}\]</span></p>
<p>More over, we are going to define two other accuracy metrics <strong>KS</strong> and <strong>Gini</strong> that will support results of AUC. The kolmogorov-Smirnov test (KS-test) tries to determine if two classes differ significantly. In our case we are trying to measure whether the model is able to classify “good” class from “bad” class very well. If they are completely separated (i.e AUROC = 100%) then the value of KS will be 1(100%) and if they are same then the value of KS will be 0 (0%) . This means higher the value is better classification power . In simple term , <em>KS= Max distance between distributions of two classes</em> .</p>
<div class="figure" style="text-align: center">
<img src="http://www.physics.csbsju.edu/stats/bothB_log_a.gif" alt="KS-Test comparison cumulative Fraction plot" width="70%" />
<p class="caption">
KS-Test comparison cumulative Fraction plot
</p>
</div>
<p>Read more here : <a href="https://r-forge.r-project.org/scm/viewvc.php/*checkout*/pkg/literature/1951-jamsta-massey-kolmsmirntest.pdf?root=glogis">Massey(1951)</a></p>
<p>For the Gini coefficient , we already defined his relationship with the AUROC in paragraph IV.2 ( <em>Gini = 2AUC -1</em>)</p>
<p><br></p>
<blockquote>
<p><strong>5.2.1. <code>Model Performance Comparision - Measures of Accuracy</code></strong></p>
</blockquote>
<ul>
<li><strong>Balanced Accuracy , F1-score, Recall, Precision</strong></li>
</ul>
<pre class="r"><code># models Performance Table
models &lt;- c(&#39;m1:Logistic regression&#39;, &#39;m1_1:Logistic regression - important vars&#39;,
            &#39;m2:Decision tree&#39;,&#39;m2_1:Decision tree - pruning&#39;, 
            &#39;m3:Random forest&#39;, &#39;m3_1: Random forest - important vars&#39;,
            &#39;m3_2: Random forest- tuning parameters&#39;,
            &quot;m4:SVM,radial&quot;, &quot;m4_1:SVM,radial - important vars&quot;,  
            &quot;m4_2:SVM,vanilladot&quot;, &quot;m5: Neural net&quot;, &quot;m6:Lasso reg&quot;)


#i get overall accuracy for each model 
avg_acc &lt;- round(c( cm_logreg.m1$overall[[&#39;Accuracy&#39;]],
                    cm_logreg.m1_1$overall[[&#39;Accuracy&#39;]],
                    cm_dtree.m2$overall[[&#39;Accuracy&#39;]],
                    cm_dtree.m2_1$overall[[&#39;Accuracy&#39;]],
                    cm_rf.m3$overall[[&#39;Accuracy&#39;]],
                    cm_rf.m3_1$overall[[&#39;Accuracy&#39;]],
                    cm_rf.m3_2$overall[[&#39;Accuracy&#39;]],
                    cm_svm.m4$overall[[&#39;Accuracy&#39;]],
                    cm_svm.m4_1$overall[[&#39;Accuracy&#39;]],
                    cm_svm.m4_2$overall[[&#39;Accuracy&#39;]],
                    cm_neuralnet.m5$overall[[&#39;Accuracy&#39;]],
                    cm_lasso.m6$overall[[&#39;Accuracy&#39;]]),4 )</code></pre>
<p>For the balanced accuracy, we can also get it directly from the output of the confusion matrix. <code>cm$byClass[['Balanced Accuracy']]</code> corresponds to the formula we define first. <strong>( (sensitivity + specificity) / 2)</strong></p>
<pre class="r"><code>#balanced accuracy
balanced_acc &lt;- round(c(cm_logreg.m1$byClass[[&#39;Balanced Accuracy&#39;]],
                        cm_logreg.m1_1$byClass[[&#39;Balanced Accuracy&#39;]],
                        cm_dtree.m2$byClass[[&#39;Balanced Accuracy&#39;]],
                        cm_dtree.m2_1$byClass[[&#39;Balanced Accuracy&#39;]],
                        cm_rf.m3$byClass[[&#39;Balanced Accuracy&#39;]],
                        cm_rf.m3_1$byClass[[&#39;Balanced Accuracy&#39;]],
                        cm_rf.m3_2$byClass[[&#39;Balanced Accuracy&#39;]],
                        cm_svm.m4$byClass[[&#39;Balanced Accuracy&#39;]],
                        cm_svm.m4_1$byClass[[&#39;Balanced Accuracy&#39;]],
                        cm_svm.m4_2$byClass[[&#39;Balanced Accuracy&#39;]],
                        cm_neuralnet.m5$byClass[[&#39;Balanced Accuracy&#39;]],
                        cm_lasso.m6$byClass[[&#39;Balanced Accuracy&#39;]]),4)</code></pre>
<p>F1-score : The <strong>F_meas</strong> function in the caret package computes this summary with beta defaulting to 1 (Irrizary, 2018) .It corresponds to the F1 score formula we defined at the beginning of the paragraph.</p>
<pre class="r"><code>#F1score

F1score.m1 &lt;- round(F_meas(data=reg_predictions,reference=test$Risk),4)

F1score.m1_1 &lt;- round(F_meas(data=reg_predictions.new,reference=test$Risk),4)

F1score.m2 &lt;- round(F_meas(data=dt_predictions,reference=test$Risk),4)

F1score.m2_1 &lt;- round(F_meas(data=pruned_predictions,reference=test$Risk),4)

F1score.m3 &lt;- round(F_meas(data=rf_predictions, reference=test$Risk),4)
#2*(0.6734694*0.3666667) / ( 0.3666667 + 0.6734694 )

F1score.m3_1 &lt;- round(F_meas(data=rf_predictions.new, reference=test$Risk),4)

F1score.m3_2 &lt;- round(F_meas(data=rf_predictions.best, reference=test$Risk),4)

F1score.m4 &lt;- round(F_meas(data=svm_predictions, reference=test$Risk),4)

F1score.m4_1 &lt;- round(F_meas(data=svm_predictions.best , reference=test$Risk),4)

F1score.m4_2 &lt;- round(F_meas(data=svm_predictions.vanilla, reference=test$Risk),4)  

F1score.m5 &lt;- round(F_meas(data=neur.net_predictions , reference=test_nn$risk_bin),4)

F1score.m6 &lt;- round(F_meas(data=lasso_predictions , reference=test_num$risk_bin),4)   

F1_score &lt;- c(F1score.m1, F1score.m1_1,
              F1score.m2, F1score.m2_1,
              F1score.m3, F1score.m3_1,
              F1score.m3_2, F1score.m4,
              F1score.m4_1, F1score.m4_2,
              F1score.m5, F1score.m6)</code></pre>
<p>We can observe that in paragraph IV.2, formula (8) is the same as formula (11). Then we can get recall metric as sensitivity from the output of the confusion matrix. Instead , for the Precision metric, formula(10) , its value in the confusionMatrix output corresponds to the PPV(positive pred value).Read more <a href="https://en.wikipedia.org/wiki/Confusion_matrix">here</a></p>
<pre class="r"><code>#recall
recall &lt;- round(c(cm_logreg.m1$byClass[[&#39;Sensitivity&#39;]],
                  cm_logreg.m1_1$byClass[[&#39;Sensitivity&#39;]],
                  cm_dtree.m2$byClass[[&#39;Sensitivity&#39;]],
                  cm_dtree.m2_1$byClass[[&#39;Sensitivity&#39;]],
                  cm_rf.m3$byClass[[&#39;Sensitivity&#39;]],
                  cm_rf.m3_1$byClass[[&#39;Sensitivity&#39;]],
                  cm_rf.m3_2$byClass[[&#39;Sensitivity&#39;]],
                  cm_svm.m4$byClass[[&#39;Sensitivity&#39;]],
                  cm_svm.m4_1$byClass[[&#39;Sensitivity&#39;]],
                  cm_svm.m4_2$byClass[[&#39;Sensitivity&#39;]],
                  cm_neuralnet.m5$byClass[[&#39;Sensitivity&#39;]],
                  cm_lasso.m6$byClass[[&#39;Sensitivity&#39;]]),4)


#precision
precision &lt;- round(c(cm_logreg.m1$byClass[[&#39;Pos Pred Value&#39;]],
                     cm_logreg.m1_1$byClass[[&#39;Pos Pred Value&#39;]],
                     cm_dtree.m2$byClass[[&#39;Pos Pred Value&#39;]],
                     cm_dtree.m2_1$byClass[[&#39;Pos Pred Value&#39;]],
                     cm_rf.m3$byClass[[&#39;Pos Pred Value&#39;]],
                     cm_rf.m3_1$byClass[[&#39;Pos Pred Value&#39;]],
                     cm_rf.m3_2$byClass[[&#39;Pos Pred Value&#39;]],
                     cm_svm.m4$byClass[[&#39;Pos Pred Value&#39;]],
                     cm_svm.m4_1$byClass[[&#39;Pos Pred Value&#39;]],
                     cm_svm.m4_2$byClass[[&#39;Pos Pred Value&#39;]],
                     cm_neuralnet.m5$byClass[[&#39;Pos Pred Value&#39;]],
                     cm_lasso.m6$byClass[[&#39;Pos Pred Value&#39;]]),4)</code></pre>
<pre class="r"><code># Combine Recall, Precision, balanced_acc, F1_score
model_performance_metric_1 &lt;- as.data.frame(cbind(models, recall, precision, balanced_acc , F1_score, avg_acc))

# Colnames 
colnames(model_performance_metric_1) &lt;- c(&quot;Models&quot;, &quot;Recall&quot;, &quot;Precision&quot;, &quot;Balanced Accuracy&quot;, &quot;F1-score&quot;, &quot;Accuracy&quot;)

# kable performance table  metrics group1
kable(model_performance_metric_1,caption =&quot;Comparison of Model Performances&quot;) %&gt;%
  kable_styling(bootstrap_options = &quot;striped&quot; , full_width = F , position = &quot;center&quot;) %&gt;%
  kable_styling(bootstrap_options = &quot;bordered&quot;, full_width = F , position =&quot;center&quot;) %&gt;%
  column_spec(1,bold = T ,color =&quot;white&quot;, background = &quot;blue&quot;) %&gt;%
  column_spec(2,bold = T , color =&quot;white&quot;, background = &quot;lightsalmon&quot;) %&gt;%
  column_spec(3,bold = T , color =&quot;white&quot;, background = &quot;darksalmon&quot;) %&gt;%
  column_spec(4,bold = T ,color =&quot;white&quot;, background = &quot;coral&quot; ) %&gt;%
  column_spec(5,bold = T , color =&quot;white&quot;, background = &quot;tomato&quot;) %&gt;%
  column_spec(6,bold =T ,color = &quot;white&quot; , background =&quot;#D7261E&quot;)</code></pre>
<table class="table table-striped table table-bordered" style="width: auto !important; margin-left: auto; margin-right: auto; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Comparison of Model Performances
</caption>
<thead>
<tr>
<th style="text-align:left;">
Models
</th>
<th style="text-align:left;">
Recall
</th>
<th style="text-align:left;">
Precision
</th>
<th style="text-align:left;">
Balanced Accuracy
</th>
<th style="text-align:left;">
F1-score
</th>
<th style="text-align:left;">
Accuracy
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m1:Logistic regression
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: lightsalmon;">
0.4889
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: darksalmon;">
0.6197
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.6802
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.5466
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.7567
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m1_1:Logistic regression - important vars
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: lightsalmon;">
0.3333
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: darksalmon;">
0.5455
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.6071
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.4138
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.7167
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m2:Decision tree
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: lightsalmon;">
0.4778
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: darksalmon;">
0.5443
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.6532
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.5089
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.7233
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m2_1:Decision tree - pruning
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: lightsalmon;">
0.3667
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: darksalmon;">
0.5593
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.6214
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.443
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.7233
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m3:Random forest
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: lightsalmon;">
0.4111
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: darksalmon;">
0.74
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.6746
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.5286
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.78
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m3_1: Random forest - important vars
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: lightsalmon;">
0.4556
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: darksalmon;">
0.6406
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.673
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.5325
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.76
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m3_2: Random forest- tuning parameters
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: lightsalmon;">
0.4222
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: darksalmon;">
0.7451
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.6802
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.539
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.7833
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m4:SVM,radial
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: lightsalmon;">
0.0111
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: darksalmon;">
0.3333
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.5008
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.0215
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.6967
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m4_1:SVM,radial - important vars
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: lightsalmon;">
0.2889
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: darksalmon;">
0.6842
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.6159
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.4062
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.7467
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m4_2:SVM,vanilladot
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: lightsalmon;">
0.5111
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: darksalmon;">
0.6133
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.6865
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.5576
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.7567
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m5: Neural net
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: lightsalmon;">
0.4316
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: darksalmon;">
0.4184
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.5768
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.4249
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.63
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m6:Lasso reg
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: lightsalmon;">
0.2211
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: darksalmon;">
0.7241
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.591
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.3387
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.7267
</td>
</tr>
</tbody>
</table>
<p>Here, we compared models by group, and based on <em>model_performance_metric_1</em> . The first criteria of comparison is the overall accuracy. Then, further discrimination is through F1-score, Balanced accuracy, precision and recall. For the first group , <em>Logistic regression models</em>, m1 is definitively better with all metrics greater than m1_1. For the second group, <em>decision trees</em>, since m2 and m2_1 have the same overall accuracy, the choice of m2 as better model comes up after comparing Balanced accuracy and F1 score values. For the <em>random forests models</em>, the choice is clear and without ambiguity since m3_2 is also the model which gets among all the fitted models in our study, the highest overall accuracy value, 0.7833. The group of <em>SVM models</em> indicates that m4_2, the support vector machine model with vanilladot Linear kernel function, shows the best overall accuracy value as well as best F1-score and balanced accuracy values.</p>
<p><br></p>
<ul>
<li><strong>AUC, KS, GINI</strong></li>
</ul>
<pre class="r"><code>#selected models
models2 &lt;-  c(&#39;m1:Logistic regression&#39;,
            &#39;m2:Decision tree&#39;,
            &#39;m3_2: Random forest- tuning parameters&#39;,
            &quot;m4_2:SVM,vanilladot&quot;, 
            &quot;m5: Neural net&quot;,
            &quot;m6:Lasso reg&quot;)

#i store all AUC values in models_AUC
models_AUC &lt;- c (reg_model.AUROC,
                 dt_model.AUROC,
                 rf_bestmodel.AUROC,
                 svm.van_model.AUROC,
                 neur_model.AUROC,
                 lasso_model.AUROC)



#i calculate KS-test  

#logistic reg
m1.KS &lt;- round(max(attr(reg_model.perf,&#39;y.values&#39;)[[1]]-attr(reg_model.perf,&#39;x.values&#39;)[[1]])*1, 4)

#decision tree
m2.KS &lt;- round(max(attr(dt_perf,&#39;y.values&#39;)[[1]]-attr(dt_perf,&#39;x.values&#39;)[[1]])*1, 4)

# random forest 
m3_2.KS &lt;- round(max(attr( rf.best_perf,&#39;y.values&#39;)[[1]]-attr( rf.best_perf,&#39;x.values&#39;)[[1]])*1, 4)

#SVM
m4_2.KS &lt;- round(max(attr(svm.van_perf,&#39;y.values&#39;)[[1]]-attr( svm.van_perf,&#39;x.values&#39;)[[1]])*1, 4)

#Neural network
m5.KS &lt;- round(max(attr(neur.net_perf,&#39;y.values&#39;)[[1]]-attr( neur.net_perf,&#39;x.values&#39;)[[1]])*1, 4)

#Lasso regression
m6.KS &lt;- round(max(attr(lasso_model_perf,&#39;y.values&#39;)[[1]]-attr(lasso_model_perf,&#39;x.values&#39;)[[1]])*1, 4)


#i store all KS values in models_KS
models_KS &lt;- c(m1.KS,
               m2.KS,
               m3_2.KS, 
               m4_2.KS,
               m5.KS,
               m6.KS)



#Gini : i calculate GINI values for each fitted model , 2*AUROC - 1

# Log. reg
m1.Gini &lt;- (2 * reg_model.AUROC - 1)

# decision tree
m2.Gini &lt;- (2 * dt_model.AUROC - 1)

# random forests
m3_2.Gini &lt;- (2*rf_bestmodel.AUROC - 1)

# SVM 
m4_2.Gini &lt;- (2*svm.van_model.AUROC- 1)

#Neural net
m5.Gini &lt;- (2*neur_model.AUROC -1)

#Lasso
m6.Gini &lt;- (2*lasso_model.AUROC -1 )


#i store all GINI values in models_Gini
models_Gini &lt;- c(m1.Gini,
                 m2.Gini,
                 m3_2.Gini,
                 m4_2.Gini,
                 m5.Gini,
                 m6.Gini)


# Combine AUC, KS, GINI
model_performance_metric_2 &lt;- as.data.frame(cbind(models2, models_AUC, models_KS, models_Gini))

# Colnames 
colnames(model_performance_metric_2) &lt;- c(&quot;Models&quot;, &quot;AUC&quot;, &quot;KS&quot;, &quot;Gini&quot;)


#kable performance table  metrics group2

kable(model_performance_metric_2,caption =&quot;Comparison of Model Performances&quot;) %&gt;%
  kable_styling(bootstrap_options = &quot;striped&quot; , full_width = F , position = &quot;center&quot;) %&gt;%
  kable_styling(bootstrap_options = &quot;bordered&quot;, full_width = F , position =&quot;center&quot;) %&gt;%
  column_spec(1,bold = T ,color =&quot;white&quot;, background = &quot;blue&quot; ) %&gt;%
  column_spec(2,bold = T ,color =&quot;white&quot;, background = &quot;coral&quot; ) %&gt;%
  column_spec(3,bold = T , color =&quot;white&quot;, background = &quot;tomato&quot;) %&gt;%
  column_spec(4,bold =T ,color = &quot;white&quot; , background =&quot;#D7261E&quot;)</code></pre>
<table class="table table-striped table table-bordered" style="width: auto !important; margin-left: auto; margin-right: auto; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Comparison of Model Performances
</caption>
<thead>
<tr>
<th style="text-align:left;">
Models
</th>
<th style="text-align:left;">
AUC
</th>
<th style="text-align:left;">
KS
</th>
<th style="text-align:left;">
Gini
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m1:Logistic regression
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.7741
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.4635
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.5482
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m2:Decision tree
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.7477
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.446
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.4954
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m3_2: Random forest- tuning parameters
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.7813
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.4571
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.5626
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m4_2:SVM,vanilladot
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.7794
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.4857
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.5588
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m5: Neural net
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.6185
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.2521
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.237
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;color: white;background-color: blue;">
m6:Lasso reg
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: coral;">
0.7675
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: tomato;">
0.4357
</td>
<td style="text-align:left;font-weight: bold;color: white;background-color: #D7261E;">
0.535
</td>
</tr>
</tbody>
</table>
<p>From the comparative study , we found that <em>random forests-tuning parameters</em> performing better than other methods with given set-up. This random forest model is constitued by the 5 top variables based on MeanDecrease Gini , which is an average mean of a variable’s total decrease in node impurity, weighted by the proportion of samples reaching that node in each individual decision tree in the random forest. A higher mean decrease in GIni indicates a higher variable importance. This model shows a good overall accuracy, 0.7833 and the highest performance on AUC and Gini values , i.e 0.7813 and 0.5626, respectively.(Even if its KS value is the third after the one of m4_2 and m1 models). Also, we found that the <em>SVM-vanilladot</em> results to be the second best classifier after m3_2, since to equal overall accuracy value with Logistic regression model m1, it shows higher values of AUC, KS and GINI, i.e 0.7794, 0.4857 and 0.5588, respectively. Finally, comparing m1 and m6 metrics values, at first eye, we could choose logistic regression model as better model.</p>
<p><strong>So, why we prefer Lasso than logistic?</strong> : The output of <code>coef(lasso_model,s=lambda_1se)</code> (see below) shows that 9 out of 12 variables that we had determined to be significant based on the basis of p-values (in m1 model) have non-zero coefficients. The coefficients of other variables have been set to zero by the algorithm. Lasso has reduced the complexity of the fitting function massively. That explained too the effect on the overall accuracy value of m6 , which is a less than what we got with m1. So, we get a similar out-of-sample accuracy (0,7567 m1 vs 0.7267 m6, i.e a difference of only 0.039%) as we did before, and we do so using a way simpler function(9 non-zero coefficients) than the orginal one( 12 non zero coefficients, 15 non zero coefficients if we take into account all predictors in m1,significant or not). What this means is that the simpler function does at least as good a job fitting the signal in the data as the more complicated one. The <a href="http://scott.fortmann-roe.com/docs/BiasVariance.html">bias-variance tradeoff</a> tell us that the simpler function should be preferred because it is less likely to overfit the training data. Read more <a href="https://eight2late.wordpress.com/2017/07/11/a-gentle-introduction-to-logistic-regression-and-lasso-regularisation-using-r/">here</a></p>
<p>Thats why, at the end, after models m3_2 and m4_2, we choose as third best classifier the lasso regression model , m6.</p>
<pre class="r"><code>lambda_1se &lt;- lasso_model$lambda.1se
coef(lasso_model, s=lambda_1se)</code></pre>
<pre class="bg-primary"><code>17 x 1 sparse Matrix of class &quot;dgCMatrix&quot;
                           1
(Intercept)      -0.90543365
(Intercept)       .         
check_acct        0.42029673
credit_hist       0.23474145
Duration         -0.02074873
savings_acct      0.08818443
Purpose           .         
Age               .         
Property         -0.04136937
Amount            .         
present_emp       0.01521461
Housing           .         
other_install     0.12194408
status_sex        0.02845865
ForeignWorker    -0.05414408
other_debt        .         
installment_rate  .         </code></pre>
<blockquote>
<p><strong>5.2.2. <code>Model Performance Comparison - ROC curves</code></strong></p>
</blockquote>
<p>In paragraph 4.2, we already defined and explained what is the Receiver Operating Characteristic (ROC) curve. Here, we drew a model performance comparison based on the ROC curves of selected most accurate models: m1, m2, m3_2, m4_2, m6. We also added the ROC curve of the Neural network model (m5), the least accurate model. The “ROC curves: Model performance comparison” plot confirms our previous analysis.</p>
<pre class="r"><code>#Compare ROC Performance of Models
plot(reg_model.perf, col=&#39;blue&#39;, lty=1, lwd=2, 
main=&#39;ROC curves: Model Performance Comparison&#39;) # logistic regression
plot(dt_perf, col=&#39;green&#39;,lty=2, add=TRUE,lwd=2); #simple decision tree 
plot(rf.best_perf, col=&#39;red&#39;,add=TRUE,lty=3,lwd=2.5); # random forest - tuning parameters
plot(svm.van_perf, col=&#39;Navy&#39;,add=TRUE,lty=4,lwd=2); # SVM, vanilladot
plot(neur.net_perf, col=&#39;gold&#39;,add=TRUE,lty=5,lwd=2); # Neural Network
plot(lasso_model_perf, col=&#39;purple&#39;,add=TRUE,lty=6,lwd=2); # Lasso regression
legend(0.55,0.4,
       c(&#39;m1:Logistic regression&#39;,
         &#39;m2:Decision tree&#39;,
         &#39;m3_2:Random forest- tuning parameters&#39;,
         &quot;m4_2:SVM,vanilladot&quot;, 
         &quot;m5: Neural net&quot;, 
         &quot;m6:Lasso reg&quot;),
       col=c(&quot;blue&quot;,&quot;green&quot;, &quot;red&quot;,&quot;Navy&quot;, &quot;gold&quot;, &quot;purple&quot;),
       lwd=3,cex=0.7,text.font = 4);
lines(c(0,1),c(0,1),col = &quot;Black&quot;, lty = 4 ) # random line</code></pre>
<p><img src="Report_GermanRisk_files/figure-html/unnamed-chunk-119-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br> <br></p>
</div>
</div>
<div id="vi.-conclusions-and-suggestions" class="section level3">
<h3>VI. Conclusions and suggestions</h3>
<p>This German credit risk project has examined the potential best Machine learning algorithm to classify credit worthiness for the 1000 applicants of the <strong>rchallenge</strong> version of german credit data. Using the splitted training set and test set, we successively trained different classifiers algorithms (logistic regression, support vector machines, decision trees, Neural networks, Lasso regression) and predict each fitted model on test set. The model evaluation performance through the overall accuracy, F1-score and balanced accuracy values, and optimization through AUC, KS and GINI values showed that random forest with tuning parameters, support vector machine based on vanilla linear kernel function and lasso regression, are the three appropriate machine learning algorithms to classify at best the credit risk of 1000 applicants to loan.</p>
<p>Future work includes further investigations on Ensemble methods by following the work of Wang et al(2011). In fact, in the latter, a comparative assessment of three popular ensemble methods, i.e. Bagging, Boosting, and Stacking, based on four base learners, i.e., Logistic Regression Analysis (LRA), Decision Tree (DT), Artificial Neural Network (ANN) and Support Vector Machine (SVM) could possibly carried out an overall accuracy greater than 0.8. However, we should precise that these results comes up by combining three datasets : German and Australian credit datasets, which are from UCI machine learning repository, and China credit dataset, which is from Industrial and Commercial Bank of China.</p>
<p>Several future research directions also emerge . Firstly, large datasets for experiments and applications, particularly with more exploration of credit scoring data structures, should be collected to further valid the conclusions of our study. Secondly, further analyses are encouraged to explore the reasons why the Neural Network model has the worst performance for all accuracy metrics.</p>
<p><br> <br></p>
</div>
<div id="references" class="section level3">
<h3>References</h3>
<p><br></p>
<ul>
<li><p>Ha, V. S., &amp; Nguyen, H. N. (2016). Credit scoring with a feature selection approach based deep learning. In MATEC Web of Conferences (Vol. 54, p. 05004). EDP Sciences.</p></li>
<li><p>Aggarwal, C. C. (Ed.). (2014). Data classification: algorithms and applications. CRC press.</p></li>
<li><p>Wang, G., Hao, J., Ma, J., &amp; Jiang, H. (2011). A comparative assessment of ensemble learning for credit scoring. Expert systems with applications, 38(1), 223-230.</p></li>
<li><p>Therneau, T. M., &amp; Atkinson, E. J. (2018). An Introduction to Recursive Partitioning Using the RPART Routines.</p></li>
<li><p>Vapnik, V. (1998). The nature of statistical learning theory. Springer science &amp; business media.</p></li>
<li><p>Karatzoglou, A., Meyer, D., &amp; Hornik, K. (2005). Support vector machines in R.</p></li>
<li><p>Chang, C. C., &amp; Lin, C. J. (2011). LIBSVM: A library for support vector machines. ACM transactions on intelligent systems and technology (TIST), 2(3), 27.</p></li>
<li><p>Meyer, D., &amp; Wien, F. T. (2015). Support vector machines. The Interface to libsvm in package e1071, 28.</p></li>
<li><p>Cortes, C. &amp; Vapnik, V. (1995). Support-vector network. Machine Learning, 20, 1â€“25.</p></li>
<li><p>Ripley, B., Venables, W., &amp; Ripley, M. B. (2016). Package â€˜nnetâ€™. R package version, 7, 3-12.</p></li>
<li><p>Soni, A. K., &amp; Abdullahi, A. U. (2015). Using neural networks for credit scoring. Int. J. Sci. Technol. Manag, 4.</p></li>
<li><p>Liu, Y. (2002). The evaluation of classification models for credit scoring. Institut fÃ¼r Wirtschaftsinformatik, Georg-August-Universitat GÃ¶ttingen.</p></li>
<li><p>Bock, H. H. (2001). Construction and Assessment of Classification Rules. David J. Hand, Wiley, Chichester, 1997. No. of pages: xii+ 214. Price:Â£ 34.95. ISBN 0â€471â€96583â€9. Statistics in Medicine, 20(2), 326-327.</p></li>
<li><p>Sivakumar,S.,2015,German credit Data Analysis,github page, <a href="http://srisai85.github.io/GermanCredit/German.html" class="uri">http://srisai85.github.io/GermanCredit/German.html</a></p></li>
<li><p>Liaw A, Wiener M (2002). â€œClassification and Regression by randomForest.â€ R News, 2(3),18â€“22. URL <a href="http://CRAN.R-project.org/doc/Rnews/" class="uri">http://CRAN.R-project.org/doc/Rnews/</a>.</p></li>
<li><p>Kursa, M. B., &amp; Rudnicki, W. R. (2010). Feature selection with the Boruta package. J Stat Softw, 36(11), 1-13.</p></li>
<li><p>Siddiqi, Naeem (2006). Credit Risk Scorecards: Developing and Implementing Intelligent Credit Scoring. SAS Institute, pp 79-83.</p></li>
<li><p>Therneau, T. M., &amp; Atkinson, E. J. (2018). An Introduction to Recursive Partitioning Using the RPART Routines.</p></li>
<li><p>Hand, David J.; and Till, Robert J. (2001); A simple generalization of the area under the ROC curve for multiple class classification problems, Machine Learning, 45, 171â€“186.</p></li>
<li><p>Hand, D. J., &amp; Henley, W. E. (1997). Statistical classification methods in consumer credit scoring: a review. Journal of the Royal Statistical Society: Series A (Statistics in Society), 160(3), 523-541.</p></li>
<li><p>Tibshirani, R. (1996). Regression shrinkage and selection via the lasso. Journal of the Royal Statistical Society: Series B (Methodological), 58(1), 267-288.</p></li>
<li><p>Massey Jr, F. J. (1951). The Kolmogorov-Smirnov test for goodness of fit. Journal of the American statistical Association, 46(253), 68-78.</p></li>
<li><p>GÃ¼nther, F., &amp; Fritsch, S. (2010). neuralnet: Training of neural networks. The R journal, 2(1), 30-38.</p></li>
<li><p>Beck, M. W. (2018). NeuralNetTools: Visualization and analysis tools for neural networks. Journal of statistical software, 85(11), 1.</p></li>
<li><p>Soni, A. K., &amp; Abdullahi, A. U. (2015). Using neural networks for credit scoring. Int. J. Sci. Technol. Manag, 4.</p></li>
</ul>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
